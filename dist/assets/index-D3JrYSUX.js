(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const f of a)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function l(a){const f={};return a.integrity&&(f.integrity=a.integrity),a.referrerPolicy&&(f.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?f.credentials="include":a.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(a){if(a.ep)return;a.ep=!0;const f=l(a);fetch(a.href,f)}})();function Ng(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ju={exports:{}},$o={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ih;function U0(){if(Ih)return $o;Ih=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function l(o,a,f){var m=null;if(f!==void 0&&(m=""+f),a.key!==void 0&&(m=""+a.key),"key"in a){f={};for(var h in a)h!=="key"&&(f[h]=a[h])}else f=a;return a=f.ref,{$$typeof:n,type:o,key:m,ref:a!==void 0?a:null,props:f}}return $o.Fragment=e,$o.jsx=l,$o.jsxs=l,$o}var Uh;function k0(){return Uh||(Uh=1,ju.exports=U0()),ju.exports}var v=k0(),Qu={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kh;function L0(){if(kh)return be;kh=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.iterator;function _(b){return b===null||typeof b!="object"?null:(b=C&&b[C]||b["@@iterator"],typeof b=="function"?b:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,q={};function G(b,R,Y){this.props=b,this.context=R,this.refs=q,this.updater=Y||M}G.prototype.isReactComponent={},G.prototype.setState=function(b,R){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,R,"setState")},G.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function Z(){}Z.prototype=G.prototype;function H(b,R,Y){this.props=b,this.context=R,this.refs=q,this.updater=Y||M}var $=H.prototype=new Z;$.constructor=H,D($,G.prototype),$.isPureReactComponent=!0;var X=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},ae=Object.prototype.hasOwnProperty;function ne(b,R,Y,Q,W,de){return Y=de.ref,{$$typeof:n,type:b,key:R,ref:Y!==void 0?Y:null,props:de}}function O(b,R){return ne(b.type,R,void 0,void 0,void 0,b.props)}function j(b){return typeof b=="object"&&b!==null&&b.$$typeof===n}function ie(b){var R={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(Y){return R[Y]})}var le=/\/+/g;function ue(b,R){return typeof b=="object"&&b!==null&&b.key!=null?ie(""+b.key):R.toString(36)}function Me(){}function Ne(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(Me,Me):(b.status="pending",b.then(function(R){b.status==="pending"&&(b.status="fulfilled",b.value=R)},function(R){b.status==="pending"&&(b.status="rejected",b.reason=R)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function ge(b,R,Y,Q,W){var de=typeof b;(de==="undefined"||de==="boolean")&&(b=null);var ee=!1;if(b===null)ee=!0;else switch(de){case"bigint":case"string":case"number":ee=!0;break;case"object":switch(b.$$typeof){case n:case e:ee=!0;break;case x:return ee=b._init,ge(ee(b._payload),R,Y,Q,W)}}if(ee)return W=W(b),ee=Q===""?"."+ue(b,0):Q,X(W)?(Y="",ee!=null&&(Y=ee.replace(le,"$&/")+"/"),ge(W,R,Y,"",function(Vt){return Vt})):W!=null&&(j(W)&&(W=O(W,Y+(W.key==null||b&&b.key===W.key?"":(""+W.key).replace(le,"$&/")+"/")+ee)),R.push(W)),1;ee=0;var Ce=Q===""?".":Q+":";if(X(b))for(var Ue=0;Ue<b.length;Ue++)Q=b[Ue],de=Ce+ue(Q,Ue),ee+=ge(Q,R,Y,de,W);else if(Ue=_(b),typeof Ue=="function")for(b=Ue.call(b),Ue=0;!(Q=b.next()).done;)Q=Q.value,de=Ce+ue(Q,Ue++),ee+=ge(Q,R,Y,de,W);else if(de==="object"){if(typeof b.then=="function")return ge(Ne(b),R,Y,Q,W);throw R=String(b),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return ee}function A(b,R,Y){if(b==null)return b;var Q=[],W=0;return ge(b,Q,"","",function(de){return R.call(Y,de,W++)}),Q}function K(b){if(b._status===-1){var R=b._result;R=R(),R.then(function(Y){(b._status===0||b._status===-1)&&(b._status=1,b._result=Y)},function(Y){(b._status===0||b._status===-1)&&(b._status=2,b._result=Y)}),b._status===-1&&(b._status=0,b._result=R)}if(b._status===1)return b._result.default;throw b._result}var oe=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)};function V(){}return be.Children={map:A,forEach:function(b,R,Y){A(b,function(){R.apply(this,arguments)},Y)},count:function(b){var R=0;return A(b,function(){R++}),R},toArray:function(b){return A(b,function(R){return R})||[]},only:function(b){if(!j(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},be.Component=G,be.Fragment=l,be.Profiler=a,be.PureComponent=H,be.StrictMode=o,be.Suspense=y,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,be.__COMPILER_RUNTIME={__proto__:null,c:function(b){return J.H.useMemoCache(b)}},be.cache=function(b){return function(){return b.apply(null,arguments)}},be.cloneElement=function(b,R,Y){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var Q=D({},b.props),W=b.key,de=void 0;if(R!=null)for(ee in R.ref!==void 0&&(de=void 0),R.key!==void 0&&(W=""+R.key),R)!ae.call(R,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&R.ref===void 0||(Q[ee]=R[ee]);var ee=arguments.length-2;if(ee===1)Q.children=Y;else if(1<ee){for(var Ce=Array(ee),Ue=0;Ue<ee;Ue++)Ce[Ue]=arguments[Ue+2];Q.children=Ce}return ne(b.type,W,void 0,void 0,de,Q)},be.createContext=function(b){return b={$$typeof:m,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:f,_context:b},b},be.createElement=function(b,R,Y){var Q,W={},de=null;if(R!=null)for(Q in R.key!==void 0&&(de=""+R.key),R)ae.call(R,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(W[Q]=R[Q]);var ee=arguments.length-2;if(ee===1)W.children=Y;else if(1<ee){for(var Ce=Array(ee),Ue=0;Ue<ee;Ue++)Ce[Ue]=arguments[Ue+2];W.children=Ce}if(b&&b.defaultProps)for(Q in ee=b.defaultProps,ee)W[Q]===void 0&&(W[Q]=ee[Q]);return ne(b,de,void 0,void 0,null,W)},be.createRef=function(){return{current:null}},be.forwardRef=function(b){return{$$typeof:h,render:b}},be.isValidElement=j,be.lazy=function(b){return{$$typeof:x,_payload:{_status:-1,_result:b},_init:K}},be.memo=function(b,R){return{$$typeof:p,type:b,compare:R===void 0?null:R}},be.startTransition=function(b){var R=J.T,Y={};J.T=Y;try{var Q=b(),W=J.S;W!==null&&W(Y,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(V,oe)}catch(de){oe(de)}finally{J.T=R}},be.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},be.use=function(b){return J.H.use(b)},be.useActionState=function(b,R,Y){return J.H.useActionState(b,R,Y)},be.useCallback=function(b,R){return J.H.useCallback(b,R)},be.useContext=function(b){return J.H.useContext(b)},be.useDebugValue=function(){},be.useDeferredValue=function(b,R){return J.H.useDeferredValue(b,R)},be.useEffect=function(b,R,Y){var Q=J.H;if(typeof Y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(b,R)},be.useId=function(){return J.H.useId()},be.useImperativeHandle=function(b,R,Y){return J.H.useImperativeHandle(b,R,Y)},be.useInsertionEffect=function(b,R){return J.H.useInsertionEffect(b,R)},be.useLayoutEffect=function(b,R){return J.H.useLayoutEffect(b,R)},be.useMemo=function(b,R){return J.H.useMemo(b,R)},be.useOptimistic=function(b,R){return J.H.useOptimistic(b,R)},be.useReducer=function(b,R,Y){return J.H.useReducer(b,R,Y)},be.useRef=function(b){return J.H.useRef(b)},be.useState=function(b){return J.H.useState(b)},be.useSyncExternalStore=function(b,R,Y){return J.H.useSyncExternalStore(b,R,Y)},be.useTransition=function(){return J.H.useTransition()},be.version="19.1.0",be}var Lh;function Lc(){return Lh||(Lh=1,Qu.exports=L0()),Qu.exports}var L=Lc();const V0=Ng(L);var Xu={exports:{}},Ko={},Wu={exports:{}},ec={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh;function P0(){return Vh||(Vh=1,function(n){function e(A,K){var oe=A.length;A.push(K);e:for(;0<oe;){var V=oe-1>>>1,b=A[V];if(0<a(b,K))A[V]=K,A[oe]=b,oe=V;else break e}}function l(A){return A.length===0?null:A[0]}function o(A){if(A.length===0)return null;var K=A[0],oe=A.pop();if(oe!==K){A[0]=oe;e:for(var V=0,b=A.length,R=b>>>1;V<R;){var Y=2*(V+1)-1,Q=A[Y],W=Y+1,de=A[W];if(0>a(Q,oe))W<b&&0>a(de,Q)?(A[V]=de,A[W]=oe,V=W):(A[V]=Q,A[Y]=oe,V=Y);else if(W<b&&0>a(de,oe))A[V]=de,A[W]=oe,V=W;else break e}}return K}function a(A,K){var oe=A.sortIndex-K.sortIndex;return oe!==0?oe:A.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var m=Date,h=m.now();n.unstable_now=function(){return m.now()-h}}var y=[],p=[],x=1,C=null,_=3,M=!1,D=!1,q=!1,G=!1,Z=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function X(A){for(var K=l(p);K!==null;){if(K.callback===null)o(p);else if(K.startTime<=A)o(p),K.sortIndex=K.expirationTime,e(y,K);else break;K=l(p)}}function J(A){if(q=!1,X(A),!D)if(l(y)!==null)D=!0,ae||(ae=!0,ue());else{var K=l(p);K!==null&&ge(J,K.startTime-A)}}var ae=!1,ne=-1,O=5,j=-1;function ie(){return G?!0:!(n.unstable_now()-j<O)}function le(){if(G=!1,ae){var A=n.unstable_now();j=A;var K=!0;try{e:{D=!1,q&&(q=!1,H(ne),ne=-1),M=!0;var oe=_;try{t:{for(X(A),C=l(y);C!==null&&!(C.expirationTime>A&&ie());){var V=C.callback;if(typeof V=="function"){C.callback=null,_=C.priorityLevel;var b=V(C.expirationTime<=A);if(A=n.unstable_now(),typeof b=="function"){C.callback=b,X(A),K=!0;break t}C===l(y)&&o(y),X(A)}else o(y);C=l(y)}if(C!==null)K=!0;else{var R=l(p);R!==null&&ge(J,R.startTime-A),K=!1}}break e}finally{C=null,_=oe,M=!1}K=void 0}}finally{K?ue():ae=!1}}}var ue;if(typeof $=="function")ue=function(){$(le)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,Ne=Me.port2;Me.port1.onmessage=le,ue=function(){Ne.postMessage(null)}}else ue=function(){Z(le,0)};function ge(A,K){ne=Z(function(){A(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(A){A.callback=null},n.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<A?Math.floor(1e3/A):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(A){switch(_){case 1:case 2:case 3:var K=3;break;default:K=_}var oe=_;_=K;try{return A()}finally{_=oe}},n.unstable_requestPaint=function(){G=!0},n.unstable_runWithPriority=function(A,K){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var oe=_;_=A;try{return K()}finally{_=oe}},n.unstable_scheduleCallback=function(A,K,oe){var V=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?V+oe:V):oe=V,A){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=oe+b,A={id:x++,callback:K,priorityLevel:A,startTime:oe,expirationTime:b,sortIndex:-1},oe>V?(A.sortIndex=oe,e(p,A),l(y)===null&&A===l(p)&&(q?(H(ne),ne=-1):q=!0,ge(J,oe-V))):(A.sortIndex=b,e(y,A),D||M||(D=!0,ae||(ae=!0,ue()))),A},n.unstable_shouldYield=ie,n.unstable_wrapCallback=function(A){var K=_;return function(){var oe=_;_=K;try{return A.apply(this,arguments)}finally{_=oe}}}}(ec)),ec}var Ph;function q0(){return Ph||(Ph=1,Wu.exports=P0()),Wu.exports}var tc={exports:{}},Ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qh;function G0(){if(qh)return Ct;qh=1;var n=Lc();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var o={d:{f:l,r:function(){throw Error(e(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},a=Symbol.for("react.portal");function f(y,p,x){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:C==null?null:""+C,children:y,containerInfo:p,implementation:x}}var m=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Ct.createPortal=function(y,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return f(y,p,null,x)},Ct.flushSync=function(y){var p=m.T,x=o.p;try{if(m.T=null,o.p=2,y)return y()}finally{m.T=p,o.p=x,o.d.f()}},Ct.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(y,p))},Ct.prefetchDNS=function(y){typeof y=="string"&&o.d.D(y)},Ct.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var x=p.as,C=h(x,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,M=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?o.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:C,integrity:_,fetchPriority:M}):x==="script"&&o.d.X(y,{crossOrigin:C,integrity:_,fetchPriority:M,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ct.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=h(p.as,p.crossOrigin);o.d.M(y,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(y)},Ct.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,C=h(x,p.crossOrigin);o.d.L(y,x,{crossOrigin:C,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ct.preloadModule=function(y,p){if(typeof y=="string")if(p){var x=h(p.as,p.crossOrigin);o.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(y)},Ct.requestFormReset=function(y){o.d.r(y)},Ct.unstable_batchedUpdates=function(y,p){return y(p)},Ct.useFormState=function(y,p,x){return m.H.useFormState(y,p,x)},Ct.useFormStatus=function(){return m.H.useHostTransitionStatus()},Ct.version="19.1.0",Ct}var Gh;function B0(){if(Gh)return tc.exports;Gh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),tc.exports=G0(),tc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bh;function O0(){if(Bh)return Ko;Bh=1;var n=q0(),e=Lc(),l=B0();function o(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function m(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function h(t){if(f(t)!==t)throw Error(o(188))}function y(t){var i=t.alternate;if(!i){if(i=f(t),i===null)throw Error(o(188));return i!==t?null:t}for(var s=t,c=i;;){var d=s.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){s=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===s)return h(d),t;if(g===c)return h(d),i;g=g.sibling}throw Error(o(188))}if(s.return!==c.return)s=d,c=g;else{for(var T=!1,S=d.child;S;){if(S===s){T=!0,s=d,c=g;break}if(S===c){T=!0,c=d,s=g;break}S=S.sibling}if(!T){for(S=g.child;S;){if(S===s){T=!0,s=g,c=d;break}if(S===c){T=!0,c=g,s=d;break}S=S.sibling}if(!T)throw Error(o(189))}}if(s.alternate!==c)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var x=Object.assign,C=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),$=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function ue(t){return t===null||typeof t!="object"?null:(t=le&&t[le]||t["@@iterator"],typeof t=="function"?t:null)}var Me=Symbol.for("react.client.reference");function Ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Me?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case G:return"Profiler";case q:return"StrictMode";case J:return"Suspense";case ae:return"SuspenseList";case j:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case $:return(t.displayName||"Context")+".Provider";case H:return(t._context.displayName||"Context")+".Consumer";case X:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ne:return i=t.displayName||null,i!==null?i:Ne(t.type)||"Memo";case O:i=t._payload,t=t._init;try{return Ne(t(i))}catch{}}return null}var ge=Array.isArray,A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},V=[],b=-1;function R(t){return{current:t}}function Y(t){0>b||(t.current=V[b],V[b]=null,b--)}function Q(t,i){b++,V[b]=t.current,t.current=i}var W=R(null),de=R(null),ee=R(null),Ce=R(null);function Ue(t,i){switch(Q(ee,i),Q(de,t),Q(W,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?sh(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=sh(i),t=ah(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(W),Q(W,t)}function Vt(){Y(W),Y(de),Y(ee)}function gi(t){t.memoizedState!==null&&Q(Ce,t);var i=W.current,s=ah(i,t.type);i!==s&&(Q(de,t),Q(W,s))}function Te(t){de.current===t&&(Y(W),Y(de)),Ce.current===t&&(Y(Ce),Ho._currentValue=oe)}var mt=Object.prototype.hasOwnProperty,rt=n.unstable_scheduleCallback,rn=n.unstable_cancelCallback,Yi=n.unstable_shouldYield,jl=n.unstable_requestPaint,_t=n.unstable_now,Bn=n.unstable_getCurrentPriorityLevel,ln=n.unstable_ImmediatePriority,se=n.unstable_UserBlockingPriority,qe=n.unstable_NormalPriority,yt=n.unstable_LowPriority,Ye=n.unstable_IdlePriority,vn=n.log,On=n.unstable_setDisableYieldValue,vt=null,ot=null;function Jt(t){if(typeof vn=="function"&&On(t),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(vt,t)}catch{}}var Pt=Math.clz32?Math.clz32:xy,yy=Math.log,vy=Math.LN2;function xy(t){return t>>>=0,t===0?32:31-(yy(t)/vy|0)|0}var os=256,ss=4194304;function yi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function as(t,i,s){var c=t.pendingLanes;if(c===0)return 0;var d=0,g=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var S=c&134217727;return S!==0?(c=S&~g,c!==0?d=yi(c):(T&=S,T!==0?d=yi(T):s||(s=S&~t,s!==0&&(d=yi(s))))):(S=c&~g,S!==0?d=yi(S):T!==0?d=yi(T):s||(s=c&~t,s!==0&&(d=yi(s)))),d===0?0:i!==0&&i!==d&&(i&g)===0&&(g=d&-d,s=i&-i,g>=s||g===32&&(s&4194048)!==0)?i:d}function Ql(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ty(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zc(){var t=os;return os<<=1,(os&4194048)===0&&(os=256),t}function Hc(){var t=ss;return ss<<=1,(ss&62914560)===0&&(ss=4194304),t}function Ga(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function Xl(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Cy(t,i,s,c,d,g){var T=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var S=t.entanglements,E=t.expirationTimes,U=t.hiddenUpdates;for(s=T&~s;0<s;){var B=31-Pt(s),F=1<<B;S[B]=0,E[B]=-1;var k=U[B];if(k!==null)for(U[B]=null,B=0;B<k.length;B++){var P=k[B];P!==null&&(P.lane&=-536870913)}s&=~F}c!==0&&Fc(t,c,0),g!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=g&~(T&~i))}function Fc(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var c=31-Pt(i);t.entangledLanes|=i,t.entanglements[c]=t.entanglements[c]|1073741824|s&4194090}function Jc(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var c=31-Pt(s),d=1<<c;d&i|t[c]&i&&(t[c]|=i),s&=~d}}function Ba(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Oa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Yc(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:Ah(t.type))}function Sy(t,i){var s=K.p;try{return K.p=t,i()}finally{K.p=s}}var zn=Math.random().toString(36).slice(2),xt="__reactFiber$"+zn,Nt="__reactProps$"+zn,Zi="__reactContainer$"+zn,za="__reactEvents$"+zn,_y="__reactListeners$"+zn,by="__reactHandles$"+zn,Zc="__reactResources$"+zn,Wl="__reactMarker$"+zn;function Ha(t){delete t[xt],delete t[Nt],delete t[za],delete t[_y],delete t[by]}function $i(t){var i=t[xt];if(i)return i;for(var s=t.parentNode;s;){if(i=s[Zi]||s[xt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=fh(t);t!==null;){if(s=t[xt])return s;t=fh(t)}return i}t=s,s=t.parentNode}return null}function Ki(t){if(t=t[xt]||t[Zi]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function eo(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(o(33))}function ji(t){var i=t[Zc];return i||(i=t[Zc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ut(t){t[Wl]=!0}var $c=new Set,Kc={};function vi(t,i){Qi(t,i),Qi(t+"Capture",i)}function Qi(t,i){for(Kc[t]=i,t=0;t<i.length;t++)$c.add(i[t])}var Ey=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jc={},Qc={};function Ay(t){return mt.call(Qc,t)?!0:mt.call(jc,t)?!1:Ey.test(t)?Qc[t]=!0:(jc[t]=!0,!1)}function rs(t,i,s){if(Ay(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function us(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function xn(t,i,s,c){if(c===null)t.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+c)}}var Fa,Xc;function Xi(t){if(Fa===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Fa=i&&i[1]||"",Xc=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fa+t+Xc}var Ja=!1;function Ya(t,i){if(!t||Ja)return"";Ja=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(P){var k=P}Reflect.construct(t,[],F)}else{try{F.call()}catch(P){k=P}t.call(F.prototype)}}else{try{throw Error()}catch(P){k=P}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(P){if(P&&k&&typeof P.stack=="string")return[P.stack,k.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],S=g[1];if(T&&S){var E=T.split(`
`),U=S.split(`
`);for(d=c=0;c<E.length&&!E[c].includes("DetermineComponentFrameRoot");)c++;for(;d<U.length&&!U[d].includes("DetermineComponentFrameRoot");)d++;if(c===E.length||d===U.length)for(c=E.length-1,d=U.length-1;1<=c&&0<=d&&E[c]!==U[d];)d--;for(;1<=c&&0<=d;c--,d--)if(E[c]!==U[d]){if(c!==1||d!==1)do if(c--,d--,0>d||E[c]!==U[d]){var B=`
`+E[c].replace(" at new "," at ");return t.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",t.displayName)),B}while(1<=c&&0<=d);break}}}finally{Ja=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Xi(s):""}function wy(t){switch(t.tag){case 26:case 27:case 5:return Xi(t.type);case 16:return Xi("Lazy");case 13:return Xi("Suspense");case 19:return Xi("SuspenseList");case 0:case 15:return Ya(t.type,!1);case 11:return Ya(t.type.render,!1);case 1:return Ya(t.type,!0);case 31:return Xi("Activity");default:return""}}function Wc(t){try{var i="";do i+=wy(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Yt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ef(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function My(t){var i=ef(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),c=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,g=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(T){c=""+T,g.call(this,T)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function cs(t){t._valueTracker||(t._valueTracker=My(t))}function tf(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),c="";return t&&(c=ef(t)?t.checked?"true":"false":t.value),t=c,t!==s?(i.setValue(t),!0):!1}function fs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ny=/[\n"\\]/g;function Zt(t){return t.replace(Ny,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Za(t,i,s,c,d,g,T,S){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Yt(i)):t.value!==""+Yt(i)&&(t.value=""+Yt(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?$a(t,T,Yt(i)):s!=null?$a(t,T,Yt(s)):c!=null&&t.removeAttribute("value"),d==null&&g!=null&&(t.defaultChecked=!!g),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Yt(S):t.removeAttribute("name")}function nf(t,i,s,c,d,g,T,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),i!=null||s!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;s=s!=null?""+Yt(s):"",i=i!=null?""+Yt(i):s,S||i===t.value||(t.value=i),t.defaultValue=i}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=S?t.checked:!!c,t.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function $a(t,i,s){i==="number"&&fs(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Wi(t,i,s,c){if(t=t.options,i){i={};for(var d=0;d<s.length;d++)i["$"+s[d]]=!0;for(s=0;s<t.length;s++)d=i.hasOwnProperty("$"+t[s].value),t[s].selected!==d&&(t[s].selected=d),d&&c&&(t[s].defaultSelected=!0)}else{for(s=""+Yt(s),i=null,d=0;d<t.length;d++){if(t[d].value===s){t[d].selected=!0,c&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function lf(t,i,s){if(i!=null&&(i=""+Yt(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+Yt(s):""}function of(t,i,s,c){if(i==null){if(c!=null){if(s!=null)throw Error(o(92));if(ge(c)){if(1<c.length)throw Error(o(93));c=c[0]}s=c}s==null&&(s=""),i=s}s=Yt(i),t.defaultValue=s,c=t.textContent,c===s&&c!==""&&c!==null&&(t.value=c)}function el(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var Ry=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sf(t,i,s){var c=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?c?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":c?t.setProperty(i,s):typeof s!="number"||s===0||Ry.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function af(t,i,s){if(i!=null&&typeof i!="object")throw Error(o(62));if(t=t.style,s!=null){for(var c in s)!s.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var d in i)c=i[d],i.hasOwnProperty(d)&&s[d]!==c&&sf(t,d,c)}else for(var g in i)i.hasOwnProperty(g)&&sf(t,g,i[g])}function Ka(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Iy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ds(t){return Iy.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ja=null;function Qa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tl=null,nl=null;function rf(t){var i=Ki(t);if(i&&(t=i.stateNode)){var s=t[Nt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Za(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Zt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var c=s[i];if(c!==t&&c.form===t.form){var d=c[Nt]||null;if(!d)throw Error(o(90));Za(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<s.length;i++)c=s[i],c.form===t.form&&tf(c)}break e;case"textarea":lf(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Wi(t,!!s.multiple,i,!1)}}}var Xa=!1;function uf(t,i,s){if(Xa)return t(i,s);Xa=!0;try{var c=t(i);return c}finally{if(Xa=!1,(tl!==null||nl!==null)&&(Qs(),tl&&(i=tl,t=nl,nl=tl=null,rf(i),t)))for(i=0;i<t.length;i++)rf(t[i])}}function to(t,i){var s=t.stateNode;if(s===null)return null;var c=s[Nt]||null;if(c===null)return null;s=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(o(231,i,typeof s));return s}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wa=!1;if(Tn)try{var no={};Object.defineProperty(no,"passive",{get:function(){Wa=!0}}),window.addEventListener("test",no,no),window.removeEventListener("test",no,no)}catch{Wa=!1}var Hn=null,er=null,ms=null;function cf(){if(ms)return ms;var t,i=er,s=i.length,c,d="value"in Hn?Hn.value:Hn.textContent,g=d.length;for(t=0;t<s&&i[t]===d[t];t++);var T=s-t;for(c=1;c<=T&&i[s-c]===d[g-c];c++);return ms=d.slice(t,1<c?1-c:void 0)}function hs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ps(){return!0}function ff(){return!1}function Rt(t){function i(s,c,d,g,T){this._reactName=s,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(s=t[S],this[S]=s?s(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ps:ff,this.isPropagationStopped=ff,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),i}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gs=Rt(xi),io=x({},xi,{view:0,detail:0}),Uy=Rt(io),tr,nr,lo,ys=x({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==lo&&(lo&&t.type==="mousemove"?(tr=t.screenX-lo.screenX,nr=t.screenY-lo.screenY):nr=tr=0,lo=t),tr)},movementY:function(t){return"movementY"in t?t.movementY:nr}}),df=Rt(ys),ky=x({},ys,{dataTransfer:0}),Ly=Rt(ky),Vy=x({},io,{relatedTarget:0}),ir=Rt(Vy),Py=x({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),qy=Rt(Py),Gy=x({},xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),By=Rt(Gy),Oy=x({},xi,{data:0}),mf=Rt(Oy),zy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jy(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Fy[t])?!!i[t]:!1}function lr(){return Jy}var Yy=x({},io,{key:function(t){if(t.key){var i=zy[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=hs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lr,charCode:function(t){return t.type==="keypress"?hs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zy=Rt(Yy),$y=x({},ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hf=Rt($y),Ky=x({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lr}),jy=Rt(Ky),Qy=x({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xy=Rt(Qy),Wy=x({},ys,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ev=Rt(Wy),tv=x({},xi,{newState:0,oldState:0}),nv=Rt(tv),iv=[9,13,27,32],or=Tn&&"CompositionEvent"in window,oo=null;Tn&&"documentMode"in document&&(oo=document.documentMode);var lv=Tn&&"TextEvent"in window&&!oo,pf=Tn&&(!or||oo&&8<oo&&11>=oo),gf=" ",yf=!1;function vf(t,i){switch(t){case"keyup":return iv.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var il=!1;function ov(t,i){switch(t){case"compositionend":return xf(i);case"keypress":return i.which!==32?null:(yf=!0,gf);case"textInput":return t=i.data,t===gf&&yf?null:t;default:return null}}function sv(t,i){if(il)return t==="compositionend"||!or&&vf(t,i)?(t=cf(),ms=er=Hn=null,il=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return pf&&i.locale!=="ko"?null:i.data;default:return null}}var av={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!av[t.type]:i==="textarea"}function Cf(t,i,s,c){tl?nl?nl.push(c):nl=[c]:tl=c,i=ia(i,"onChange"),0<i.length&&(s=new gs("onChange","change",null,s,c),t.push({event:s,listeners:i}))}var so=null,ao=null;function rv(t){th(t,0)}function vs(t){var i=eo(t);if(tf(i))return t}function Sf(t,i){if(t==="change")return i}var _f=!1;if(Tn){var sr;if(Tn){var ar="oninput"in document;if(!ar){var bf=document.createElement("div");bf.setAttribute("oninput","return;"),ar=typeof bf.oninput=="function"}sr=ar}else sr=!1;_f=sr&&(!document.documentMode||9<document.documentMode)}function Ef(){so&&(so.detachEvent("onpropertychange",Af),ao=so=null)}function Af(t){if(t.propertyName==="value"&&vs(ao)){var i=[];Cf(i,ao,t,Qa(t)),uf(rv,i)}}function uv(t,i,s){t==="focusin"?(Ef(),so=i,ao=s,so.attachEvent("onpropertychange",Af)):t==="focusout"&&Ef()}function cv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vs(ao)}function fv(t,i){if(t==="click")return vs(i)}function dv(t,i){if(t==="input"||t==="change")return vs(i)}function mv(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var qt=typeof Object.is=="function"?Object.is:mv;function ro(t,i){if(qt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),c=Object.keys(i);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var d=s[c];if(!mt.call(i,d)||!qt(t[d],i[d]))return!1}return!0}function wf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mf(t,i){var s=wf(t);t=0;for(var c;s;){if(s.nodeType===3){if(c=t+s.textContent.length,t<=i&&c>=i)return{node:s,offset:i-t};t=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=wf(s)}}function Nf(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Nf(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Rf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=fs(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=fs(t.document)}return i}function rr(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var hv=Tn&&"documentMode"in document&&11>=document.documentMode,ll=null,ur=null,uo=null,cr=!1;function Df(t,i,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;cr||ll==null||ll!==fs(c)||(c=ll,"selectionStart"in c&&rr(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),uo&&ro(uo,c)||(uo=c,c=ia(ur,"onSelect"),0<c.length&&(i=new gs("onSelect","select",null,i,s),t.push({event:i,listeners:c}),i.target=ll)))}function Ti(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var ol={animationend:Ti("Animation","AnimationEnd"),animationiteration:Ti("Animation","AnimationIteration"),animationstart:Ti("Animation","AnimationStart"),transitionrun:Ti("Transition","TransitionRun"),transitionstart:Ti("Transition","TransitionStart"),transitioncancel:Ti("Transition","TransitionCancel"),transitionend:Ti("Transition","TransitionEnd")},fr={},If={};Tn&&(If=document.createElement("div").style,"AnimationEvent"in window||(delete ol.animationend.animation,delete ol.animationiteration.animation,delete ol.animationstart.animation),"TransitionEvent"in window||delete ol.transitionend.transition);function Ci(t){if(fr[t])return fr[t];if(!ol[t])return t;var i=ol[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in If)return fr[t]=i[s];return t}var Uf=Ci("animationend"),kf=Ci("animationiteration"),Lf=Ci("animationstart"),pv=Ci("transitionrun"),gv=Ci("transitionstart"),yv=Ci("transitioncancel"),Vf=Ci("transitionend"),Pf=new Map,dr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dr.push("scrollEnd");function on(t,i){Pf.set(t,i),vi(i,[t])}var qf=new WeakMap;function $t(t,i){if(typeof t=="object"&&t!==null){var s=qf.get(t);return s!==void 0?s:(i={value:t,source:i,stack:Wc(i)},qf.set(t,i),i)}return{value:t,source:i,stack:Wc(i)}}var Kt=[],sl=0,mr=0;function xs(){for(var t=sl,i=mr=sl=0;i<t;){var s=Kt[i];Kt[i++]=null;var c=Kt[i];Kt[i++]=null;var d=Kt[i];Kt[i++]=null;var g=Kt[i];if(Kt[i++]=null,c!==null&&d!==null){var T=c.pending;T===null?d.next=d:(d.next=T.next,T.next=d),c.pending=d}g!==0&&Gf(s,d,g)}}function Ts(t,i,s,c){Kt[sl++]=t,Kt[sl++]=i,Kt[sl++]=s,Kt[sl++]=c,mr|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function hr(t,i,s,c){return Ts(t,i,s,c),Cs(t)}function al(t,i){return Ts(t,null,null,i),Cs(t)}function Gf(t,i,s){t.lanes|=s;var c=t.alternate;c!==null&&(c.lanes|=s);for(var d=!1,g=t.return;g!==null;)g.childLanes|=s,c=g.alternate,c!==null&&(c.childLanes|=s),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(d=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,d&&i!==null&&(d=31-Pt(s),t=g.hiddenUpdates,c=t[d],c===null?t[d]=[i]:c.push(i),i.lane=s|536870912),g):null}function Cs(t){if(50<Lo)throw Lo=0,Tu=null,Error(o(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var rl={};function vv(t,i,s,c){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(t,i,s,c){return new vv(t,i,s,c)}function pr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Cn(t,i){var s=t.alternate;return s===null?(s=Gt(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Bf(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ss(t,i,s,c,d,g){var T=0;if(c=t,typeof t=="function")pr(t)&&(T=1);else if(typeof t=="string")T=T0(t,s,W.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case j:return t=Gt(31,s,i,d),t.elementType=j,t.lanes=g,t;case D:return Si(s.children,d,g,i);case q:T=8,d|=24;break;case G:return t=Gt(12,s,i,d|2),t.elementType=G,t.lanes=g,t;case J:return t=Gt(13,s,i,d),t.elementType=J,t.lanes=g,t;case ae:return t=Gt(19,s,i,d),t.elementType=ae,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z:case $:T=10;break e;case H:T=9;break e;case X:T=11;break e;case ne:T=14;break e;case O:T=16,c=null;break e}T=29,s=Error(o(130,t===null?"null":typeof t,"")),c=null}return i=Gt(T,s,i,d),i.elementType=t,i.type=c,i.lanes=g,i}function Si(t,i,s,c){return t=Gt(7,t,c,i),t.lanes=s,t}function gr(t,i,s){return t=Gt(6,t,null,i),t.lanes=s,t}function yr(t,i,s){return i=Gt(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ul=[],cl=0,_s=null,bs=0,jt=[],Qt=0,_i=null,Sn=1,_n="";function bi(t,i){ul[cl++]=bs,ul[cl++]=_s,_s=t,bs=i}function Of(t,i,s){jt[Qt++]=Sn,jt[Qt++]=_n,jt[Qt++]=_i,_i=t;var c=Sn;t=_n;var d=32-Pt(c)-1;c&=~(1<<d),s+=1;var g=32-Pt(i)+d;if(30<g){var T=d-d%5;g=(c&(1<<T)-1).toString(32),c>>=T,d-=T,Sn=1<<32-Pt(i)+d|s<<d|c,_n=g+t}else Sn=1<<g|s<<d|c,_n=t}function vr(t){t.return!==null&&(bi(t,1),Of(t,1,0))}function xr(t){for(;t===_s;)_s=ul[--cl],ul[cl]=null,bs=ul[--cl],ul[cl]=null;for(;t===_i;)_i=jt[--Qt],jt[Qt]=null,_n=jt[--Qt],jt[Qt]=null,Sn=jt[--Qt],jt[Qt]=null}var bt=null,Qe=null,Pe=!1,Ei=null,un=!1,Tr=Error(o(519));function Ai(t){var i=Error(o(418,""));throw mo($t(i,t)),Tr}function zf(t){var i=t.stateNode,s=t.type,c=t.memoizedProps;switch(i[xt]=t,i[Nt]=c,s){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(s=0;s<Po.length;s++)De(Po[s],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),nf(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),cs(i);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),of(i,c.value,c.defaultValue,c.children),cs(i)}s=c.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||c.suppressHydrationWarning===!0||oh(i.textContent,s)?(c.popover!=null&&(De("beforetoggle",i),De("toggle",i)),c.onScroll!=null&&De("scroll",i),c.onScrollEnd!=null&&De("scrollend",i),c.onClick!=null&&(i.onclick=la),i=!0):i=!1,i||Ai(t)}function Hf(t){for(bt=t.return;bt;)switch(bt.tag){case 5:case 13:un=!1;return;case 27:case 3:un=!0;return;default:bt=bt.return}}function co(t){if(t!==bt)return!1;if(!Pe)return Hf(t),Pe=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Vu(t.type,t.memoizedProps)),s=!s),s&&Qe&&Ai(t),Hf(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){Qe=an(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}Qe=null}}else i===27?(i=Qe,oi(t.type)?(t=Bu,Bu=null,Qe=t):Qe=i):Qe=bt?an(t.stateNode.nextSibling):null;return!0}function fo(){Qe=bt=null,Pe=!1}function Ff(){var t=Ei;return t!==null&&(Ut===null?Ut=t:Ut.push.apply(Ut,t),Ei=null),t}function mo(t){Ei===null?Ei=[t]:Ei.push(t)}var Cr=R(null),wi=null,bn=null;function Fn(t,i,s){Q(Cr,i._currentValue),i._currentValue=s}function En(t){t._currentValue=Cr.current,Y(Cr)}function Sr(t,i,s){for(;t!==null;){var c=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),t===s)break;t=t.return}}function _r(t,i,s,c){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var g=d.dependencies;if(g!==null){var T=d.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=d;for(var E=0;E<i.length;E++)if(S.context===i[E]){g.lanes|=s,S=g.alternate,S!==null&&(S.lanes|=s),Sr(g.return,s,t),c||(T=null);break e}g=S.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(o(341));T.lanes|=s,g=T.alternate,g!==null&&(g.lanes|=s),Sr(T,s,t),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===t){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function ho(t,i,s,c){t=null;for(var d=i,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(o(387));if(T=T.memoizedProps,T!==null){var S=d.type;qt(d.pendingProps.value,T.value)||(t!==null?t.push(S):t=[S])}}else if(d===Ce.current){if(T=d.alternate,T===null)throw Error(o(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Ho):t=[Ho])}d=d.return}t!==null&&_r(i,t,s,c),i.flags|=262144}function Es(t){for(t=t.firstContext;t!==null;){if(!qt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Mi(t){wi=t,bn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Tt(t){return Jf(wi,t)}function As(t,i){return wi===null&&Mi(t),Jf(t,i)}function Jf(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},bn===null){if(t===null)throw Error(o(308));bn=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else bn=bn.next=i;return s}var xv=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,c){t.push(c)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},Tv=n.unstable_scheduleCallback,Cv=n.unstable_NormalPriority,st={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function br(){return{controller:new xv,data:new Map,refCount:0}}function po(t){t.refCount--,t.refCount===0&&Tv(Cv,function(){t.controller.abort()})}var go=null,Er=0,fl=0,dl=null;function Sv(t,i){if(go===null){var s=go=[];Er=0,fl=wu(),dl={status:"pending",value:void 0,then:function(c){s.push(c)}}}return Er++,i.then(Yf,Yf),i}function Yf(){if(--Er===0&&go!==null){dl!==null&&(dl.status="fulfilled");var t=go;go=null,fl=0,dl=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function _v(t,i){var s=[],c={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return t.then(function(){c.status="fulfilled",c.value=i;for(var d=0;d<s.length;d++)(0,s[d])(i)},function(d){for(c.status="rejected",c.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),c}var Zf=A.S;A.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Sv(t,i),Zf!==null&&Zf(t,i)};var Ni=R(null);function Ar(){var t=Ni.current;return t!==null?t:Ze.pooledCache}function ws(t,i){i===null?Q(Ni,Ni.current):Q(Ni,i.pool)}function $f(){var t=Ar();return t===null?null:{parent:st._currentValue,pool:t}}var yo=Error(o(460)),Kf=Error(o(474)),Ms=Error(o(542)),wr={then:function(){}};function jf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ns(){}function Qf(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Ns,Ns),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Wf(t),t;default:if(typeof i.status=="string")i.then(Ns,Ns);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=i,t.status="pending",t.then(function(c){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=c}},function(c){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Wf(t),t}throw vo=i,yo}}var vo=null;function Xf(){if(vo===null)throw Error(o(459));var t=vo;return vo=null,t}function Wf(t){if(t===yo||t===Ms)throw Error(o(483))}var Jn=!1;function Mr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nr(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Yn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zn(t,i,s){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Ge&2)!==0){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,i=Cs(t),Gf(t,null,s),i}return Ts(t,c,i,s),Cs(t)}function xo(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var c=i.lanes;c&=t.pendingLanes,s|=c,i.lanes=s,Jc(t,s)}}function Rr(t,i){var s=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var d=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var T={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};g===null?d=g=T:g=g.next=T,s=s.next}while(s!==null);g===null?d=g=i:g=g.next=i}else d=g=i;s={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Dr=!1;function To(){if(Dr){var t=dl;if(t!==null)throw t}}function Co(t,i,s,c){Dr=!1;var d=t.updateQueue;Jn=!1;var g=d.firstBaseUpdate,T=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var E=S,U=E.next;E.next=null,T===null?g=U:T.next=U,T=E;var B=t.alternate;B!==null&&(B=B.updateQueue,S=B.lastBaseUpdate,S!==T&&(S===null?B.firstBaseUpdate=U:S.next=U,B.lastBaseUpdate=E))}if(g!==null){var F=d.baseState;T=0,B=U=E=null,S=g;do{var k=S.lane&-536870913,P=k!==S.lane;if(P?(ke&k)===k:(c&k)===k){k!==0&&k===fl&&(Dr=!0),B!==null&&(B=B.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var xe=t,ye=S;k=i;var Fe=s;switch(ye.tag){case 1:if(xe=ye.payload,typeof xe=="function"){F=xe.call(Fe,F,k);break e}F=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=ye.payload,k=typeof xe=="function"?xe.call(Fe,F,k):xe,k==null)break e;F=x({},F,k);break e;case 2:Jn=!0}}k=S.callback,k!==null&&(t.flags|=64,P&&(t.flags|=8192),P=d.callbacks,P===null?d.callbacks=[k]:P.push(k))}else P={lane:k,tag:S.tag,payload:S.payload,callback:S.callback,next:null},B===null?(U=B=P,E=F):B=B.next=P,T|=k;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;P=S,S=P.next,P.next=null,d.lastBaseUpdate=P,d.shared.pending=null}}while(!0);B===null&&(E=F),d.baseState=E,d.firstBaseUpdate=U,d.lastBaseUpdate=B,g===null&&(d.shared.lanes=0),ti|=T,t.lanes=T,t.memoizedState=F}}function ed(t,i){if(typeof t!="function")throw Error(o(191,t));t.call(i)}function td(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)ed(s[t],i)}var ml=R(null),Rs=R(0);function nd(t,i){t=In,Q(Rs,t),Q(ml,i),In=t|i.baseLanes}function Ir(){Q(Rs,In),Q(ml,ml.current)}function Ur(){In=Rs.current,Y(ml),Y(Rs)}var $n=0,Ae=null,ze=null,nt=null,Ds=!1,hl=!1,Ri=!1,Is=0,So=0,pl=null,bv=0;function et(){throw Error(o(321))}function kr(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!qt(t[s],i[s]))return!1;return!0}function Lr(t,i,s,c,d,g){return $n=g,Ae=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,A.H=t===null||t.memoizedState===null?Gd:Bd,Ri=!1,g=s(c,d),Ri=!1,hl&&(g=ld(i,s,c,d)),id(t),g}function id(t){A.H=qs;var i=ze!==null&&ze.next!==null;if($n=0,nt=ze=Ae=null,Ds=!1,So=0,pl=null,i)throw Error(o(300));t===null||ct||(t=t.dependencies,t!==null&&Es(t)&&(ct=!0))}function ld(t,i,s,c){Ae=t;var d=0;do{if(hl&&(pl=null),So=0,hl=!1,25<=d)throw Error(o(301));if(d+=1,nt=ze=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}A.H=Dv,g=i(s,c)}while(hl);return g}function Ev(){var t=A.H,i=t.useState()[0];return i=typeof i.then=="function"?_o(i):i,t=t.useState()[0],(ze!==null?ze.memoizedState:null)!==t&&(Ae.flags|=1024),i}function Vr(){var t=Is!==0;return Is=0,t}function Pr(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function qr(t){if(Ds){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ds=!1}$n=0,nt=ze=Ae=null,hl=!1,So=Is=0,pl=null}function Dt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Ae.memoizedState=nt=t:nt=nt.next=t,nt}function it(){if(ze===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var i=nt===null?Ae.memoizedState:nt.next;if(i!==null)nt=i,ze=t;else{if(t===null)throw Ae.alternate===null?Error(o(467)):Error(o(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},nt===null?Ae.memoizedState=nt=t:nt=nt.next=t}return nt}function Gr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _o(t){var i=So;return So+=1,pl===null&&(pl=[]),t=Qf(pl,t,i),i=Ae,(nt===null?i.memoizedState:nt.next)===null&&(i=i.alternate,A.H=i===null||i.memoizedState===null?Gd:Bd),t}function Us(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _o(t);if(t.$$typeof===$)return Tt(t)}throw Error(o(438,String(t)))}function Br(t){var i=null,s=Ae.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var c=Ae.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Gr(),Ae.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),c=0;c<t;c++)s[c]=ie;return i.index++,s}function An(t,i){return typeof i=="function"?i(t):i}function ks(t){var i=it();return Or(i,ze,t)}function Or(t,i,s){var c=t.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=s;var d=t.baseQueue,g=c.pending;if(g!==null){if(d!==null){var T=d.next;d.next=g.next,g.next=T}i.baseQueue=d=g,c.pending=null}if(g=t.baseState,d===null)t.memoizedState=g;else{i=d.next;var S=T=null,E=null,U=i,B=!1;do{var F=U.lane&-536870913;if(F!==U.lane?(ke&F)===F:($n&F)===F){var k=U.revertLane;if(k===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),F===fl&&(B=!0);else if(($n&k)===k){U=U.next,k===fl&&(B=!0);continue}else F={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},E===null?(S=E=F,T=g):E=E.next=F,Ae.lanes|=k,ti|=k;F=U.action,Ri&&s(g,F),g=U.hasEagerState?U.eagerState:s(g,F)}else k={lane:F,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},E===null?(S=E=k,T=g):E=E.next=k,Ae.lanes|=F,ti|=F;U=U.next}while(U!==null&&U!==i);if(E===null?T=g:E.next=S,!qt(g,t.memoizedState)&&(ct=!0,B&&(s=dl,s!==null)))throw s;t.memoizedState=g,t.baseState=T,t.baseQueue=E,c.lastRenderedState=g}return d===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function zr(t){var i=it(),s=i.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=t;var c=s.dispatch,d=s.pending,g=i.memoizedState;if(d!==null){s.pending=null;var T=d=d.next;do g=t(g,T.action),T=T.next;while(T!==d);qt(g,i.memoizedState)||(ct=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),s.lastRenderedState=g}return[g,c]}function od(t,i,s){var c=Ae,d=it(),g=Pe;if(g){if(s===void 0)throw Error(o(407));s=s()}else s=i();var T=!qt((ze||d).memoizedState,s);T&&(d.memoizedState=s,ct=!0),d=d.queue;var S=rd.bind(null,c,d,t);if(bo(2048,8,S,[t]),d.getSnapshot!==i||T||nt!==null&&nt.memoizedState.tag&1){if(c.flags|=2048,gl(9,Ls(),ad.bind(null,c,d,s,i),null),Ze===null)throw Error(o(349));g||($n&124)!==0||sd(c,i,s)}return s}function sd(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Ae.updateQueue,i===null?(i=Gr(),Ae.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function ad(t,i,s,c){i.value=s,i.getSnapshot=c,ud(i)&&cd(t)}function rd(t,i,s){return s(function(){ud(i)&&cd(t)})}function ud(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!qt(t,s)}catch{return!0}}function cd(t){var i=al(t,2);i!==null&&Ft(i,t,2)}function Hr(t){var i=Dt();if(typeof t=="function"){var s=t;if(t=s(),Ri){Jt(!0);try{s()}finally{Jt(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:t},i}function fd(t,i,s,c){return t.baseState=s,Or(t,ze,typeof c=="function"?c:An)}function Av(t,i,s,c,d){if(Ps(t))throw Error(o(485));if(t=i.action,t!==null){var g={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};A.T!==null?s(!0):g.isTransition=!1,c(g),s=i.pending,s===null?(g.next=i.pending=g,dd(i,g)):(g.next=s.next,i.pending=s.next=g)}}function dd(t,i){var s=i.action,c=i.payload,d=t.state;if(i.isTransition){var g=A.T,T={};A.T=T;try{var S=s(d,c),E=A.S;E!==null&&E(T,S),md(t,i,S)}catch(U){Fr(t,i,U)}finally{A.T=g}}else try{g=s(d,c),md(t,i,g)}catch(U){Fr(t,i,U)}}function md(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(c){hd(t,i,c)},function(c){return Fr(t,i,c)}):hd(t,i,s)}function hd(t,i,s){i.status="fulfilled",i.value=s,pd(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,dd(t,s)))}function Fr(t,i,s){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=s,pd(i),i=i.next;while(i!==c)}t.action=null}function pd(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function gd(t,i){return i}function yd(t,i){if(Pe){var s=Ze.formState;if(s!==null){e:{var c=Ae;if(Pe){if(Qe){t:{for(var d=Qe,g=un;d.nodeType!==8;){if(!g){d=null;break t}if(d=an(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){Qe=an(d.nextSibling),c=d.data==="F!";break e}}Ai(c)}c=!1}c&&(i=s[0])}}return s=Dt(),s.memoizedState=s.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gd,lastRenderedState:i},s.queue=c,s=Vd.bind(null,Ae,c),c.dispatch=s,c=Hr(!1),g=Kr.bind(null,Ae,!1,c.queue),c=Dt(),d={state:i,dispatch:null,action:t,pending:null},c.queue=d,s=Av.bind(null,Ae,d,g,s),d.dispatch=s,c.memoizedState=t,[i,s,!1]}function vd(t){var i=it();return xd(i,ze,t)}function xd(t,i,s){if(i=Or(t,i,gd)[0],t=ks(An)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=_o(i)}catch(T){throw T===yo?Ms:T}else c=i;i=it();var d=i.queue,g=d.dispatch;return s!==i.memoizedState&&(Ae.flags|=2048,gl(9,Ls(),wv.bind(null,d,s),null)),[c,g,t]}function wv(t,i){t.action=i}function Td(t){var i=it(),s=ze;if(s!==null)return xd(i,s,t);it(),i=i.memoizedState,s=it();var c=s.queue.dispatch;return s.memoizedState=t,[i,c,!1]}function gl(t,i,s,c){return t={tag:t,create:s,deps:c,inst:i,next:null},i=Ae.updateQueue,i===null&&(i=Gr(),Ae.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(c=s.next,s.next=t,t.next=c,i.lastEffect=t),t}function Ls(){return{destroy:void 0,resource:void 0}}function Cd(){return it().memoizedState}function Vs(t,i,s,c){var d=Dt();c=c===void 0?null:c,Ae.flags|=t,d.memoizedState=gl(1|i,Ls(),s,c)}function bo(t,i,s,c){var d=it();c=c===void 0?null:c;var g=d.memoizedState.inst;ze!==null&&c!==null&&kr(c,ze.memoizedState.deps)?d.memoizedState=gl(i,g,s,c):(Ae.flags|=t,d.memoizedState=gl(1|i,g,s,c))}function Sd(t,i){Vs(8390656,8,t,i)}function _d(t,i){bo(2048,8,t,i)}function bd(t,i){return bo(4,2,t,i)}function Ed(t,i){return bo(4,4,t,i)}function Ad(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function wd(t,i,s){s=s!=null?s.concat([t]):null,bo(4,4,Ad.bind(null,i,t),s)}function Jr(){}function Md(t,i){var s=it();i=i===void 0?null:i;var c=s.memoizedState;return i!==null&&kr(i,c[1])?c[0]:(s.memoizedState=[t,i],t)}function Nd(t,i){var s=it();i=i===void 0?null:i;var c=s.memoizedState;if(i!==null&&kr(i,c[1]))return c[0];if(c=t(),Ri){Jt(!0);try{t()}finally{Jt(!1)}}return s.memoizedState=[c,i],c}function Yr(t,i,s){return s===void 0||($n&1073741824)!==0?t.memoizedState=i:(t.memoizedState=s,t=Im(),Ae.lanes|=t,ti|=t,s)}function Rd(t,i,s,c){return qt(s,i)?s:ml.current!==null?(t=Yr(t,s,c),qt(t,i)||(ct=!0),t):($n&42)===0?(ct=!0,t.memoizedState=s):(t=Im(),Ae.lanes|=t,ti|=t,i)}function Dd(t,i,s,c,d){var g=K.p;K.p=g!==0&&8>g?g:8;var T=A.T,S={};A.T=S,Kr(t,!1,i,s);try{var E=d(),U=A.S;if(U!==null&&U(S,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var B=_v(E,c);Eo(t,i,B,Ht(t))}else Eo(t,i,c,Ht(t))}catch(F){Eo(t,i,{then:function(){},status:"rejected",reason:F},Ht())}finally{K.p=g,A.T=T}}function Mv(){}function Zr(t,i,s,c){if(t.tag!==5)throw Error(o(476));var d=Id(t).queue;Dd(t,d,i,oe,s===null?Mv:function(){return Ud(t),s(c)})}function Id(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:oe},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ud(t){var i=Id(t).next.queue;Eo(t,i,{},Ht())}function $r(){return Tt(Ho)}function kd(){return it().memoizedState}function Ld(){return it().memoizedState}function Nv(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Ht();t=Yn(s);var c=Zn(i,t,s);c!==null&&(Ft(c,i,s),xo(c,i,s)),i={cache:br()},t.payload=i;return}i=i.return}}function Rv(t,i,s){var c=Ht();s={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Ps(t)?Pd(i,s):(s=hr(t,i,s,c),s!==null&&(Ft(s,t,c),qd(s,i,c)))}function Vd(t,i,s){var c=Ht();Eo(t,i,s,c)}function Eo(t,i,s,c){var d={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ps(t))Pd(i,d);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var T=i.lastRenderedState,S=g(T,s);if(d.hasEagerState=!0,d.eagerState=S,qt(S,T))return Ts(t,i,d,0),Ze===null&&xs(),!1}catch{}finally{}if(s=hr(t,i,d,c),s!==null)return Ft(s,t,c),qd(s,i,c),!0}return!1}function Kr(t,i,s,c){if(c={lane:2,revertLane:wu(),action:c,hasEagerState:!1,eagerState:null,next:null},Ps(t)){if(i)throw Error(o(479))}else i=hr(t,s,c,2),i!==null&&Ft(i,t,2)}function Ps(t){var i=t.alternate;return t===Ae||i!==null&&i===Ae}function Pd(t,i){hl=Ds=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function qd(t,i,s){if((s&4194048)!==0){var c=i.lanes;c&=t.pendingLanes,s|=c,i.lanes=s,Jc(t,s)}}var qs={readContext:Tt,use:Us,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et},Gd={readContext:Tt,use:Us,useCallback:function(t,i){return Dt().memoizedState=[t,i===void 0?null:i],t},useContext:Tt,useEffect:Sd,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Vs(4194308,4,Ad.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Vs(4194308,4,t,i)},useInsertionEffect:function(t,i){Vs(4,2,t,i)},useMemo:function(t,i){var s=Dt();i=i===void 0?null:i;var c=t();if(Ri){Jt(!0);try{t()}finally{Jt(!1)}}return s.memoizedState=[c,i],c},useReducer:function(t,i,s){var c=Dt();if(s!==void 0){var d=s(i);if(Ri){Jt(!0);try{s(i)}finally{Jt(!1)}}}else d=i;return c.memoizedState=c.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},c.queue=t,t=t.dispatch=Rv.bind(null,Ae,t),[c.memoizedState,t]},useRef:function(t){var i=Dt();return t={current:t},i.memoizedState=t},useState:function(t){t=Hr(t);var i=t.queue,s=Vd.bind(null,Ae,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:Jr,useDeferredValue:function(t,i){var s=Dt();return Yr(s,t,i)},useTransition:function(){var t=Hr(!1);return t=Dd.bind(null,Ae,t.queue,!0,!1),Dt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var c=Ae,d=Dt();if(Pe){if(s===void 0)throw Error(o(407));s=s()}else{if(s=i(),Ze===null)throw Error(o(349));(ke&124)!==0||sd(c,i,s)}d.memoizedState=s;var g={value:s,getSnapshot:i};return d.queue=g,Sd(rd.bind(null,c,g,t),[t]),c.flags|=2048,gl(9,Ls(),ad.bind(null,c,g,s,i),null),s},useId:function(){var t=Dt(),i=Ze.identifierPrefix;if(Pe){var s=_n,c=Sn;s=(c&~(1<<32-Pt(c)-1)).toString(32)+s,i="«"+i+"R"+s,s=Is++,0<s&&(i+="H"+s.toString(32)),i+="»"}else s=bv++,i="«"+i+"r"+s.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:$r,useFormState:yd,useActionState:yd,useOptimistic:function(t){var i=Dt();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Kr.bind(null,Ae,!0,s),s.dispatch=i,[t,i]},useMemoCache:Br,useCacheRefresh:function(){return Dt().memoizedState=Nv.bind(null,Ae)}},Bd={readContext:Tt,use:Us,useCallback:Md,useContext:Tt,useEffect:_d,useImperativeHandle:wd,useInsertionEffect:bd,useLayoutEffect:Ed,useMemo:Nd,useReducer:ks,useRef:Cd,useState:function(){return ks(An)},useDebugValue:Jr,useDeferredValue:function(t,i){var s=it();return Rd(s,ze.memoizedState,t,i)},useTransition:function(){var t=ks(An)[0],i=it().memoizedState;return[typeof t=="boolean"?t:_o(t),i]},useSyncExternalStore:od,useId:kd,useHostTransitionStatus:$r,useFormState:vd,useActionState:vd,useOptimistic:function(t,i){var s=it();return fd(s,ze,t,i)},useMemoCache:Br,useCacheRefresh:Ld},Dv={readContext:Tt,use:Us,useCallback:Md,useContext:Tt,useEffect:_d,useImperativeHandle:wd,useInsertionEffect:bd,useLayoutEffect:Ed,useMemo:Nd,useReducer:zr,useRef:Cd,useState:function(){return zr(An)},useDebugValue:Jr,useDeferredValue:function(t,i){var s=it();return ze===null?Yr(s,t,i):Rd(s,ze.memoizedState,t,i)},useTransition:function(){var t=zr(An)[0],i=it().memoizedState;return[typeof t=="boolean"?t:_o(t),i]},useSyncExternalStore:od,useId:kd,useHostTransitionStatus:$r,useFormState:Td,useActionState:Td,useOptimistic:function(t,i){var s=it();return ze!==null?fd(s,ze,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Br,useCacheRefresh:Ld},yl=null,Ao=0;function Gs(t){var i=Ao;return Ao+=1,yl===null&&(yl=[]),Qf(yl,t,i)}function wo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Bs(t,i){throw i.$$typeof===C?Error(o(525)):(t=Object.prototype.toString.call(i),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Od(t){var i=t._init;return i(t._payload)}function zd(t){function i(N,w){if(t){var I=N.deletions;I===null?(N.deletions=[w],N.flags|=16):I.push(w)}}function s(N,w){if(!t)return null;for(;w!==null;)i(N,w),w=w.sibling;return null}function c(N){for(var w=new Map;N!==null;)N.key!==null?w.set(N.key,N):w.set(N.index,N),N=N.sibling;return w}function d(N,w){return N=Cn(N,w),N.index=0,N.sibling=null,N}function g(N,w,I){return N.index=I,t?(I=N.alternate,I!==null?(I=I.index,I<w?(N.flags|=67108866,w):I):(N.flags|=67108866,w)):(N.flags|=1048576,w)}function T(N){return t&&N.alternate===null&&(N.flags|=67108866),N}function S(N,w,I,z){return w===null||w.tag!==6?(w=gr(I,N.mode,z),w.return=N,w):(w=d(w,I),w.return=N,w)}function E(N,w,I,z){var ce=I.type;return ce===D?B(N,w,I.props.children,z,I.key):w!==null&&(w.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===O&&Od(ce)===w.type)?(w=d(w,I.props),wo(w,I),w.return=N,w):(w=Ss(I.type,I.key,I.props,null,N.mode,z),wo(w,I),w.return=N,w)}function U(N,w,I,z){return w===null||w.tag!==4||w.stateNode.containerInfo!==I.containerInfo||w.stateNode.implementation!==I.implementation?(w=yr(I,N.mode,z),w.return=N,w):(w=d(w,I.children||[]),w.return=N,w)}function B(N,w,I,z,ce){return w===null||w.tag!==7?(w=Si(I,N.mode,z,ce),w.return=N,w):(w=d(w,I),w.return=N,w)}function F(N,w,I){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=gr(""+w,N.mode,I),w.return=N,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case _:return I=Ss(w.type,w.key,w.props,null,N.mode,I),wo(I,w),I.return=N,I;case M:return w=yr(w,N.mode,I),w.return=N,w;case O:var z=w._init;return w=z(w._payload),F(N,w,I)}if(ge(w)||ue(w))return w=Si(w,N.mode,I,null),w.return=N,w;if(typeof w.then=="function")return F(N,Gs(w),I);if(w.$$typeof===$)return F(N,As(N,w),I);Bs(N,w)}return null}function k(N,w,I,z){var ce=w!==null?w.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return ce!==null?null:S(N,w,""+I,z);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case _:return I.key===ce?E(N,w,I,z):null;case M:return I.key===ce?U(N,w,I,z):null;case O:return ce=I._init,I=ce(I._payload),k(N,w,I,z)}if(ge(I)||ue(I))return ce!==null?null:B(N,w,I,z,null);if(typeof I.then=="function")return k(N,w,Gs(I),z);if(I.$$typeof===$)return k(N,w,As(N,I),z);Bs(N,I)}return null}function P(N,w,I,z,ce){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return N=N.get(I)||null,S(w,N,""+z,ce);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case _:return N=N.get(z.key===null?I:z.key)||null,E(w,N,z,ce);case M:return N=N.get(z.key===null?I:z.key)||null,U(w,N,z,ce);case O:var we=z._init;return z=we(z._payload),P(N,w,I,z,ce)}if(ge(z)||ue(z))return N=N.get(I)||null,B(w,N,z,ce,null);if(typeof z.then=="function")return P(N,w,I,Gs(z),ce);if(z.$$typeof===$)return P(N,w,I,As(w,z),ce);Bs(w,z)}return null}function xe(N,w,I,z){for(var ce=null,we=null,pe=w,ve=w=0,dt=null;pe!==null&&ve<I.length;ve++){pe.index>ve?(dt=pe,pe=null):dt=pe.sibling;var Le=k(N,pe,I[ve],z);if(Le===null){pe===null&&(pe=dt);break}t&&pe&&Le.alternate===null&&i(N,pe),w=g(Le,w,ve),we===null?ce=Le:we.sibling=Le,we=Le,pe=dt}if(ve===I.length)return s(N,pe),Pe&&bi(N,ve),ce;if(pe===null){for(;ve<I.length;ve++)pe=F(N,I[ve],z),pe!==null&&(w=g(pe,w,ve),we===null?ce=pe:we.sibling=pe,we=pe);return Pe&&bi(N,ve),ce}for(pe=c(pe);ve<I.length;ve++)dt=P(pe,N,ve,I[ve],z),dt!==null&&(t&&dt.alternate!==null&&pe.delete(dt.key===null?ve:dt.key),w=g(dt,w,ve),we===null?ce=dt:we.sibling=dt,we=dt);return t&&pe.forEach(function(ci){return i(N,ci)}),Pe&&bi(N,ve),ce}function ye(N,w,I,z){if(I==null)throw Error(o(151));for(var ce=null,we=null,pe=w,ve=w=0,dt=null,Le=I.next();pe!==null&&!Le.done;ve++,Le=I.next()){pe.index>ve?(dt=pe,pe=null):dt=pe.sibling;var ci=k(N,pe,Le.value,z);if(ci===null){pe===null&&(pe=dt);break}t&&pe&&ci.alternate===null&&i(N,pe),w=g(ci,w,ve),we===null?ce=ci:we.sibling=ci,we=ci,pe=dt}if(Le.done)return s(N,pe),Pe&&bi(N,ve),ce;if(pe===null){for(;!Le.done;ve++,Le=I.next())Le=F(N,Le.value,z),Le!==null&&(w=g(Le,w,ve),we===null?ce=Le:we.sibling=Le,we=Le);return Pe&&bi(N,ve),ce}for(pe=c(pe);!Le.done;ve++,Le=I.next())Le=P(pe,N,ve,Le.value,z),Le!==null&&(t&&Le.alternate!==null&&pe.delete(Le.key===null?ve:Le.key),w=g(Le,w,ve),we===null?ce=Le:we.sibling=Le,we=Le);return t&&pe.forEach(function(I0){return i(N,I0)}),Pe&&bi(N,ve),ce}function Fe(N,w,I,z){if(typeof I=="object"&&I!==null&&I.type===D&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case _:e:{for(var ce=I.key;w!==null;){if(w.key===ce){if(ce=I.type,ce===D){if(w.tag===7){s(N,w.sibling),z=d(w,I.props.children),z.return=N,N=z;break e}}else if(w.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===O&&Od(ce)===w.type){s(N,w.sibling),z=d(w,I.props),wo(z,I),z.return=N,N=z;break e}s(N,w);break}else i(N,w);w=w.sibling}I.type===D?(z=Si(I.props.children,N.mode,z,I.key),z.return=N,N=z):(z=Ss(I.type,I.key,I.props,null,N.mode,z),wo(z,I),z.return=N,N=z)}return T(N);case M:e:{for(ce=I.key;w!==null;){if(w.key===ce)if(w.tag===4&&w.stateNode.containerInfo===I.containerInfo&&w.stateNode.implementation===I.implementation){s(N,w.sibling),z=d(w,I.children||[]),z.return=N,N=z;break e}else{s(N,w);break}else i(N,w);w=w.sibling}z=yr(I,N.mode,z),z.return=N,N=z}return T(N);case O:return ce=I._init,I=ce(I._payload),Fe(N,w,I,z)}if(ge(I))return xe(N,w,I,z);if(ue(I)){if(ce=ue(I),typeof ce!="function")throw Error(o(150));return I=ce.call(I),ye(N,w,I,z)}if(typeof I.then=="function")return Fe(N,w,Gs(I),z);if(I.$$typeof===$)return Fe(N,w,As(N,I),z);Bs(N,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,w!==null&&w.tag===6?(s(N,w.sibling),z=d(w,I),z.return=N,N=z):(s(N,w),z=gr(I,N.mode,z),z.return=N,N=z),T(N)):s(N,w)}return function(N,w,I,z){try{Ao=0;var ce=Fe(N,w,I,z);return yl=null,ce}catch(pe){if(pe===yo||pe===Ms)throw pe;var we=Gt(29,pe,null,N.mode);return we.lanes=z,we.return=N,we}finally{}}}var vl=zd(!0),Hd=zd(!1),Xt=R(null),cn=null;function Kn(t){var i=t.alternate;Q(at,at.current&1),Q(Xt,t),cn===null&&(i===null||ml.current!==null||i.memoizedState!==null)&&(cn=t)}function Fd(t){if(t.tag===22){if(Q(at,at.current),Q(Xt,t),cn===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(cn=t)}}else jn()}function jn(){Q(at,at.current),Q(Xt,Xt.current)}function wn(t){Y(Xt),cn===t&&(cn=null),Y(at)}var at=R(0);function Os(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Gu(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function jr(t,i,s,c){i=t.memoizedState,s=s(c,i),s=s==null?i:x({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Qr={enqueueSetState:function(t,i,s){t=t._reactInternals;var c=Ht(),d=Yn(c);d.payload=i,s!=null&&(d.callback=s),i=Zn(t,d,c),i!==null&&(Ft(i,t,c),xo(i,t,c))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var c=Ht(),d=Yn(c);d.tag=1,d.payload=i,s!=null&&(d.callback=s),i=Zn(t,d,c),i!==null&&(Ft(i,t,c),xo(i,t,c))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Ht(),c=Yn(s);c.tag=2,i!=null&&(c.callback=i),i=Zn(t,c,s),i!==null&&(Ft(i,t,s),xo(i,t,s))}};function Jd(t,i,s,c,d,g,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,g,T):i.prototype&&i.prototype.isPureReactComponent?!ro(s,c)||!ro(d,g):!0}function Yd(t,i,s,c){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,c),i.state!==t&&Qr.enqueueReplaceState(i,i.state,null)}function Di(t,i){var s=i;if("ref"in i){s={};for(var c in i)c!=="ref"&&(s[c]=i[c])}if(t=t.defaultProps){s===i&&(s=x({},s));for(var d in t)s[d]===void 0&&(s[d]=t[d])}return s}var zs=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Zd(t){zs(t)}function $d(t){console.error(t)}function Kd(t){zs(t)}function Hs(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function jd(t,i,s){try{var c=t.onCaughtError;c(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Xr(t,i,s){return s=Yn(s),s.tag=3,s.payload={element:null},s.callback=function(){Hs(t,i)},s}function Qd(t){return t=Yn(t),t.tag=3,t}function Xd(t,i,s,c){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var g=c.value;t.payload=function(){return d(g)},t.callback=function(){jd(i,s,c)}}var T=s.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){jd(i,s,c),typeof d!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function Iv(t,i,s,c,d){if(s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=s.alternate,i!==null&&ho(i,s,d,!0),s=Xt.current,s!==null){switch(s.tag){case 13:return cn===null?Su():s.alternate===null&&Xe===0&&(Xe=3),s.flags&=-257,s.flags|=65536,s.lanes=d,c===wr?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([c]):i.add(c),bu(t,c,d)),!1;case 22:return s.flags|=65536,c===wr?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([c]):s.add(c)),bu(t,c,d)),!1}throw Error(o(435,s.tag))}return bu(t,c,d),Su(),!1}if(Pe)return i=Xt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,c!==Tr&&(t=Error(o(422),{cause:c}),mo($t(t,s)))):(c!==Tr&&(i=Error(o(423),{cause:c}),mo($t(i,s))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,c=$t(c,s),d=Xr(t.stateNode,c,d),Rr(t,d),Xe!==4&&(Xe=2)),!1;var g=Error(o(520),{cause:c});if(g=$t(g,s),ko===null?ko=[g]:ko.push(g),Xe!==4&&(Xe=2),i===null)return!0;c=$t(c,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=d&-d,s.lanes|=t,t=Xr(s.stateNode,c,t),Rr(s,t),!1;case 1:if(i=s.type,g=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ni===null||!ni.has(g))))return s.flags|=65536,d&=-d,s.lanes|=d,d=Qd(d),Xd(d,t,s,c),Rr(s,d),!1}s=s.return}while(s!==null);return!1}var Wd=Error(o(461)),ct=!1;function ht(t,i,s,c){i.child=t===null?Hd(i,null,s,c):vl(i,t.child,s,c)}function em(t,i,s,c,d){s=s.render;var g=i.ref;if("ref"in c){var T={};for(var S in c)S!=="ref"&&(T[S]=c[S])}else T=c;return Mi(i),c=Lr(t,i,s,T,g,d),S=Vr(),t!==null&&!ct?(Pr(t,i,d),Mn(t,i,d)):(Pe&&S&&vr(i),i.flags|=1,ht(t,i,c,d),i.child)}function tm(t,i,s,c,d){if(t===null){var g=s.type;return typeof g=="function"&&!pr(g)&&g.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=g,nm(t,i,g,c,d)):(t=Ss(s.type,null,c,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(g=t.child,!su(t,d)){var T=g.memoizedProps;if(s=s.compare,s=s!==null?s:ro,s(T,c)&&t.ref===i.ref)return Mn(t,i,d)}return i.flags|=1,t=Cn(g,c),t.ref=i.ref,t.return=i,i.child=t}function nm(t,i,s,c,d){if(t!==null){var g=t.memoizedProps;if(ro(g,c)&&t.ref===i.ref)if(ct=!1,i.pendingProps=c=g,su(t,d))(t.flags&131072)!==0&&(ct=!0);else return i.lanes=t.lanes,Mn(t,i,d)}return Wr(t,i,s,c,d)}function im(t,i,s){var c=i.pendingProps,d=c.children,g=t!==null?t.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=g!==null?g.baseLanes|s:s,t!==null){for(d=i.child=t.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;i.childLanes=g&~c}else i.childLanes=0,i.child=null;return lm(t,i,c,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ws(i,g!==null?g.cachePool:null),g!==null?nd(i,g):Ir(),Fd(i);else return i.lanes=i.childLanes=536870912,lm(t,i,g!==null?g.baseLanes|s:s,s)}else g!==null?(ws(i,g.cachePool),nd(i,g),jn(),i.memoizedState=null):(t!==null&&ws(i,null),Ir(),jn());return ht(t,i,d,s),i.child}function lm(t,i,s,c){var d=Ar();return d=d===null?null:{parent:st._currentValue,pool:d},i.memoizedState={baseLanes:s,cachePool:d},t!==null&&ws(i,null),Ir(),Fd(i),t!==null&&ho(t,i,c,!0),null}function Fs(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(o(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Wr(t,i,s,c,d){return Mi(i),s=Lr(t,i,s,c,void 0,d),c=Vr(),t!==null&&!ct?(Pr(t,i,d),Mn(t,i,d)):(Pe&&c&&vr(i),i.flags|=1,ht(t,i,s,d),i.child)}function om(t,i,s,c,d,g){return Mi(i),i.updateQueue=null,s=ld(i,c,s,d),id(t),c=Vr(),t!==null&&!ct?(Pr(t,i,g),Mn(t,i,g)):(Pe&&c&&vr(i),i.flags|=1,ht(t,i,s,g),i.child)}function sm(t,i,s,c,d){if(Mi(i),i.stateNode===null){var g=rl,T=s.contextType;typeof T=="object"&&T!==null&&(g=Tt(T)),g=new s(c,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Qr,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=c,g.state=i.memoizedState,g.refs={},Mr(i),T=s.contextType,g.context=typeof T=="object"&&T!==null?Tt(T):rl,g.state=i.memoizedState,T=s.getDerivedStateFromProps,typeof T=="function"&&(jr(i,s,T,c),g.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Qr.enqueueReplaceState(g,g.state,null),Co(i,c,g,d),To(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(t===null){g=i.stateNode;var S=i.memoizedProps,E=Di(s,S);g.props=E;var U=g.context,B=s.contextType;T=rl,typeof B=="object"&&B!==null&&(T=Tt(B));var F=s.getDerivedStateFromProps;B=typeof F=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,B||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||U!==T)&&Yd(i,g,c,T),Jn=!1;var k=i.memoizedState;g.state=k,Co(i,c,g,d),To(),U=i.memoizedState,S||k!==U||Jn?(typeof F=="function"&&(jr(i,s,F,c),U=i.memoizedState),(E=Jn||Jd(i,s,E,c,k,U,T))?(B||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=U),g.props=c,g.state=U,g.context=T,c=E):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{g=i.stateNode,Nr(t,i),T=i.memoizedProps,B=Di(s,T),g.props=B,F=i.pendingProps,k=g.context,U=s.contextType,E=rl,typeof U=="object"&&U!==null&&(E=Tt(U)),S=s.getDerivedStateFromProps,(U=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==F||k!==E)&&Yd(i,g,c,E),Jn=!1,k=i.memoizedState,g.state=k,Co(i,c,g,d),To();var P=i.memoizedState;T!==F||k!==P||Jn||t!==null&&t.dependencies!==null&&Es(t.dependencies)?(typeof S=="function"&&(jr(i,s,S,c),P=i.memoizedState),(B=Jn||Jd(i,s,B,c,k,P,E)||t!==null&&t.dependencies!==null&&Es(t.dependencies))?(U||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,P,E),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,P,E)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=P),g.props=c,g.state=P,g.context=E,c=B):(typeof g.componentDidUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&k===t.memoizedState||(i.flags|=1024),c=!1)}return g=c,Fs(t,i),c=(i.flags&128)!==0,g||c?(g=i.stateNode,s=c&&typeof s.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,t!==null&&c?(i.child=vl(i,t.child,null,d),i.child=vl(i,null,s,d)):ht(t,i,s,d),i.memoizedState=g.state,t=i.child):t=Mn(t,i,d),t}function am(t,i,s,c){return fo(),i.flags|=256,ht(t,i,s,c),i.child}var eu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tu(t){return{baseLanes:t,cachePool:$f()}}function nu(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=Wt),t}function rm(t,i,s){var c=i.pendingProps,d=!1,g=(i.flags&128)!==0,T;if((T=g)||(T=t!==null&&t.memoizedState===null?!1:(at.current&2)!==0),T&&(d=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(d?Kn(i):jn(),Pe){var S=Qe,E;if(E=S){e:{for(E=S,S=un;E.nodeType!==8;){if(!S){S=null;break e}if(E=an(E.nextSibling),E===null){S=null;break e}}S=E}S!==null?(i.memoizedState={dehydrated:S,treeContext:_i!==null?{id:Sn,overflow:_n}:null,retryLane:536870912,hydrationErrors:null},E=Gt(18,null,null,0),E.stateNode=S,E.return=i,i.child=E,bt=i,Qe=null,E=!0):E=!1}E||Ai(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Gu(S)?i.lanes=32:i.lanes=536870912,null;wn(i)}return S=c.children,c=c.fallback,d?(jn(),d=i.mode,S=Js({mode:"hidden",children:S},d),c=Si(c,d,s,null),S.return=i,c.return=i,S.sibling=c,i.child=S,d=i.child,d.memoizedState=tu(s),d.childLanes=nu(t,T,s),i.memoizedState=eu,c):(Kn(i),iu(i,S))}if(E=t.memoizedState,E!==null&&(S=E.dehydrated,S!==null)){if(g)i.flags&256?(Kn(i),i.flags&=-257,i=lu(t,i,s)):i.memoizedState!==null?(jn(),i.child=t.child,i.flags|=128,i=null):(jn(),d=c.fallback,S=i.mode,c=Js({mode:"visible",children:c.children},S),d=Si(d,S,s,null),d.flags|=2,c.return=i,d.return=i,c.sibling=d,i.child=c,vl(i,t.child,null,s),c=i.child,c.memoizedState=tu(s),c.childLanes=nu(t,T,s),i.memoizedState=eu,i=d);else if(Kn(i),Gu(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var U=T.dgst;T=U,c=Error(o(419)),c.stack="",c.digest=T,mo({value:c,source:null,stack:null}),i=lu(t,i,s)}else if(ct||ho(t,i,s,!1),T=(s&t.childLanes)!==0,ct||T){if(T=Ze,T!==null&&(c=s&-s,c=(c&42)!==0?1:Ba(c),c=(c&(T.suspendedLanes|s))!==0?0:c,c!==0&&c!==E.retryLane))throw E.retryLane=c,al(t,c),Ft(T,t,c),Wd;S.data==="$?"||Su(),i=lu(t,i,s)}else S.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=E.treeContext,Qe=an(S.nextSibling),bt=i,Pe=!0,Ei=null,un=!1,t!==null&&(jt[Qt++]=Sn,jt[Qt++]=_n,jt[Qt++]=_i,Sn=t.id,_n=t.overflow,_i=i),i=iu(i,c.children),i.flags|=4096);return i}return d?(jn(),d=c.fallback,S=i.mode,E=t.child,U=E.sibling,c=Cn(E,{mode:"hidden",children:c.children}),c.subtreeFlags=E.subtreeFlags&65011712,U!==null?d=Cn(U,d):(d=Si(d,S,s,null),d.flags|=2),d.return=i,c.return=i,c.sibling=d,i.child=c,c=d,d=i.child,S=t.child.memoizedState,S===null?S=tu(s):(E=S.cachePool,E!==null?(U=st._currentValue,E=E.parent!==U?{parent:U,pool:U}:E):E=$f(),S={baseLanes:S.baseLanes|s,cachePool:E}),d.memoizedState=S,d.childLanes=nu(t,T,s),i.memoizedState=eu,c):(Kn(i),s=t.child,t=s.sibling,s=Cn(s,{mode:"visible",children:c.children}),s.return=i,s.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=s,i.memoizedState=null,s)}function iu(t,i){return i=Js({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Js(t,i){return t=Gt(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function lu(t,i,s){return vl(i,t.child,null,s),t=iu(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function um(t,i,s){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i),Sr(t.return,i,s)}function ou(t,i,s,c,d){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:d}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=s,g.tailMode=d)}function cm(t,i,s){var c=i.pendingProps,d=c.revealOrder,g=c.tail;if(ht(t,i,c.children,s),c=at.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&um(t,s,i);else if(t.tag===19)um(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}switch(Q(at,c),d){case"forwards":for(s=i.child,d=null;s!==null;)t=s.alternate,t!==null&&Os(t)===null&&(d=s),s=s.sibling;s=d,s===null?(d=i.child,i.child=null):(d=s.sibling,s.sibling=null),ou(i,!1,d,s,g);break;case"backwards":for(s=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&Os(t)===null){i.child=d;break}t=d.sibling,d.sibling=s,s=d,d=t}ou(i,!0,s,null,g);break;case"together":ou(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Mn(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),ti|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(ho(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(o(153));if(i.child!==null){for(t=i.child,s=Cn(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Cn(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function su(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Es(t)))}function Uv(t,i,s){switch(i.tag){case 3:Ue(i,i.stateNode.containerInfo),Fn(i,st,t.memoizedState.cache),fo();break;case 27:case 5:gi(i);break;case 4:Ue(i,i.stateNode.containerInfo);break;case 10:Fn(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Kn(i),i.flags|=128,null):(s&i.child.childLanes)!==0?rm(t,i,s):(Kn(i),t=Mn(t,i,s),t!==null?t.sibling:null);Kn(i);break;case 19:var d=(t.flags&128)!==0;if(c=(s&i.childLanes)!==0,c||(ho(t,i,s,!1),c=(s&i.childLanes)!==0),d){if(c)return cm(t,i,s);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Q(at,at.current),c)break;return null;case 22:case 23:return i.lanes=0,im(t,i,s);case 24:Fn(i,st,t.memoizedState.cache)}return Mn(t,i,s)}function fm(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)ct=!0;else{if(!su(t,s)&&(i.flags&128)===0)return ct=!1,Uv(t,i,s);ct=(t.flags&131072)!==0}else ct=!1,Pe&&(i.flags&1048576)!==0&&Of(i,bs,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var c=i.elementType,d=c._init;if(c=d(c._payload),i.type=c,typeof c=="function")pr(c)?(t=Di(c,t),i.tag=1,i=sm(null,i,c,t,s)):(i.tag=0,i=Wr(null,i,c,t,s));else{if(c!=null){if(d=c.$$typeof,d===X){i.tag=11,i=em(null,i,c,t,s);break e}else if(d===ne){i.tag=14,i=tm(null,i,c,t,s);break e}}throw i=Ne(c)||c,Error(o(306,i,""))}}return i;case 0:return Wr(t,i,i.type,i.pendingProps,s);case 1:return c=i.type,d=Di(c,i.pendingProps),sm(t,i,c,d,s);case 3:e:{if(Ue(i,i.stateNode.containerInfo),t===null)throw Error(o(387));c=i.pendingProps;var g=i.memoizedState;d=g.element,Nr(t,i),Co(i,c,null,s);var T=i.memoizedState;if(c=T.cache,Fn(i,st,c),c!==g.cache&&_r(i,[st],s,!0),To(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=am(t,i,c,s);break e}else if(c!==d){d=$t(Error(o(424)),i),mo(d),i=am(t,i,c,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Qe=an(t.firstChild),bt=i,Pe=!0,Ei=null,un=!0,s=Hd(i,null,c,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(fo(),c===d){i=Mn(t,i,s);break e}ht(t,i,c,s)}i=i.child}return i;case 26:return Fs(t,i),t===null?(s=ph(i.type,null,i.pendingProps,null))?i.memoizedState=s:Pe||(s=i.type,t=i.pendingProps,c=oa(ee.current).createElement(s),c[xt]=i,c[Nt]=t,gt(c,s,t),ut(c),i.stateNode=c):i.memoizedState=ph(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return gi(i),t===null&&Pe&&(c=i.stateNode=dh(i.type,i.pendingProps,ee.current),bt=i,un=!0,d=Qe,oi(i.type)?(Bu=d,Qe=an(c.firstChild)):Qe=d),ht(t,i,i.pendingProps.children,s),Fs(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((d=c=Qe)&&(c=a0(c,i.type,i.pendingProps,un),c!==null?(i.stateNode=c,bt=i,Qe=an(c.firstChild),un=!1,d=!0):d=!1),d||Ai(i)),gi(i),d=i.type,g=i.pendingProps,T=t!==null?t.memoizedProps:null,c=g.children,Vu(d,g)?c=null:T!==null&&Vu(d,T)&&(i.flags|=32),i.memoizedState!==null&&(d=Lr(t,i,Ev,null,null,s),Ho._currentValue=d),Fs(t,i),ht(t,i,c,s),i.child;case 6:return t===null&&Pe&&((t=s=Qe)&&(s=r0(s,i.pendingProps,un),s!==null?(i.stateNode=s,bt=i,Qe=null,t=!0):t=!1),t||Ai(i)),null;case 13:return rm(t,i,s);case 4:return Ue(i,i.stateNode.containerInfo),c=i.pendingProps,t===null?i.child=vl(i,null,c,s):ht(t,i,c,s),i.child;case 11:return em(t,i,i.type,i.pendingProps,s);case 7:return ht(t,i,i.pendingProps,s),i.child;case 8:return ht(t,i,i.pendingProps.children,s),i.child;case 12:return ht(t,i,i.pendingProps.children,s),i.child;case 10:return c=i.pendingProps,Fn(i,i.type,c.value),ht(t,i,c.children,s),i.child;case 9:return d=i.type._context,c=i.pendingProps.children,Mi(i),d=Tt(d),c=c(d),i.flags|=1,ht(t,i,c,s),i.child;case 14:return tm(t,i,i.type,i.pendingProps,s);case 15:return nm(t,i,i.type,i.pendingProps,s);case 19:return cm(t,i,s);case 31:return c=i.pendingProps,s=i.mode,c={mode:c.mode,children:c.children},t===null?(s=Js(c,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=Cn(t.child,c),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return im(t,i,s);case 24:return Mi(i),c=Tt(st),t===null?(d=Ar(),d===null&&(d=Ze,g=br(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=s),d=g),i.memoizedState={parent:c,cache:d},Mr(i),Fn(i,st,d)):((t.lanes&s)!==0&&(Nr(t,i),Co(i,null,null,s),To()),d=t.memoizedState,g=i.memoizedState,d.parent!==c?(d={parent:c,cache:c},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Fn(i,st,c)):(c=g.cache,Fn(i,st,c),c!==d.cache&&_r(i,[st],s,!0))),ht(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function Nn(t){t.flags|=4}function dm(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Th(i)){if(i=Xt.current,i!==null&&((ke&4194048)===ke?cn!==null:(ke&62914560)!==ke&&(ke&536870912)===0||i!==cn))throw vo=wr,Kf;t.flags|=8192}}function Ys(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Hc():536870912,t.lanes|=i,Sl|=i)}function Mo(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function je(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,c=0;if(i)for(var d=t.child;d!==null;)s|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)s|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=c,t.childLanes=s,i}function kv(t,i,s){var c=i.pendingProps;switch(xr(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(i),null;case 1:return je(i),null;case 3:return s=i.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),En(st),Vt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(co(i)?Nn(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ff())),je(i),null;case 26:return s=i.memoizedState,t===null?(Nn(i),s!==null?(je(i),dm(i,s)):(je(i),i.flags&=-16777217)):s?s!==t.memoizedState?(Nn(i),je(i),dm(i,s)):(je(i),i.flags&=-16777217):(t.memoizedProps!==c&&Nn(i),je(i),i.flags&=-16777217),null;case 27:Te(i),s=ee.current;var d=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==c&&Nn(i);else{if(!c){if(i.stateNode===null)throw Error(o(166));return je(i),null}t=W.current,co(i)?zf(i):(t=dh(d,c,s),i.stateNode=t,Nn(i))}return je(i),null;case 5:if(Te(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==c&&Nn(i);else{if(!c){if(i.stateNode===null)throw Error(o(166));return je(i),null}if(t=W.current,co(i))zf(i);else{switch(d=oa(ee.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof c.is=="string"?d.createElement("select",{is:c.is}):d.createElement("select"),c.multiple?t.multiple=!0:c.size&&(t.size=c.size);break;default:t=typeof c.is=="string"?d.createElement(s,{is:c.is}):d.createElement(s)}}t[xt]=i,t[Nt]=c;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=t;e:switch(gt(t,s,c),s){case"button":case"input":case"select":case"textarea":t=!!c.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Nn(i)}}return je(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==c&&Nn(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(o(166));if(t=ee.current,co(i)){if(t=i.stateNode,s=i.memoizedProps,c=null,d=bt,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}t[xt]=i,t=!!(t.nodeValue===s||c!==null&&c.suppressHydrationWarning===!0||oh(t.nodeValue,s)),t||Ai(i)}else t=oa(t).createTextNode(c),t[xt]=i,i.stateNode=t}return je(i),null;case 13:if(c=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=co(i),c!==null&&c.dehydrated!==null){if(t===null){if(!d)throw Error(o(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));d[xt]=i}else fo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;je(i),d=!1}else d=Ff(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(wn(i),i):(wn(i),null)}if(wn(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=c!==null,t=t!==null&&t.memoizedState!==null,s){c=i.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),Ys(i,i.updateQueue),je(i),null;case 4:return Vt(),t===null&&Du(i.stateNode.containerInfo),je(i),null;case 10:return En(i.type),je(i),null;case 19:if(Y(at),d=i.memoizedState,d===null)return je(i),null;if(c=(i.flags&128)!==0,g=d.rendering,g===null)if(c)Mo(d,!1);else{if(Xe!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(g=Os(t),g!==null){for(i.flags|=128,Mo(d,!1),t=g.updateQueue,i.updateQueue=t,Ys(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)Bf(s,t),s=s.sibling;return Q(at,at.current&1|2),i.child}t=t.sibling}d.tail!==null&&_t()>Ks&&(i.flags|=128,c=!0,Mo(d,!1),i.lanes=4194304)}else{if(!c)if(t=Os(g),t!==null){if(i.flags|=128,c=!0,t=t.updateQueue,i.updateQueue=t,Ys(i,t),Mo(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Pe)return je(i),null}else 2*_t()-d.renderingStartTime>Ks&&s!==536870912&&(i.flags|=128,c=!0,Mo(d,!1),i.lanes=4194304);d.isBackwards?(g.sibling=i.child,i.child=g):(t=d.last,t!==null?t.sibling=g:i.child=g,d.last=g)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=_t(),i.sibling=null,t=at.current,Q(at,c?t&1|2:t&1),i):(je(i),null);case 22:case 23:return wn(i),Ur(),c=i.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(s&536870912)!==0&&(i.flags&128)===0&&(je(i),i.subtreeFlags&6&&(i.flags|=8192)):je(i),s=i.updateQueue,s!==null&&Ys(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==s&&(i.flags|=2048),t!==null&&Y(Ni),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),En(st),je(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function Lv(t,i){switch(xr(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return En(st),Vt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Te(i),null;case 13:if(wn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(o(340));fo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Y(at),null;case 4:return Vt(),null;case 10:return En(i.type),null;case 22:case 23:return wn(i),Ur(),t!==null&&Y(Ni),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return En(st),null;case 25:return null;default:return null}}function mm(t,i){switch(xr(i),i.tag){case 3:En(st),Vt();break;case 26:case 27:case 5:Te(i);break;case 4:Vt();break;case 13:wn(i);break;case 19:Y(at);break;case 10:En(i.type);break;case 22:case 23:wn(i),Ur(),t!==null&&Y(Ni);break;case 24:En(st)}}function No(t,i){try{var s=i.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var d=c.next;s=d;do{if((s.tag&t)===t){c=void 0;var g=s.create,T=s.inst;c=g(),T.destroy=c}s=s.next}while(s!==d)}}catch(S){Je(i,i.return,S)}}function Qn(t,i,s){try{var c=i.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&t)===t){var T=c.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,d=i;var E=s,U=S;try{U()}catch(B){Je(d,E,B)}}}c=c.next}while(c!==g)}}catch(B){Je(i,i.return,B)}}function hm(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{td(i,s)}catch(c){Je(t,t.return,c)}}}function pm(t,i,s){s.props=Di(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(c){Je(t,i,c)}}function Ro(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof s=="function"?t.refCleanup=s(c):s.current=c}}catch(d){Je(t,i,d)}}function fn(t,i){var s=t.ref,c=t.refCleanup;if(s!==null)if(typeof c=="function")try{c()}catch(d){Je(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){Je(t,i,d)}else s.current=null}function gm(t){var i=t.type,s=t.memoizedProps,c=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&c.focus();break e;case"img":s.src?c.src=s.src:s.srcSet&&(c.srcset=s.srcSet)}}catch(d){Je(t,t.return,d)}}function au(t,i,s){try{var c=t.stateNode;n0(c,t.type,s,i),c[Nt]=i}catch(d){Je(t,t.return,d)}}function ym(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&oi(t.type)||t.tag===4}function ru(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ym(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&oi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uu(t,i,s){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=la));else if(c!==4&&(c===27&&oi(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(uu(t,i,s),t=t.sibling;t!==null;)uu(t,i,s),t=t.sibling}function Zs(t,i,s){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(c!==4&&(c===27&&oi(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Zs(t,i,s),t=t.sibling;t!==null;)Zs(t,i,s),t=t.sibling}function vm(t){var i=t.stateNode,s=t.memoizedProps;try{for(var c=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);gt(i,c,s),i[xt]=t,i[Nt]=s}catch(g){Je(t,t.return,g)}}var Rn=!1,tt=!1,cu=!1,xm=typeof WeakSet=="function"?WeakSet:Set,ft=null;function Vv(t,i){if(t=t.containerInfo,ku=fa,t=Rf(t),rr(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break e}var T=0,S=-1,E=-1,U=0,B=0,F=t,k=null;t:for(;;){for(var P;F!==s||d!==0&&F.nodeType!==3||(S=T+d),F!==g||c!==0&&F.nodeType!==3||(E=T+c),F.nodeType===3&&(T+=F.nodeValue.length),(P=F.firstChild)!==null;)k=F,F=P;for(;;){if(F===t)break t;if(k===s&&++U===d&&(S=T),k===g&&++B===c&&(E=T),(P=F.nextSibling)!==null)break;F=k,k=F.parentNode}F=P}s=S===-1||E===-1?null:{start:S,end:E}}else s=null}s=s||{start:0,end:0}}else s=null;for(Lu={focusedElem:t,selectionRange:s},fa=!1,ft=i;ft!==null;)if(i=ft,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,ft=t;else for(;ft!==null;){switch(i=ft,g=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,s=i,d=g.memoizedProps,g=g.memoizedState,c=s.stateNode;try{var xe=Di(s.type,d,s.elementType===s.type);t=c.getSnapshotBeforeUpdate(xe,g),c.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Je(s,s.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)qu(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":qu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=i.sibling,t!==null){t.return=i.return,ft=t;break}ft=i.return}}function Tm(t,i,s){var c=s.flags;switch(s.tag){case 0:case 11:case 15:Xn(t,s),c&4&&No(5,s);break;case 1:if(Xn(t,s),c&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(T){Je(s,s.return,T)}else{var d=Di(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Je(s,s.return,T)}}c&64&&hm(s),c&512&&Ro(s,s.return);break;case 3:if(Xn(t,s),c&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{td(t,i)}catch(T){Je(s,s.return,T)}}break;case 27:i===null&&c&4&&vm(s);case 26:case 5:Xn(t,s),i===null&&c&4&&gm(s),c&512&&Ro(s,s.return);break;case 12:Xn(t,s);break;case 13:Xn(t,s),c&4&&_m(t,s),c&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Jv.bind(null,s),u0(t,s))));break;case 22:if(c=s.memoizedState!==null||Rn,!c){i=i!==null&&i.memoizedState!==null||tt,d=Rn;var g=tt;Rn=c,(tt=i)&&!g?Wn(t,s,(s.subtreeFlags&8772)!==0):Xn(t,s),Rn=d,tt=g}break;case 30:break;default:Xn(t,s)}}function Cm(t){var i=t.alternate;i!==null&&(t.alternate=null,Cm(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ha(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ke=null,It=!1;function Dn(t,i,s){for(s=s.child;s!==null;)Sm(t,i,s),s=s.sibling}function Sm(t,i,s){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(vt,s)}catch{}switch(s.tag){case 26:tt||fn(s,i),Dn(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:tt||fn(s,i);var c=Ke,d=It;oi(s.type)&&(Ke=s.stateNode,It=!1),Dn(t,i,s),Go(s.stateNode),Ke=c,It=d;break;case 5:tt||fn(s,i);case 6:if(c=Ke,d=It,Ke=null,Dn(t,i,s),Ke=c,It=d,Ke!==null)if(It)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(s.stateNode)}catch(g){Je(s,i,g)}else try{Ke.removeChild(s.stateNode)}catch(g){Je(s,i,g)}break;case 18:Ke!==null&&(It?(t=Ke,ch(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Zo(t)):ch(Ke,s.stateNode));break;case 4:c=Ke,d=It,Ke=s.stateNode.containerInfo,It=!0,Dn(t,i,s),Ke=c,It=d;break;case 0:case 11:case 14:case 15:tt||Qn(2,s,i),tt||Qn(4,s,i),Dn(t,i,s);break;case 1:tt||(fn(s,i),c=s.stateNode,typeof c.componentWillUnmount=="function"&&pm(s,i,c)),Dn(t,i,s);break;case 21:Dn(t,i,s);break;case 22:tt=(c=tt)||s.memoizedState!==null,Dn(t,i,s),tt=c;break;default:Dn(t,i,s)}}function _m(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Zo(t)}catch(s){Je(i,i.return,s)}}function Pv(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new xm),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new xm),i;default:throw Error(o(435,t.tag))}}function fu(t,i){var s=Pv(t);i.forEach(function(c){var d=Yv.bind(null,t,c);s.has(c)||(s.add(c),c.then(d,d))})}function Bt(t,i){var s=i.deletions;if(s!==null)for(var c=0;c<s.length;c++){var d=s[c],g=t,T=i,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(oi(S.type)){Ke=S.stateNode,It=!1;break e}break;case 5:Ke=S.stateNode,It=!1;break e;case 3:case 4:Ke=S.stateNode.containerInfo,It=!0;break e}S=S.return}if(Ke===null)throw Error(o(160));Sm(g,T,d),Ke=null,It=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)bm(i,t),i=i.sibling}var sn=null;function bm(t,i){var s=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Bt(i,t),Ot(t),c&4&&(Qn(3,t,t.return),No(3,t),Qn(5,t,t.return));break;case 1:Bt(i,t),Ot(t),c&512&&(tt||s===null||fn(s,s.return)),c&64&&Rn&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?c:s.concat(c))));break;case 26:var d=sn;if(Bt(i,t),Ot(t),c&512&&(tt||s===null||fn(s,s.return)),c&4){var g=s!==null?s.memoizedState:null;if(c=t.memoizedState,s===null)if(c===null)if(t.stateNode===null){e:{c=t.type,s=t.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Wl]||g[xt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(c),d.head.insertBefore(g,d.querySelector("head > title"))),gt(g,c,s),g[xt]=t,ut(g),c=g;break e;case"link":var T=vh("link","href",d).get(c+(s.href||""));if(T){for(var S=0;S<T.length;S++)if(g=T[S],g.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&g.getAttribute("rel")===(s.rel==null?null:s.rel)&&g.getAttribute("title")===(s.title==null?null:s.title)&&g.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){T.splice(S,1);break t}}g=d.createElement(c),gt(g,c,s),d.head.appendChild(g);break;case"meta":if(T=vh("meta","content",d).get(c+(s.content||""))){for(S=0;S<T.length;S++)if(g=T[S],g.getAttribute("content")===(s.content==null?null:""+s.content)&&g.getAttribute("name")===(s.name==null?null:s.name)&&g.getAttribute("property")===(s.property==null?null:s.property)&&g.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&g.getAttribute("charset")===(s.charSet==null?null:s.charSet)){T.splice(S,1);break t}}g=d.createElement(c),gt(g,c,s),d.head.appendChild(g);break;default:throw Error(o(468,c))}g[xt]=t,ut(g),c=g}t.stateNode=c}else xh(d,t.type,t.stateNode);else t.stateNode=yh(d,c,t.memoizedProps);else g!==c?(g===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):g.count--,c===null?xh(d,t.type,t.stateNode):yh(d,c,t.memoizedProps)):c===null&&t.stateNode!==null&&au(t,t.memoizedProps,s.memoizedProps)}break;case 27:Bt(i,t),Ot(t),c&512&&(tt||s===null||fn(s,s.return)),s!==null&&c&4&&au(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Bt(i,t),Ot(t),c&512&&(tt||s===null||fn(s,s.return)),t.flags&32){d=t.stateNode;try{el(d,"")}catch(P){Je(t,t.return,P)}}c&4&&t.stateNode!=null&&(d=t.memoizedProps,au(t,d,s!==null?s.memoizedProps:d)),c&1024&&(cu=!0);break;case 6:if(Bt(i,t),Ot(t),c&4){if(t.stateNode===null)throw Error(o(162));c=t.memoizedProps,s=t.stateNode;try{s.nodeValue=c}catch(P){Je(t,t.return,P)}}break;case 3:if(ra=null,d=sn,sn=sa(i.containerInfo),Bt(i,t),sn=d,Ot(t),c&4&&s!==null&&s.memoizedState.isDehydrated)try{Zo(i.containerInfo)}catch(P){Je(t,t.return,P)}cu&&(cu=!1,Em(t));break;case 4:c=sn,sn=sa(t.stateNode.containerInfo),Bt(i,t),Ot(t),sn=c;break;case 12:Bt(i,t),Ot(t);break;case 13:Bt(i,t),Ot(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(yu=_t()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,fu(t,c)));break;case 22:d=t.memoizedState!==null;var E=s!==null&&s.memoizedState!==null,U=Rn,B=tt;if(Rn=U||d,tt=B||E,Bt(i,t),tt=B,Rn=U,Ot(t),c&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(s===null||E||Rn||tt||Ii(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){E=s=i;try{if(g=E.stateNode,d)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=E.stateNode;var F=E.memoizedProps.style,k=F!=null&&F.hasOwnProperty("display")?F.display:null;S.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(P){Je(E,E.return,P)}}}else if(i.tag===6){if(s===null){E=i;try{E.stateNode.nodeValue=d?"":E.memoizedProps}catch(P){Je(E,E.return,P)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=t.updateQueue,c!==null&&(s=c.retryQueue,s!==null&&(c.retryQueue=null,fu(t,s))));break;case 19:Bt(i,t),Ot(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,fu(t,c)));break;case 30:break;case 21:break;default:Bt(i,t),Ot(t)}}function Ot(t){var i=t.flags;if(i&2){try{for(var s,c=t.return;c!==null;){if(ym(c)){s=c;break}c=c.return}if(s==null)throw Error(o(160));switch(s.tag){case 27:var d=s.stateNode,g=ru(t);Zs(t,g,d);break;case 5:var T=s.stateNode;s.flags&32&&(el(T,""),s.flags&=-33);var S=ru(t);Zs(t,S,T);break;case 3:case 4:var E=s.stateNode.containerInfo,U=ru(t);uu(t,U,E);break;default:throw Error(o(161))}}catch(B){Je(t,t.return,B)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Em(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Em(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Xn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Tm(t,i.alternate,i),i=i.sibling}function Ii(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Qn(4,i,i.return),Ii(i);break;case 1:fn(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&pm(i,i.return,s),Ii(i);break;case 27:Go(i.stateNode);case 26:case 5:fn(i,i.return),Ii(i);break;case 22:i.memoizedState===null&&Ii(i);break;case 30:Ii(i);break;default:Ii(i)}t=t.sibling}}function Wn(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,d=t,g=i,T=g.flags;switch(g.tag){case 0:case 11:case 15:Wn(d,g,s),No(4,g);break;case 1:if(Wn(d,g,s),c=g,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(U){Je(c,c.return,U)}if(c=g,d=c.updateQueue,d!==null){var S=c.stateNode;try{var E=d.shared.hiddenCallbacks;if(E!==null)for(d.shared.hiddenCallbacks=null,d=0;d<E.length;d++)ed(E[d],S)}catch(U){Je(c,c.return,U)}}s&&T&64&&hm(g),Ro(g,g.return);break;case 27:vm(g);case 26:case 5:Wn(d,g,s),s&&c===null&&T&4&&gm(g),Ro(g,g.return);break;case 12:Wn(d,g,s);break;case 13:Wn(d,g,s),s&&T&4&&_m(d,g);break;case 22:g.memoizedState===null&&Wn(d,g,s),Ro(g,g.return);break;case 30:break;default:Wn(d,g,s)}i=i.sibling}}function du(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&po(s))}function mu(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&po(t))}function dn(t,i,s,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Am(t,i,s,c),i=i.sibling}function Am(t,i,s,c){var d=i.flags;switch(i.tag){case 0:case 11:case 15:dn(t,i,s,c),d&2048&&No(9,i);break;case 1:dn(t,i,s,c);break;case 3:dn(t,i,s,c),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&po(t)));break;case 12:if(d&2048){dn(t,i,s,c),t=i.stateNode;try{var g=i.memoizedProps,T=g.id,S=g.onPostCommit;typeof S=="function"&&S(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(E){Je(i,i.return,E)}}else dn(t,i,s,c);break;case 13:dn(t,i,s,c);break;case 23:break;case 22:g=i.stateNode,T=i.alternate,i.memoizedState!==null?g._visibility&2?dn(t,i,s,c):Do(t,i):g._visibility&2?dn(t,i,s,c):(g._visibility|=2,xl(t,i,s,c,(i.subtreeFlags&10256)!==0)),d&2048&&du(T,i);break;case 24:dn(t,i,s,c),d&2048&&mu(i.alternate,i);break;default:dn(t,i,s,c)}}function xl(t,i,s,c,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=t,T=i,S=s,E=c,U=T.flags;switch(T.tag){case 0:case 11:case 15:xl(g,T,S,E,d),No(8,T);break;case 23:break;case 22:var B=T.stateNode;T.memoizedState!==null?B._visibility&2?xl(g,T,S,E,d):Do(g,T):(B._visibility|=2,xl(g,T,S,E,d)),d&&U&2048&&du(T.alternate,T);break;case 24:xl(g,T,S,E,d),d&&U&2048&&mu(T.alternate,T);break;default:xl(g,T,S,E,d)}i=i.sibling}}function Do(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,c=i,d=c.flags;switch(c.tag){case 22:Do(s,c),d&2048&&du(c.alternate,c);break;case 24:Do(s,c),d&2048&&mu(c.alternate,c);break;default:Do(s,c)}i=i.sibling}}var Io=8192;function Tl(t){if(t.subtreeFlags&Io)for(t=t.child;t!==null;)wm(t),t=t.sibling}function wm(t){switch(t.tag){case 26:Tl(t),t.flags&Io&&t.memoizedState!==null&&S0(sn,t.memoizedState,t.memoizedProps);break;case 5:Tl(t);break;case 3:case 4:var i=sn;sn=sa(t.stateNode.containerInfo),Tl(t),sn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Io,Io=16777216,Tl(t),Io=i):Tl(t));break;default:Tl(t)}}function Mm(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Uo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var c=i[s];ft=c,Rm(c,t)}Mm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Nm(t),t=t.sibling}function Nm(t){switch(t.tag){case 0:case 11:case 15:Uo(t),t.flags&2048&&Qn(9,t,t.return);break;case 3:Uo(t);break;case 12:Uo(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,$s(t)):Uo(t);break;default:Uo(t)}}function $s(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var c=i[s];ft=c,Rm(c,t)}Mm(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Qn(8,i,i.return),$s(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,$s(i));break;default:$s(i)}t=t.sibling}}function Rm(t,i){for(;ft!==null;){var s=ft;switch(s.tag){case 0:case 11:case 15:Qn(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var c=s.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:po(s.memoizedState.cache)}if(c=s.child,c!==null)c.return=s,ft=c;else e:for(s=t;ft!==null;){c=ft;var d=c.sibling,g=c.return;if(Cm(c),c===s){ft=null;break e}if(d!==null){d.return=g,ft=d;break e}ft=g}}}var qv={getCacheForType:function(t){var i=Tt(st),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},Gv=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Ze=null,Re=null,ke=0,Be=0,zt=null,ei=!1,Cl=!1,hu=!1,In=0,Xe=0,ti=0,Ui=0,pu=0,Wt=0,Sl=0,ko=null,Ut=null,gu=!1,yu=0,Ks=1/0,js=null,ni=null,pt=0,ii=null,_l=null,bl=0,vu=0,xu=null,Dm=null,Lo=0,Tu=null;function Ht(){if((Ge&2)!==0&&ke!==0)return ke&-ke;if(A.T!==null){var t=fl;return t!==0?t:wu()}return Yc()}function Im(){Wt===0&&(Wt=(ke&536870912)===0||Pe?zc():536870912);var t=Xt.current;return t!==null&&(t.flags|=32),Wt}function Ft(t,i,s){(t===Ze&&(Be===2||Be===9)||t.cancelPendingCommit!==null)&&(El(t,0),li(t,ke,Wt,!1)),Xl(t,s),((Ge&2)===0||t!==Ze)&&(t===Ze&&((Ge&2)===0&&(Ui|=s),Xe===4&&li(t,ke,Wt,!1)),mn(t))}function Um(t,i,s){if((Ge&6)!==0)throw Error(o(327));var c=!s&&(i&124)===0&&(i&t.expiredLanes)===0||Ql(t,i),d=c?zv(t,i):_u(t,i,!0),g=c;do{if(d===0){Cl&&!c&&li(t,i,0,!1);break}else{if(s=t.current.alternate,g&&!Bv(s)){d=_u(t,i,!1),g=!1;continue}if(d===2){if(g=i,t.errorRecoveryDisabledLanes&g)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var S=t;d=ko;var E=S.current.memoizedState.isDehydrated;if(E&&(El(S,T).flags|=256),T=_u(S,T,!1),T!==2){if(hu&&!E){S.errorRecoveryDisabledLanes|=g,Ui|=g,d=4;break e}g=Ut,Ut=d,g!==null&&(Ut===null?Ut=g:Ut.push.apply(Ut,g))}d=T}if(g=!1,d!==2)continue}}if(d===1){El(t,0),li(t,i,0,!0);break}e:{switch(c=t,g=d,g){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:li(c,i,Wt,!ei);break e;case 2:Ut=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(d=yu+300-_t(),10<d)){if(li(c,i,Wt,!ei),as(c,0,!0)!==0)break e;c.timeoutHandle=rh(km.bind(null,c,s,Ut,js,gu,i,Wt,Ui,Sl,ei,g,2,-0,0),d);break e}km(c,s,Ut,js,gu,i,Wt,Ui,Sl,ei,g,0,-0,0)}}break}while(!0);mn(t)}function km(t,i,s,c,d,g,T,S,E,U,B,F,k,P){if(t.timeoutHandle=-1,F=i.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(zo={stylesheets:null,count:0,unsuspend:C0},wm(i),F=_0(),F!==null)){t.cancelPendingCommit=F(Om.bind(null,t,i,g,s,c,d,T,S,E,B,1,k,P)),li(t,g,T,!U);return}Om(t,i,g,s,c,d,T,S,E)}function Bv(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var c=0;c<s.length;c++){var d=s[c],g=d.getSnapshot;d=d.value;try{if(!qt(g(),d))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function li(t,i,s,c){i&=~pu,i&=~Ui,t.suspendedLanes|=i,t.pingedLanes&=~i,c&&(t.warmLanes|=i),c=t.expirationTimes;for(var d=i;0<d;){var g=31-Pt(d),T=1<<g;c[g]=-1,d&=~T}s!==0&&Fc(t,s,i)}function Qs(){return(Ge&6)===0?(Vo(0),!1):!0}function Cu(){if(Re!==null){if(Be===0)var t=Re.return;else t=Re,bn=wi=null,qr(t),yl=null,Ao=0,t=Re;for(;t!==null;)mm(t.alternate,t),t=t.return;Re=null}}function El(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,l0(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Cu(),Ze=t,Re=s=Cn(t.current,null),ke=i,Be=0,zt=null,ei=!1,Cl=Ql(t,i),hu=!1,Sl=Wt=pu=Ui=ti=Xe=0,Ut=ko=null,gu=!1,(i&8)!==0&&(i|=i&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=i;0<c;){var d=31-Pt(c),g=1<<d;i|=t[d],c&=~g}return In=i,xs(),s}function Lm(t,i){Ae=null,A.H=qs,i===yo||i===Ms?(i=Xf(),Be=3):i===Kf?(i=Xf(),Be=4):Be=i===Wd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,zt=i,Re===null&&(Xe=1,Hs(t,$t(i,t.current)))}function Vm(){var t=A.H;return A.H=qs,t===null?qs:t}function Pm(){var t=A.A;return A.A=qv,t}function Su(){Xe=4,ei||(ke&4194048)!==ke&&Xt.current!==null||(Cl=!0),(ti&134217727)===0&&(Ui&134217727)===0||Ze===null||li(Ze,ke,Wt,!1)}function _u(t,i,s){var c=Ge;Ge|=2;var d=Vm(),g=Pm();(Ze!==t||ke!==i)&&(js=null,El(t,i)),i=!1;var T=Xe;e:do try{if(Be!==0&&Re!==null){var S=Re,E=zt;switch(Be){case 8:Cu(),T=6;break e;case 3:case 2:case 9:case 6:Xt.current===null&&(i=!0);var U=Be;if(Be=0,zt=null,Al(t,S,E,U),s&&Cl){T=0;break e}break;default:U=Be,Be=0,zt=null,Al(t,S,E,U)}}Ov(),T=Xe;break}catch(B){Lm(t,B)}while(!0);return i&&t.shellSuspendCounter++,bn=wi=null,Ge=c,A.H=d,A.A=g,Re===null&&(Ze=null,ke=0,xs()),T}function Ov(){for(;Re!==null;)qm(Re)}function zv(t,i){var s=Ge;Ge|=2;var c=Vm(),d=Pm();Ze!==t||ke!==i?(js=null,Ks=_t()+500,El(t,i)):Cl=Ql(t,i);e:do try{if(Be!==0&&Re!==null){i=Re;var g=zt;t:switch(Be){case 1:Be=0,zt=null,Al(t,i,g,1);break;case 2:case 9:if(jf(g)){Be=0,zt=null,Gm(i);break}i=function(){Be!==2&&Be!==9||Ze!==t||(Be=7),mn(t)},g.then(i,i);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:jf(g)?(Be=0,zt=null,Gm(i)):(Be=0,zt=null,Al(t,i,g,7));break;case 5:var T=null;switch(Re.tag){case 26:T=Re.memoizedState;case 5:case 27:var S=Re;if(!T||Th(T)){Be=0,zt=null;var E=S.sibling;if(E!==null)Re=E;else{var U=S.return;U!==null?(Re=U,Xs(U)):Re=null}break t}}Be=0,zt=null,Al(t,i,g,5);break;case 6:Be=0,zt=null,Al(t,i,g,6);break;case 8:Cu(),Xe=6;break e;default:throw Error(o(462))}}Hv();break}catch(B){Lm(t,B)}while(!0);return bn=wi=null,A.H=c,A.A=d,Ge=s,Re!==null?0:(Ze=null,ke=0,xs(),Xe)}function Hv(){for(;Re!==null&&!Yi();)qm(Re)}function qm(t){var i=fm(t.alternate,t,In);t.memoizedProps=t.pendingProps,i===null?Xs(t):Re=i}function Gm(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=om(s,i,i.pendingProps,i.type,void 0,ke);break;case 11:i=om(s,i,i.pendingProps,i.type.render,i.ref,ke);break;case 5:qr(i);default:mm(s,i),i=Re=Bf(i,In),i=fm(s,i,In)}t.memoizedProps=t.pendingProps,i===null?Xs(t):Re=i}function Al(t,i,s,c){bn=wi=null,qr(i),yl=null,Ao=0;var d=i.return;try{if(Iv(t,d,i,s,ke)){Xe=1,Hs(t,$t(s,t.current)),Re=null;return}}catch(g){if(d!==null)throw Re=d,g;Xe=1,Hs(t,$t(s,t.current)),Re=null;return}i.flags&32768?(Pe||c===1?t=!0:Cl||(ke&536870912)!==0?t=!1:(ei=t=!0,(c===2||c===9||c===3||c===6)&&(c=Xt.current,c!==null&&c.tag===13&&(c.flags|=16384))),Bm(i,t)):Xs(i)}function Xs(t){var i=t;do{if((i.flags&32768)!==0){Bm(i,ei);return}t=i.return;var s=kv(i.alternate,i,In);if(s!==null){Re=s;return}if(i=i.sibling,i!==null){Re=i;return}Re=i=t}while(i!==null);Xe===0&&(Xe=5)}function Bm(t,i){do{var s=Lv(t.alternate,t);if(s!==null){s.flags&=32767,Re=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Re=t;return}Re=t=s}while(t!==null);Xe=6,Re=null}function Om(t,i,s,c,d,g,T,S,E){t.cancelPendingCommit=null;do Ws();while(pt!==0);if((Ge&6)!==0)throw Error(o(327));if(i!==null){if(i===t.current)throw Error(o(177));if(g=i.lanes|i.childLanes,g|=mr,Cy(t,s,g,T,S,E),t===Ze&&(Re=Ze=null,ke=0),_l=i,ii=t,bl=s,vu=g,xu=d,Dm=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Zv(qe,function(){return Ym(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=A.T,A.T=null,d=K.p,K.p=2,T=Ge,Ge|=4;try{Vv(t,i,s)}finally{Ge=T,K.p=d,A.T=c}}pt=1,zm(),Hm(),Fm()}}function zm(){if(pt===1){pt=0;var t=ii,i=_l,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=A.T,A.T=null;var c=K.p;K.p=2;var d=Ge;Ge|=4;try{bm(i,t);var g=Lu,T=Rf(t.containerInfo),S=g.focusedElem,E=g.selectionRange;if(T!==S&&S&&S.ownerDocument&&Nf(S.ownerDocument.documentElement,S)){if(E!==null&&rr(S)){var U=E.start,B=E.end;if(B===void 0&&(B=U),"selectionStart"in S)S.selectionStart=U,S.selectionEnd=Math.min(B,S.value.length);else{var F=S.ownerDocument||document,k=F&&F.defaultView||window;if(k.getSelection){var P=k.getSelection(),xe=S.textContent.length,ye=Math.min(E.start,xe),Fe=E.end===void 0?ye:Math.min(E.end,xe);!P.extend&&ye>Fe&&(T=Fe,Fe=ye,ye=T);var N=Mf(S,ye),w=Mf(S,Fe);if(N&&w&&(P.rangeCount!==1||P.anchorNode!==N.node||P.anchorOffset!==N.offset||P.focusNode!==w.node||P.focusOffset!==w.offset)){var I=F.createRange();I.setStart(N.node,N.offset),P.removeAllRanges(),ye>Fe?(P.addRange(I),P.extend(w.node,w.offset)):(I.setEnd(w.node,w.offset),P.addRange(I))}}}}for(F=[],P=S;P=P.parentNode;)P.nodeType===1&&F.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<F.length;S++){var z=F[S];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}fa=!!ku,Lu=ku=null}finally{Ge=d,K.p=c,A.T=s}}t.current=i,pt=2}}function Hm(){if(pt===2){pt=0;var t=ii,i=_l,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=A.T,A.T=null;var c=K.p;K.p=2;var d=Ge;Ge|=4;try{Tm(t,i.alternate,i)}finally{Ge=d,K.p=c,A.T=s}}pt=3}}function Fm(){if(pt===4||pt===3){pt=0,jl();var t=ii,i=_l,s=bl,c=Dm;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?pt=5:(pt=0,_l=ii=null,Jm(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(ni=null),Oa(s),i=i.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(vt,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=A.T,d=K.p,K.p=2,A.T=null;try{for(var g=t.onRecoverableError,T=0;T<c.length;T++){var S=c[T];g(S.value,{componentStack:S.stack})}}finally{A.T=i,K.p=d}}(bl&3)!==0&&Ws(),mn(t),d=t.pendingLanes,(s&4194090)!==0&&(d&42)!==0?t===Tu?Lo++:(Lo=0,Tu=t):Lo=0,Vo(0)}}function Jm(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,po(i)))}function Ws(t){return zm(),Hm(),Fm(),Ym()}function Ym(){if(pt!==5)return!1;var t=ii,i=vu;vu=0;var s=Oa(bl),c=A.T,d=K.p;try{K.p=32>s?32:s,A.T=null,s=xu,xu=null;var g=ii,T=bl;if(pt=0,_l=ii=null,bl=0,(Ge&6)!==0)throw Error(o(331));var S=Ge;if(Ge|=4,Nm(g.current),Am(g,g.current,T,s),Ge=S,Vo(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(vt,g)}catch{}return!0}finally{K.p=d,A.T=c,Jm(t,i)}}function Zm(t,i,s){i=$t(s,i),i=Xr(t.stateNode,i,2),t=Zn(t,i,2),t!==null&&(Xl(t,2),mn(t))}function Je(t,i,s){if(t.tag===3)Zm(t,t,s);else for(;i!==null;){if(i.tag===3){Zm(i,t,s);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ni===null||!ni.has(c))){t=$t(s,t),s=Qd(2),c=Zn(i,s,2),c!==null&&(Xd(s,c,i,t),Xl(c,2),mn(c));break}}i=i.return}}function bu(t,i,s){var c=t.pingCache;if(c===null){c=t.pingCache=new Gv;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(s)||(hu=!0,d.add(s),t=Fv.bind(null,t,i,s),i.then(t,t))}function Fv(t,i,s){var c=t.pingCache;c!==null&&c.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Ze===t&&(ke&s)===s&&(Xe===4||Xe===3&&(ke&62914560)===ke&&300>_t()-yu?(Ge&2)===0&&El(t,0):pu|=s,Sl===ke&&(Sl=0)),mn(t)}function $m(t,i){i===0&&(i=Hc()),t=al(t,i),t!==null&&(Xl(t,i),mn(t))}function Jv(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),$m(t,s)}function Yv(t,i){var s=0;switch(t.tag){case 13:var c=t.stateNode,d=t.memoizedState;d!==null&&(s=d.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(o(314))}c!==null&&c.delete(i),$m(t,s)}function Zv(t,i){return rt(t,i)}var ea=null,wl=null,Eu=!1,ta=!1,Au=!1,ki=0;function mn(t){t!==wl&&t.next===null&&(wl===null?ea=wl=t:wl=wl.next=t),ta=!0,Eu||(Eu=!0,Kv())}function Vo(t,i){if(!Au&&ta){Au=!0;do for(var s=!1,c=ea;c!==null;){if(t!==0){var d=c.pendingLanes;if(d===0)var g=0;else{var T=c.suspendedLanes,S=c.pingedLanes;g=(1<<31-Pt(42|t)+1)-1,g&=d&~(T&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(s=!0,Xm(c,g))}else g=ke,g=as(c,c===Ze?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Ql(c,g)||(s=!0,Xm(c,g));c=c.next}while(s);Au=!1}}function $v(){Km()}function Km(){ta=Eu=!1;var t=0;ki!==0&&(i0()&&(t=ki),ki=0);for(var i=_t(),s=null,c=ea;c!==null;){var d=c.next,g=jm(c,i);g===0?(c.next=null,s===null?ea=d:s.next=d,d===null&&(wl=s)):(s=c,(t!==0||(g&3)!==0)&&(ta=!0)),c=d}Vo(t)}function jm(t,i){for(var s=t.suspendedLanes,c=t.pingedLanes,d=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var T=31-Pt(g),S=1<<T,E=d[T];E===-1?((S&s)===0||(S&c)!==0)&&(d[T]=Ty(S,i)):E<=i&&(t.expiredLanes|=S),g&=~S}if(i=Ze,s=ke,s=as(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,s===0||t===i&&(Be===2||Be===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&rn(c),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Ql(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(c!==null&&rn(c),Oa(s)){case 2:case 8:s=se;break;case 32:s=qe;break;case 268435456:s=Ye;break;default:s=qe}return c=Qm.bind(null,t),s=rt(s,c),t.callbackPriority=i,t.callbackNode=s,i}return c!==null&&c!==null&&rn(c),t.callbackPriority=2,t.callbackNode=null,2}function Qm(t,i){if(pt!==0&&pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Ws()&&t.callbackNode!==s)return null;var c=ke;return c=as(t,t===Ze?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(Um(t,c,i),jm(t,_t()),t.callbackNode!=null&&t.callbackNode===s?Qm.bind(null,t):null)}function Xm(t,i){if(Ws())return null;Um(t,i,!0)}function Kv(){o0(function(){(Ge&6)!==0?rt(ln,$v):Km()})}function wu(){return ki===0&&(ki=zc()),ki}function Wm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ds(""+t)}function eh(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function jv(t,i,s,c,d){if(i==="submit"&&s&&s.stateNode===d){var g=Wm((d[Nt]||null).action),T=c.submitter;T&&(i=(i=T[Nt]||null)?Wm(i.formAction):T.getAttribute("formAction"),i!==null&&(g=i,T=null));var S=new gs("action","action",null,c,d);t.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ki!==0){var E=T?eh(d,T):new FormData(d);Zr(s,{pending:!0,data:E,method:d.method,action:g},null,E)}}else typeof g=="function"&&(S.preventDefault(),E=T?eh(d,T):new FormData(d),Zr(s,{pending:!0,data:E,method:d.method,action:g},g,E))},currentTarget:d}]})}}for(var Mu=0;Mu<dr.length;Mu++){var Nu=dr[Mu],Qv=Nu.toLowerCase(),Xv=Nu[0].toUpperCase()+Nu.slice(1);on(Qv,"on"+Xv)}on(Uf,"onAnimationEnd"),on(kf,"onAnimationIteration"),on(Lf,"onAnimationStart"),on("dblclick","onDoubleClick"),on("focusin","onFocus"),on("focusout","onBlur"),on(pv,"onTransitionRun"),on(gv,"onTransitionStart"),on(yv,"onTransitionCancel"),on(Vf,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Po));function th(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var c=t[s],d=c.event;c=c.listeners;e:{var g=void 0;if(i)for(var T=c.length-1;0<=T;T--){var S=c[T],E=S.instance,U=S.currentTarget;if(S=S.listener,E!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=U;try{g(d)}catch(B){zs(B)}d.currentTarget=null,g=E}else for(T=0;T<c.length;T++){if(S=c[T],E=S.instance,U=S.currentTarget,S=S.listener,E!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=U;try{g(d)}catch(B){zs(B)}d.currentTarget=null,g=E}}}}function De(t,i){var s=i[za];s===void 0&&(s=i[za]=new Set);var c=t+"__bubble";s.has(c)||(nh(i,t,2,!1),s.add(c))}function Ru(t,i,s){var c=0;i&&(c|=4),nh(s,t,c,i)}var na="_reactListening"+Math.random().toString(36).slice(2);function Du(t){if(!t[na]){t[na]=!0,$c.forEach(function(s){s!=="selectionchange"&&(Wv.has(s)||Ru(s,!1,t),Ru(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[na]||(i[na]=!0,Ru("selectionchange",!1,i))}}function nh(t,i,s,c){switch(Ah(i)){case 2:var d=A0;break;case 8:d=w0;break;default:d=Ju}s=d.bind(null,i,s,t),d=void 0,!Wa||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?t.addEventListener(i,s,{capture:!0,passive:d}):t.addEventListener(i,s,!0):d!==void 0?t.addEventListener(i,s,{passive:d}):t.addEventListener(i,s,!1)}function Iu(t,i,s,c,d){var g=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var S=c.stateNode.containerInfo;if(S===d)break;if(T===4)for(T=c.return;T!==null;){var E=T.tag;if((E===3||E===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;S!==null;){if(T=$i(S),T===null)return;if(E=T.tag,E===5||E===6||E===26||E===27){c=g=T;continue e}S=S.parentNode}}c=c.return}uf(function(){var U=g,B=Qa(s),F=[];e:{var k=Pf.get(t);if(k!==void 0){var P=gs,xe=t;switch(t){case"keypress":if(hs(s)===0)break e;case"keydown":case"keyup":P=Zy;break;case"focusin":xe="focus",P=ir;break;case"focusout":xe="blur",P=ir;break;case"beforeblur":case"afterblur":P=ir;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=df;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=Ly;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=jy;break;case Uf:case kf:case Lf:P=qy;break;case Vf:P=Xy;break;case"scroll":case"scrollend":P=Uy;break;case"wheel":P=ev;break;case"copy":case"cut":case"paste":P=By;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=hf;break;case"toggle":case"beforetoggle":P=nv}var ye=(i&4)!==0,Fe=!ye&&(t==="scroll"||t==="scrollend"),N=ye?k!==null?k+"Capture":null:k;ye=[];for(var w=U,I;w!==null;){var z=w;if(I=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||I===null||N===null||(z=to(w,N),z!=null&&ye.push(qo(w,z,I))),Fe)break;w=w.return}0<ye.length&&(k=new P(k,xe,null,s,B),F.push({event:k,listeners:ye}))}}if((i&7)===0){e:{if(k=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",k&&s!==ja&&(xe=s.relatedTarget||s.fromElement)&&($i(xe)||xe[Zi]))break e;if((P||k)&&(k=B.window===B?B:(k=B.ownerDocument)?k.defaultView||k.parentWindow:window,P?(xe=s.relatedTarget||s.toElement,P=U,xe=xe?$i(xe):null,xe!==null&&(Fe=f(xe),ye=xe.tag,xe!==Fe||ye!==5&&ye!==27&&ye!==6)&&(xe=null)):(P=null,xe=U),P!==xe)){if(ye=df,z="onMouseLeave",N="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(ye=hf,z="onPointerLeave",N="onPointerEnter",w="pointer"),Fe=P==null?k:eo(P),I=xe==null?k:eo(xe),k=new ye(z,w+"leave",P,s,B),k.target=Fe,k.relatedTarget=I,z=null,$i(B)===U&&(ye=new ye(N,w+"enter",xe,s,B),ye.target=I,ye.relatedTarget=Fe,z=ye),Fe=z,P&&xe)t:{for(ye=P,N=xe,w=0,I=ye;I;I=Ml(I))w++;for(I=0,z=N;z;z=Ml(z))I++;for(;0<w-I;)ye=Ml(ye),w--;for(;0<I-w;)N=Ml(N),I--;for(;w--;){if(ye===N||N!==null&&ye===N.alternate)break t;ye=Ml(ye),N=Ml(N)}ye=null}else ye=null;P!==null&&ih(F,k,P,ye,!1),xe!==null&&Fe!==null&&ih(F,Fe,xe,ye,!0)}}e:{if(k=U?eo(U):window,P=k.nodeName&&k.nodeName.toLowerCase(),P==="select"||P==="input"&&k.type==="file")var ce=Sf;else if(Tf(k))if(_f)ce=dv;else{ce=cv;var we=uv}else P=k.nodeName,!P||P.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?U&&Ka(U.elementType)&&(ce=Sf):ce=fv;if(ce&&(ce=ce(t,U))){Cf(F,ce,s,B);break e}we&&we(t,k,U),t==="focusout"&&U&&k.type==="number"&&U.memoizedProps.value!=null&&$a(k,"number",k.value)}switch(we=U?eo(U):window,t){case"focusin":(Tf(we)||we.contentEditable==="true")&&(ll=we,ur=U,uo=null);break;case"focusout":uo=ur=ll=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,Df(F,s,B);break;case"selectionchange":if(hv)break;case"keydown":case"keyup":Df(F,s,B)}var pe;if(or)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else il?vf(t,s)&&(ve="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ve="onCompositionStart");ve&&(pf&&s.locale!=="ko"&&(il||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&il&&(pe=cf()):(Hn=B,er="value"in Hn?Hn.value:Hn.textContent,il=!0)),we=ia(U,ve),0<we.length&&(ve=new mf(ve,t,null,s,B),F.push({event:ve,listeners:we}),pe?ve.data=pe:(pe=xf(s),pe!==null&&(ve.data=pe)))),(pe=lv?ov(t,s):sv(t,s))&&(ve=ia(U,"onBeforeInput"),0<ve.length&&(we=new mf("onBeforeInput","beforeinput",null,s,B),F.push({event:we,listeners:ve}),we.data=pe)),jv(F,t,U,s,B)}th(F,i)})}function qo(t,i,s){return{instance:t,listener:i,currentTarget:s}}function ia(t,i){for(var s=i+"Capture",c=[];t!==null;){var d=t,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=to(t,s),d!=null&&c.unshift(qo(t,d,g)),d=to(t,i),d!=null&&c.push(qo(t,d,g))),t.tag===3)return c;t=t.return}return[]}function Ml(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ih(t,i,s,c,d){for(var g=i._reactName,T=[];s!==null&&s!==c;){var S=s,E=S.alternate,U=S.stateNode;if(S=S.tag,E!==null&&E===c)break;S!==5&&S!==26&&S!==27||U===null||(E=U,d?(U=to(s,g),U!=null&&T.unshift(qo(s,U,E))):d||(U=to(s,g),U!=null&&T.push(qo(s,U,E)))),s=s.return}T.length!==0&&t.push({event:i,listeners:T})}var e0=/\r\n?/g,t0=/\u0000|\uFFFD/g;function lh(t){return(typeof t=="string"?t:""+t).replace(e0,`
`).replace(t0,"")}function oh(t,i){return i=lh(i),lh(t)===i}function la(){}function He(t,i,s,c,d,g){switch(s){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||el(t,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&el(t,""+c);break;case"className":us(t,"class",c);break;case"tabIndex":us(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":us(t,s,c);break;case"style":af(t,c,g);break;case"data":if(i!=="object"){us(t,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(s);break}c=ds(""+c),t.setAttribute(s,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(s==="formAction"?(i!=="input"&&He(t,i,"name",d.name,d,null),He(t,i,"formEncType",d.formEncType,d,null),He(t,i,"formMethod",d.formMethod,d,null),He(t,i,"formTarget",d.formTarget,d,null)):(He(t,i,"encType",d.encType,d,null),He(t,i,"method",d.method,d,null),He(t,i,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(s);break}c=ds(""+c),t.setAttribute(s,c);break;case"onClick":c!=null&&(t.onclick=la);break;case"onScroll":c!=null&&De("scroll",t);break;case"onScrollEnd":c!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(s=c.__html,s!=null){if(d.children!=null)throw Error(o(60));t.innerHTML=s}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}s=ds(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(s,""+c):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":c===!0?t.setAttribute(s,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(s,c):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(s,c):t.removeAttribute(s);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(s):t.setAttribute(s,c);break;case"popover":De("beforetoggle",t),De("toggle",t),rs(t,"popover",c);break;case"xlinkActuate":xn(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":xn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":xn(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":xn(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":xn(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":xn(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":xn(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":xn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":xn(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":rs(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Dy.get(s)||s,rs(t,s,c))}}function Uu(t,i,s,c,d,g){switch(s){case"style":af(t,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(s=c.__html,s!=null){if(d.children!=null)throw Error(o(60));t.innerHTML=s}}break;case"children":typeof c=="string"?el(t,c):(typeof c=="number"||typeof c=="bigint")&&el(t,""+c);break;case"onScroll":c!=null&&De("scroll",t);break;case"onScrollEnd":c!=null&&De("scrollend",t);break;case"onClick":c!=null&&(t.onclick=la);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kc.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),i=s.slice(2,d?s.length-7:void 0),g=t[Nt]||null,g=g!=null?g[s]:null,typeof g=="function"&&t.removeEventListener(i,g,d),typeof c=="function")){typeof g!="function"&&g!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,c,d);break e}s in t?t[s]=c:c===!0?t.setAttribute(s,""):rs(t,s,c)}}}function gt(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var c=!1,d=!1,g;for(g in s)if(s.hasOwnProperty(g)){var T=s[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:He(t,i,g,T,s,null)}}d&&He(t,i,"srcSet",s.srcSet,s,null),c&&He(t,i,"src",s.src,s,null);return;case"input":De("invalid",t);var S=g=T=d=null,E=null,U=null;for(c in s)if(s.hasOwnProperty(c)){var B=s[c];if(B!=null)switch(c){case"name":d=B;break;case"type":T=B;break;case"checked":E=B;break;case"defaultChecked":U=B;break;case"value":g=B;break;case"defaultValue":S=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(o(137,i));break;default:He(t,i,c,B,s,null)}}nf(t,g,S,E,U,T,d,!1),cs(t);return;case"select":De("invalid",t),c=T=g=null;for(d in s)if(s.hasOwnProperty(d)&&(S=s[d],S!=null))switch(d){case"value":g=S;break;case"defaultValue":T=S;break;case"multiple":c=S;default:He(t,i,d,S,s,null)}i=g,s=T,t.multiple=!!c,i!=null?Wi(t,!!c,i,!1):s!=null&&Wi(t,!!c,s,!0);return;case"textarea":De("invalid",t),g=d=c=null;for(T in s)if(s.hasOwnProperty(T)&&(S=s[T],S!=null))switch(T){case"value":c=S;break;case"defaultValue":d=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(o(91));break;default:He(t,i,T,S,s,null)}of(t,c,d,g),cs(t);return;case"option":for(E in s)if(s.hasOwnProperty(E)&&(c=s[E],c!=null))switch(E){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:He(t,i,E,c,s,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(c=0;c<Po.length;c++)De(Po[c],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in s)if(s.hasOwnProperty(U)&&(c=s[U],c!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:He(t,i,U,c,s,null)}return;default:if(Ka(i)){for(B in s)s.hasOwnProperty(B)&&(c=s[B],c!==void 0&&Uu(t,i,B,c,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(c=s[S],c!=null&&He(t,i,S,c,s,null))}function n0(t,i,s,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,T=null,S=null,E=null,U=null,B=null;for(P in s){var F=s[P];if(s.hasOwnProperty(P)&&F!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":E=F;default:c.hasOwnProperty(P)||He(t,i,P,null,c,F)}}for(var k in c){var P=c[k];if(F=s[k],c.hasOwnProperty(k)&&(P!=null||F!=null))switch(k){case"type":g=P;break;case"name":d=P;break;case"checked":U=P;break;case"defaultChecked":B=P;break;case"value":T=P;break;case"defaultValue":S=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(o(137,i));break;default:P!==F&&He(t,i,k,P,c,F)}}Za(t,T,S,E,U,B,g,d);return;case"select":P=T=S=k=null;for(g in s)if(E=s[g],s.hasOwnProperty(g)&&E!=null)switch(g){case"value":break;case"multiple":P=E;default:c.hasOwnProperty(g)||He(t,i,g,null,c,E)}for(d in c)if(g=c[d],E=s[d],c.hasOwnProperty(d)&&(g!=null||E!=null))switch(d){case"value":k=g;break;case"defaultValue":S=g;break;case"multiple":T=g;default:g!==E&&He(t,i,d,g,c,E)}i=S,s=T,c=P,k!=null?Wi(t,!!s,k,!1):!!c!=!!s&&(i!=null?Wi(t,!!s,i,!0):Wi(t,!!s,s?[]:"",!1));return;case"textarea":P=k=null;for(S in s)if(d=s[S],s.hasOwnProperty(S)&&d!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:He(t,i,S,null,c,d)}for(T in c)if(d=c[T],g=s[T],c.hasOwnProperty(T)&&(d!=null||g!=null))switch(T){case"value":k=d;break;case"defaultValue":P=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(o(91));break;default:d!==g&&He(t,i,T,d,c,g)}lf(t,k,P);return;case"option":for(var xe in s)if(k=s[xe],s.hasOwnProperty(xe)&&k!=null&&!c.hasOwnProperty(xe))switch(xe){case"selected":t.selected=!1;break;default:He(t,i,xe,null,c,k)}for(E in c)if(k=c[E],P=s[E],c.hasOwnProperty(E)&&k!==P&&(k!=null||P!=null))switch(E){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:He(t,i,E,k,c,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in s)k=s[ye],s.hasOwnProperty(ye)&&k!=null&&!c.hasOwnProperty(ye)&&He(t,i,ye,null,c,k);for(U in c)if(k=c[U],P=s[U],c.hasOwnProperty(U)&&k!==P&&(k!=null||P!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(o(137,i));break;default:He(t,i,U,k,c,P)}return;default:if(Ka(i)){for(var Fe in s)k=s[Fe],s.hasOwnProperty(Fe)&&k!==void 0&&!c.hasOwnProperty(Fe)&&Uu(t,i,Fe,void 0,c,k);for(B in c)k=c[B],P=s[B],!c.hasOwnProperty(B)||k===P||k===void 0&&P===void 0||Uu(t,i,B,k,c,P);return}}for(var N in s)k=s[N],s.hasOwnProperty(N)&&k!=null&&!c.hasOwnProperty(N)&&He(t,i,N,null,c,k);for(F in c)k=c[F],P=s[F],!c.hasOwnProperty(F)||k===P||k==null&&P==null||He(t,i,F,k,c,P)}var ku=null,Lu=null;function oa(t){return t.nodeType===9?t:t.ownerDocument}function sh(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ah(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Vu(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Pu=null;function i0(){var t=window.event;return t&&t.type==="popstate"?t===Pu?!1:(Pu=t,!0):(Pu=null,!1)}var rh=typeof setTimeout=="function"?setTimeout:void 0,l0=typeof clearTimeout=="function"?clearTimeout:void 0,uh=typeof Promise=="function"?Promise:void 0,o0=typeof queueMicrotask=="function"?queueMicrotask:typeof uh<"u"?function(t){return uh.resolve(null).then(t).catch(s0)}:rh;function s0(t){setTimeout(function(){throw t})}function oi(t){return t==="head"}function ch(t,i){var s=i,c=0,d=0;do{var g=s.nextSibling;if(t.removeChild(s),g&&g.nodeType===8)if(s=g.data,s==="/$"){if(0<c&&8>c){s=c;var T=t.ownerDocument;if(s&1&&Go(T.documentElement),s&2&&Go(T.body),s&4)for(s=T.head,Go(s),T=s.firstChild;T;){var S=T.nextSibling,E=T.nodeName;T[Wl]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&T.rel.toLowerCase()==="stylesheet"||s.removeChild(T),T=S}}if(d===0){t.removeChild(g),Zo(i);return}d--}else s==="$"||s==="$?"||s==="$!"?d++:c=s.charCodeAt(0)-48;else c=0;s=g}while(s);Zo(i)}function qu(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":qu(s),Ha(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function a0(t,i,s,c){for(;t.nodeType===1;){var d=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[Wl])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=an(t.nextSibling),t===null)break}return null}function r0(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=an(t.nextSibling),t===null))return null;return t}function Gu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function u0(t,i){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")i();else{var c=function(){i(),s.removeEventListener("DOMContentLoaded",c)};s.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function an(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Bu=null;function fh(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function dh(t,i,s){switch(i=oa(s),t){case"html":if(t=i.documentElement,!t)throw Error(o(452));return t;case"head":if(t=i.head,!t)throw Error(o(453));return t;case"body":if(t=i.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function Go(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ha(t)}var en=new Map,mh=new Set;function sa(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Un=K.d;K.d={f:c0,r:f0,D:d0,C:m0,L:h0,m:p0,X:y0,S:g0,M:v0};function c0(){var t=Un.f(),i=Qs();return t||i}function f0(t){var i=Ki(t);i!==null&&i.tag===5&&i.type==="form"?Ud(i):Un.r(t)}var Nl=typeof document>"u"?null:document;function hh(t,i,s){var c=Nl;if(c&&typeof i=="string"&&i){var d=Zt(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),mh.has(d)||(mh.add(d),t={rel:t,crossOrigin:s,href:i},c.querySelector(d)===null&&(i=c.createElement("link"),gt(i,"link",t),ut(i),c.head.appendChild(i)))}}function d0(t){Un.D(t),hh("dns-prefetch",t,null)}function m0(t,i){Un.C(t,i),hh("preconnect",t,i)}function h0(t,i,s){Un.L(t,i,s);var c=Nl;if(c&&t&&i){var d='link[rel="preload"][as="'+Zt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+Zt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+Zt(s.imageSizes)+'"]')):d+='[href="'+Zt(t)+'"]';var g=d;switch(i){case"style":g=Rl(t);break;case"script":g=Dl(t)}en.has(g)||(t=x({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),en.set(g,t),c.querySelector(d)!==null||i==="style"&&c.querySelector(Bo(g))||i==="script"&&c.querySelector(Oo(g))||(i=c.createElement("link"),gt(i,"link",t),ut(i),c.head.appendChild(i)))}}function p0(t,i){Un.m(t,i);var s=Nl;if(s&&t){var c=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Zt(c)+'"][href="'+Zt(t)+'"]',g=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Dl(t)}if(!en.has(g)&&(t=x({rel:"modulepreload",href:t},i),en.set(g,t),s.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Oo(g)))return}c=s.createElement("link"),gt(c,"link",t),ut(c),s.head.appendChild(c)}}}function g0(t,i,s){Un.S(t,i,s);var c=Nl;if(c&&t){var d=ji(c).hoistableStyles,g=Rl(t);i=i||"default";var T=d.get(g);if(!T){var S={loading:0,preload:null};if(T=c.querySelector(Bo(g)))S.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":i},s),(s=en.get(g))&&Ou(t,s);var E=T=c.createElement("link");ut(E),gt(E,"link",t),E._p=new Promise(function(U,B){E.onload=U,E.onerror=B}),E.addEventListener("load",function(){S.loading|=1}),E.addEventListener("error",function(){S.loading|=2}),S.loading|=4,aa(T,i,c)}T={type:"stylesheet",instance:T,count:1,state:S},d.set(g,T)}}}function y0(t,i){Un.X(t,i);var s=Nl;if(s&&t){var c=ji(s).hoistableScripts,d=Dl(t),g=c.get(d);g||(g=s.querySelector(Oo(d)),g||(t=x({src:t,async:!0},i),(i=en.get(d))&&zu(t,i),g=s.createElement("script"),ut(g),gt(g,"link",t),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function v0(t,i){Un.M(t,i);var s=Nl;if(s&&t){var c=ji(s).hoistableScripts,d=Dl(t),g=c.get(d);g||(g=s.querySelector(Oo(d)),g||(t=x({src:t,async:!0,type:"module"},i),(i=en.get(d))&&zu(t,i),g=s.createElement("script"),ut(g),gt(g,"link",t),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function ph(t,i,s,c){var d=(d=ee.current)?sa(d):null;if(!d)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Rl(s.href),s=ji(d).hoistableStyles,c=s.get(i),c||(c={type:"style",instance:null,count:0,state:null},s.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Rl(s.href);var g=ji(d).hoistableStyles,T=g.get(t);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,T),(g=d.querySelector(Bo(t)))&&!g._p&&(T.instance=g,T.state.loading=5),en.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},en.set(t,s),g||x0(d,t,s,T.state))),i&&c===null)throw Error(o(528,""));return T}if(i&&c!==null)throw Error(o(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Dl(s),s=ji(d).hoistableScripts,c=s.get(i),c||(c={type:"script",instance:null,count:0,state:null},s.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function Rl(t){return'href="'+Zt(t)+'"'}function Bo(t){return'link[rel="stylesheet"]['+t+"]"}function gh(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function x0(t,i,s,c){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=t.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),gt(i,"link",s),ut(i),t.head.appendChild(i))}function Dl(t){return'[src="'+Zt(t)+'"]'}function Oo(t){return"script[async]"+t}function yh(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var c=t.querySelector('style[data-href~="'+Zt(s.href)+'"]');if(c)return i.instance=c,ut(c),c;var d=x({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),ut(c),gt(c,"style",d),aa(c,s.precedence,t),i.instance=c;case"stylesheet":d=Rl(s.href);var g=t.querySelector(Bo(d));if(g)return i.state.loading|=4,i.instance=g,ut(g),g;c=gh(s),(d=en.get(d))&&Ou(c,d),g=(t.ownerDocument||t).createElement("link"),ut(g);var T=g;return T._p=new Promise(function(S,E){T.onload=S,T.onerror=E}),gt(g,"link",c),i.state.loading|=4,aa(g,s.precedence,t),i.instance=g;case"script":return g=Dl(s.src),(d=t.querySelector(Oo(g)))?(i.instance=d,ut(d),d):(c=s,(d=en.get(g))&&(c=x({},s),zu(c,d)),t=t.ownerDocument||t,d=t.createElement("script"),ut(d),gt(d,"link",c),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,aa(c,s.precedence,t));return i.instance}function aa(t,i,s){for(var c=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,g=d,T=0;T<c.length;T++){var S=c[T];if(S.dataset.precedence===i)g=S;else if(g!==d)break}g?g.parentNode.insertBefore(t,g.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Ou(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function zu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ra=null;function vh(t,i,s){if(ra===null){var c=new Map,d=ra=new Map;d.set(s,c)}else d=ra,c=d.get(s),c||(c=new Map,d.set(s,c));if(c.has(t))return c;for(c.set(t,null),s=s.getElementsByTagName(t),d=0;d<s.length;d++){var g=s[d];if(!(g[Wl]||g[xt]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(i)||"";T=t+T;var S=c.get(T);S?S.push(g):c.set(T,[g])}}return c}function xh(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function T0(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Th(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var zo=null;function C0(){}function S0(t,i,s){if(zo===null)throw Error(o(475));var c=zo;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=Rl(s.href),g=t.querySelector(Bo(d));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(c.count++,c=ua.bind(c),t.then(c,c)),i.state.loading|=4,i.instance=g,ut(g);return}g=t.ownerDocument||t,s=gh(s),(d=en.get(d))&&Ou(s,d),g=g.createElement("link"),ut(g);var T=g;T._p=new Promise(function(S,E){T.onload=S,T.onerror=E}),gt(g,"link",s),i.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=ua.bind(c),t.addEventListener("load",i),t.addEventListener("error",i))}}function _0(){if(zo===null)throw Error(o(475));var t=zo;return t.stylesheets&&t.count===0&&Hu(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&Hu(t,t.stylesheets),t.unsuspend){var c=t.unsuspend;t.unsuspend=null,c()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function ua(){if(this.count--,this.count===0){if(this.stylesheets)Hu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ca=null;function Hu(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ca=new Map,i.forEach(b0,t),ca=null,ua.call(t))}function b0(t,i){if(!(i.state.loading&4)){var s=ca.get(t);if(s)var c=s.get(null);else{s=new Map,ca.set(t,s);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var T=d[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(s.set(T.dataset.precedence,T),c=T)}c&&s.set(null,c)}d=i.instance,T=d.getAttribute("data-precedence"),g=s.get(T)||c,g===c&&s.set(null,d),s.set(T,d),this.count++,c=ua.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),g?g.parentNode.insertBefore(d,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var Ho={$$typeof:$,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function E0(t,i,s,c,d,g,T,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ga(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ga(0),this.hiddenUpdates=Ga(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Ch(t,i,s,c,d,g,T,S,E,U,B,F){return t=new E0(t,i,s,T,S,E,U,F),i=1,g===!0&&(i|=24),g=Gt(3,null,null,i),t.current=g,g.stateNode=t,i=br(),i.refCount++,t.pooledCache=i,i.refCount++,g.memoizedState={element:c,isDehydrated:s,cache:i},Mr(g),t}function Sh(t){return t?(t=rl,t):rl}function _h(t,i,s,c,d,g){d=Sh(d),c.context===null?c.context=d:c.pendingContext=d,c=Yn(i),c.payload={element:s},g=g===void 0?null:g,g!==null&&(c.callback=g),s=Zn(t,c,i),s!==null&&(Ft(s,t,i),xo(s,t,i))}function bh(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Fu(t,i){bh(t,i),(t=t.alternate)&&bh(t,i)}function Eh(t){if(t.tag===13){var i=al(t,67108864);i!==null&&Ft(i,t,67108864),Fu(t,67108864)}}var fa=!0;function A0(t,i,s,c){var d=A.T;A.T=null;var g=K.p;try{K.p=2,Ju(t,i,s,c)}finally{K.p=g,A.T=d}}function w0(t,i,s,c){var d=A.T;A.T=null;var g=K.p;try{K.p=8,Ju(t,i,s,c)}finally{K.p=g,A.T=d}}function Ju(t,i,s,c){if(fa){var d=Yu(c);if(d===null)Iu(t,i,c,da,s),wh(t,c);else if(N0(d,t,i,s,c))c.stopPropagation();else if(wh(t,c),i&4&&-1<M0.indexOf(t)){for(;d!==null;){var g=Ki(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=yi(g.pendingLanes);if(T!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var E=1<<31-Pt(T);S.entanglements[1]|=E,T&=~E}mn(g),(Ge&6)===0&&(Ks=_t()+500,Vo(0))}}break;case 13:S=al(g,2),S!==null&&Ft(S,g,2),Qs(),Fu(g,2)}if(g=Yu(c),g===null&&Iu(t,i,c,da,s),g===d)break;d=g}d!==null&&c.stopPropagation()}else Iu(t,i,c,null,s)}}function Yu(t){return t=Qa(t),Zu(t)}var da=null;function Zu(t){if(da=null,t=$i(t),t!==null){var i=f(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=m(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return da=t,null}function Ah(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bn()){case ln:return 2;case se:return 8;case qe:case yt:return 32;case Ye:return 268435456;default:return 32}default:return 32}}var $u=!1,si=null,ai=null,ri=null,Fo=new Map,Jo=new Map,ui=[],M0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wh(t,i){switch(t){case"focusin":case"focusout":si=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":Fo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(i.pointerId)}}function Yo(t,i,s,c,d,g){return t===null||t.nativeEvent!==g?(t={blockedOn:i,domEventName:s,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},i!==null&&(i=Ki(i),i!==null&&Eh(i)),t):(t.eventSystemFlags|=c,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function N0(t,i,s,c,d){switch(i){case"focusin":return si=Yo(si,t,i,s,c,d),!0;case"dragenter":return ai=Yo(ai,t,i,s,c,d),!0;case"mouseover":return ri=Yo(ri,t,i,s,c,d),!0;case"pointerover":var g=d.pointerId;return Fo.set(g,Yo(Fo.get(g)||null,t,i,s,c,d)),!0;case"gotpointercapture":return g=d.pointerId,Jo.set(g,Yo(Jo.get(g)||null,t,i,s,c,d)),!0}return!1}function Mh(t){var i=$i(t.target);if(i!==null){var s=f(i);if(s!==null){if(i=s.tag,i===13){if(i=m(s),i!==null){t.blockedOn=i,Sy(t.priority,function(){if(s.tag===13){var c=Ht();c=Ba(c);var d=al(s,c);d!==null&&Ft(d,s,c),Fu(s,c)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ma(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Yu(t.nativeEvent);if(s===null){s=t.nativeEvent;var c=new s.constructor(s.type,s);ja=c,s.target.dispatchEvent(c),ja=null}else return i=Ki(s),i!==null&&Eh(i),t.blockedOn=s,!1;i.shift()}return!0}function Nh(t,i,s){ma(t)&&s.delete(i)}function R0(){$u=!1,si!==null&&ma(si)&&(si=null),ai!==null&&ma(ai)&&(ai=null),ri!==null&&ma(ri)&&(ri=null),Fo.forEach(Nh),Jo.forEach(Nh)}function ha(t,i){t.blockedOn===i&&(t.blockedOn=null,$u||($u=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,R0)))}var pa=null;function Rh(t){pa!==t&&(pa=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){pa===t&&(pa=null);for(var i=0;i<t.length;i+=3){var s=t[i],c=t[i+1],d=t[i+2];if(typeof c!="function"){if(Zu(c||s)===null)continue;break}var g=Ki(s);g!==null&&(t.splice(i,3),i-=3,Zr(g,{pending:!0,data:d,method:s.method,action:c},c,d))}}))}function Zo(t){function i(E){return ha(E,t)}si!==null&&ha(si,t),ai!==null&&ha(ai,t),ri!==null&&ha(ri,t),Fo.forEach(i),Jo.forEach(i);for(var s=0;s<ui.length;s++){var c=ui[s];c.blockedOn===t&&(c.blockedOn=null)}for(;0<ui.length&&(s=ui[0],s.blockedOn===null);)Mh(s),s.blockedOn===null&&ui.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(c=0;c<s.length;c+=3){var d=s[c],g=s[c+1],T=d[Nt]||null;if(typeof g=="function")T||Rh(s);else if(T){var S=null;if(g&&g.hasAttribute("formAction")){if(d=g,T=g[Nt]||null)S=T.formAction;else if(Zu(d)!==null)continue}else S=T.action;typeof S=="function"?s[c+1]=S:(s.splice(c,3),c-=3),Rh(s)}}}function Ku(t){this._internalRoot=t}ga.prototype.render=Ku.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(o(409));var s=i.current,c=Ht();_h(s,c,t,i,null,null)},ga.prototype.unmount=Ku.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;_h(t.current,2,null,t,null,null),Qs(),i[Zi]=null}};function ga(t){this._internalRoot=t}ga.prototype.unstable_scheduleHydration=function(t){if(t){var i=Yc();t={blockedOn:null,target:t,priority:i};for(var s=0;s<ui.length&&i!==0&&i<ui[s].priority;s++);ui.splice(s,0,t),s===0&&Mh(t)}};var Dh=e.version;if(Dh!=="19.1.0")throw Error(o(527,Dh,"19.1.0"));K.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=y(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var D0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ya=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ya.isDisabled&&ya.supportsFiber)try{vt=ya.inject(D0),ot=ya}catch{}}return Ko.createRoot=function(t,i){if(!a(t))throw Error(o(299));var s=!1,c="",d=Zd,g=$d,T=Kd,S=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=Ch(t,1,!1,null,null,s,c,d,g,T,S,null),t[Zi]=i.current,Du(t),new Ku(i)},Ko.hydrateRoot=function(t,i,s){if(!a(t))throw Error(o(299));var c=!1,d="",g=Zd,T=$d,S=Kd,E=null,U=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(E=s.unstable_transitionCallbacks),s.formState!==void 0&&(U=s.formState)),i=Ch(t,1,!0,i,s??null,c,d,g,T,S,E,U),i.context=Sh(null),s=i.current,c=Ht(),c=Ba(c),d=Yn(c),d.callback=null,Zn(s,d,c),s=c,i.current.lanes=s,Xl(i,s),mn(i),t[Zi]=i.current,Du(t),new ga(i)},Ko.version="19.1.0",Ko}var Oh;function z0(){if(Oh)return Xu.exports;Oh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Xu.exports=O0(),Xu.exports}var H0=z0();const F0=Ng(H0);var We=(n=>(n[n.Home=0]="Home",n[n.Vocabulary=1]="Vocabulary",n[n.Reading=2]="Reading",n[n.Drive=3]="Drive",n[n.Listening=4]="Listening",n[n.WordList=5]="WordList",n[n.Part5=6]="Part5",n[n.Part6=7]="Part6",n[n.BasicGrammar=8]="BasicGrammar",n[n.GrammarCheck=9]="GrammarCheck",n))(We||{}),qi=(n=>(n.Beginner="Beginner (TOEIC 400-600)",n.Intermediate="Intermediate (TOEIC 600-800)",n.Advanced="Advanced (TOEIC 800-990)",n))(qi||{}),Pi=(n=>(n.Business="Business",n.Travel="Travel",n.DailyLife="Daily Life",n.Finance="Finance",n.Health="Health",n))(Pi||{}),kl=(n=>(n.Noun="Noun",n.Verb="Verb",n.Adjective="Adjective",n.Adverb="Adverb",n))(kl||{}),kt=(n=>(n.Part2="Part 2: Question-Response",n.Part3="Part 3: Conversation",n.Part4="Part 4: Short Talk",n))(kt||{});const Ln=[qi.Beginner,qi.Intermediate,qi.Advanced],Lt=[Pi.Business,Pi.Travel,Pi.DailyLife,Pi.Finance,Pi.Health],ql=[kl.Noun,kl.Verb,kl.Adjective,kl.Adverb],Gl="All Levels",Bi="All Categories",zh=[Gl,...Ln],Rg=[Bi,...Lt],uc=[kt.Part2,kt.Part3,kt.Part4],va=["名詞 (Nouns)","動詞 (Verbs)","形容詞 (Adjectives)","副詞 (Adverbs)","前置詞 (Prepositions)","冠詞 (Articles: a, an, the)","現在形 (Present Tense)","過去形 (Past Tense)","未来形 (Future Tense)","現在完了形 (Present Perfect)","助動詞 (Auxiliary Verbs)","SVO文型 (Sentence Structure)"],J0=({className:n="w-6 h-6"})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M14 16.94A2 2 0 1 1 10.06 15M4.01 15.14A2 2 0 1 1 0 16.94"}),v.jsx("path",{d:"M4 17h6l2-4H4.22A2 2 0 0 0 2.25 15c0 .7.36 1.34.9 1.7"}),v.jsx("path",{d:"m14 7-2 4h8.5a2 2 0 0 1 1.95 2.57l-1.23 4.93A2 2 0 0 1 19.3 20H14.1a2 2 0 0 1-1.95-1.43L11.5 16"}),v.jsx("path",{d:"M6.5 13H11"})]}),Y0=({className:n="w-6 h-6"})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M3 18v-6a9 9 0 0 1 18 0v6"}),v.jsx("path",{d:"M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h1a2 2 0 0 1 2 2Z"}),v.jsx("path",{d:"M3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2Z"})]}),Et=()=>v.jsx("div",{className:"flex justify-center items-center p-4",children:v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),cc=(n,e)=>e.some(l=>n instanceof l);let Hh,Fh;function Z0(){return Hh||(Hh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $0(){return Fh||(Fh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fc=new WeakMap,nc=new WeakMap,Ua=new WeakMap;function K0(n){const e=new Promise((l,o)=>{const a=()=>{n.removeEventListener("success",f),n.removeEventListener("error",m)},f=()=>{l(Gi(n.result)),a()},m=()=>{o(n.error),a()};n.addEventListener("success",f),n.addEventListener("error",m)});return Ua.set(e,n),e}function j0(n){if(fc.has(n))return;const e=new Promise((l,o)=>{const a=()=>{n.removeEventListener("complete",f),n.removeEventListener("error",m),n.removeEventListener("abort",m)},f=()=>{l(),a()},m=()=>{o(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",f),n.addEventListener("error",m),n.addEventListener("abort",m)});fc.set(n,e)}let dc={get(n,e,l){if(n instanceof IDBTransaction){if(e==="done")return fc.get(n);if(e==="store")return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return Gi(n[e])},set(n,e,l){return n[e]=l,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Dg(n){dc=n(dc)}function Q0(n){return $0().includes(n)?function(...e){return n.apply(mc(this),e),Gi(this.request)}:function(...e){return Gi(n.apply(mc(this),e))}}function X0(n){return typeof n=="function"?Q0(n):(n instanceof IDBTransaction&&j0(n),cc(n,Z0())?new Proxy(n,dc):n)}function Gi(n){if(n instanceof IDBRequest)return K0(n);if(nc.has(n))return nc.get(n);const e=X0(n);return e!==n&&(nc.set(n,e),Ua.set(e,n)),e}const mc=n=>Ua.get(n);function W0(n,e,{blocked:l,upgrade:o,blocking:a,terminated:f}={}){const m=indexedDB.open(n,e),h=Gi(m);return o&&m.addEventListener("upgradeneeded",y=>{o(Gi(m.result),y.oldVersion,y.newVersion,Gi(m.transaction),y)}),l&&m.addEventListener("blocked",y=>l(y.oldVersion,y.newVersion,y)),h.then(y=>{f&&y.addEventListener("close",()=>f()),a&&y.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const ex=["get","getKey","getAll","getAllKeys","count"],tx=["put","add","delete","clear"],ic=new Map;function Jh(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ic.get(e))return ic.get(e);const l=e.replace(/FromIndex$/,""),o=e!==l,a=tx.includes(l);if(!(l in(o?IDBIndex:IDBObjectStore).prototype)||!(a||ex.includes(l)))return;const f=async function(m,...h){const y=this.transaction(m,a?"readwrite":"readonly");let p=y.store;return o&&(p=p.index(h.shift())),(await Promise.all([p[l](...h),a&&y.done]))[0]};return ic.set(e,f),f}Dg(n=>({...n,get:(e,l,o)=>Jh(e,l)||n.get(e,l,o),has:(e,l)=>!!Jh(e,l)||n.has(e,l)}));const nx=["continue","continuePrimaryKey","advance"],Yh={},hc=new WeakMap,Ig=new WeakMap,ix={get(n,e){if(!nx.includes(e))return n[e];let l=Yh[e];return l||(l=Yh[e]=function(...o){hc.set(this,Ig.get(this)[e](...o))}),l}};async function*lx(...n){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...n)),!e)return;e=e;const l=new Proxy(e,ix);for(Ig.set(l,e),Ua.set(l,mc(e));e;)yield l,e=await(hc.get(l)||e.continue()),hc.delete(l)}function Zh(n,e){return e===Symbol.asyncIterator&&cc(n,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&cc(n,[IDBIndex,IDBObjectStore])}Dg(n=>({...n,get(e,l,o){return Zh(e,l)?lx:n.get(e,l,o)},has(e,l){return Zh(e,l)||n.has(e,l)}}));const ox="TOEICAI_TUTOR_DB",sx=5,At="words",wt="idioms",lc="vocabulary";let oc=null;const Vn=()=>(oc||(oc=W0(ox,sx,{async upgrade(n,e,l,o){if(console.log(`Upgrading database from version ${e} to ${l}...`),e<4){if(console.log("Applying version 4 upgrade: Separating words and idioms."),!n.objectStoreNames.contains(At)){const a=n.createObjectStore(At,{keyPath:"id",autoIncrement:!0});a.createIndex("english_pos",["english","pos"],{unique:!0}),a.createIndex("level_category",["level","category"],{unique:!1})}if(!n.objectStoreNames.contains(wt)){const a=n.createObjectStore(wt,{keyPath:"id",autoIncrement:!0});a.createIndex("english","english",{unique:!0}),a.createIndex("level_category",["level","category"],{unique:!1})}if(n.objectStoreNames.contains(lc)){console.log("Migrating data from old 'vocabulary' store...");const a=o.objectStore(lc),f=o.objectStore(At),m=o.objectStore(wt);let h=await a.openCursor();for(;h;){const y=h.value,{id:p,...x}=y;y.type==="word"&&y.pos&&ql.includes(y.pos)?await f.add(x).catch(C=>console.warn("Skipping duplicate word during migration:",y.english,C.message)):y.type==="idiom"&&await m.add(x).catch(C=>console.warn("Skipping duplicate idiom during migration:",y.english,C.message)),h=await h.continue()}n.deleteObjectStore(lc),console.log("Migration complete. Old 'vocabulary' store deleted.")}}if(e<5){console.log("Applying version 5 upgrade: Adding frequencyLevel index.");const a=o.objectStore(At);a.indexNames.contains("frequencyLevel")||a.createIndex("frequencyLevel","frequencyLevel",{unique:!1});const f=o.objectStore(wt);f.indexNames.contains("frequencyLevel")||f.createIndex("frequencyLevel","frequencyLevel",{unique:!1})}}})),oc),Ug=async n=>{const l=(await Vn()).transaction([At,wt],"readwrite"),o=l.objectStore(At),a=l.objectStore(wt),f=o.index("english_pos"),m=a.index("english");let h=0;try{for(const y of n){if(!y||typeof y.english!="string"||!y.english||!y.type){console.warn("Skipping item with invalid base properties (english/type):",y);continue}if(!y.japanese||!y.example_en||!y.example_jp||!y.level||!y.category){console.warn("Skipping item with missing core data fields:",y);continue}const{id:p,...x}=y;if(y.type==="word")y.pos&&ql.includes(y.pos)?await f.get([y.english,y.pos])||(await o.add(x),h++):console.warn("Skipping invalid word item (bad or missing POS):",y);else if(y.type==="idiom"&&!await m.get(y.english)){const _={...x,pos:null};await a.add(_),h++}}await l.done}catch(y){throw console.error("Transaction aborted during addVocabularyItems:",y),l.abort(),y}return h},ax=async(n,e,l,o,a,f,m)=>{const h=await Vn();let y=[];if(l==="word"||l==="all"){const p=await h.getAllFromIndex(At,"level_category",IDBKeyRange.only([n,e]));y.push(...p)}if(l==="idiom"||l==="all"){const p=await h.getAllFromIndex(wt,"level_category",IDBKeyRange.only([n,e]));y.push(...p)}if(o!=="all"&&(y=y.filter(p=>p.pos===o)),m&&(y=y.filter(p=>p.frequencyLevel===m)),a==="Alphabetical")y.sort((p,x)=>p.english.localeCompare(x.english));else for(let p=y.length-1;p>0;p--){const x=Math.floor(Math.random()*(p+1));[y[p],y[x]]=[y[x],y[p]]}return y.slice(0,f)},$h=async(n,e,l,o,a,f)=>{const m=await Vn();let h=[];if(l==="word"||l==="all"){const y=await m.getAllFromIndex(At,"level_category",IDBKeyRange.only([n,e]));h.push(...y)}if(l==="idiom"||l==="all"){const y=await m.getAllFromIndex(wt,"level_category",IDBKeyRange.only([n,e]));h.push(...y)}if(o!=="all"&&(h=h.filter(y=>y.pos===o)),f&&(h=h.filter(y=>y.frequencyLevel===f)),a==="Alphabetical")h.sort((y,p)=>y.english.localeCompare(p.english));else for(let y=h.length-1;y>0;y--){const p=Math.floor(Math.random()*(y+1));[h[y],h[p]]=[h[p],h[y]]}return h},rx=async()=>{const n=await Vn(),e=await n.count(At),l=await n.count(wt);return e+l},ux=async(n,e,l,o)=>{const a=await Vn();let f=[];if(l==="word"||l==="all"){const h=await a.getAll(At);f.push(...h)}if(l==="idiom"||l==="all"){const h=await a.getAll(wt);f.push(...h)}return n!==Gl&&(f=f.filter(h=>h.level===n)),e!==Bi&&(f=f.filter(h=>h.category===e)),f.sort(()=>.5-Math.random()).slice(0,o).map(h=>h.type==="word"&&h.pos?`${h.english}-${h.pos}`:h.english)},cx=async(n,e,l)=>{var x;const o=await Vn(),a=(x=l.search)==null?void 0:x.toLowerCase(),f=C=>!(l.level&&C.level!==l.level||l.category&&C.category!==l.category||l.type&&C.type!==l.type||l.frequencyLevel&&C.frequencyLevel!==l.frequencyLevel||a&&!C.english.toLowerCase().includes(a)&&!C.japanese.toLowerCase().includes(a));let m=[];if(l.type!=="idiom"){const C=await o.getAll(At);m.push(...C.filter(f))}if(l.type!=="word"){const C=await o.getAll(wt);m.push(...C.filter(f))}l.sortOrder==="alphabetical"?m.sort((C,_)=>C.english.localeCompare(_.english)):m.sort((C,_)=>(C.id??0)-(_.id??0));const h=m.length,y=(n-1)*e;return{items:m.slice(y,y+e),total:h}},fx=async()=>{const n=await Vn(),e=await n.getAll(At),l=await n.getAll(wt);return[...e,...l]},Kh=async()=>{const n=await Vn(),e=await n.getAll(At),l=await n.getAll(wt);return[...e,...l].filter(o=>o.frequencyLevel===void 0)},dx=async n=>{const l=(await Vn()).transaction([At,wt],"readwrite"),o=l.objectStore(At),a=l.objectStore(wt);await Promise.all(n.map(async f=>{const m=f.type==="word"?o:a,h=await m.get(f.id);h&&(h.frequencyLevel=f.frequencyLevel,await m.put(h))})),await l.done},mx=({className:n="w-6 h-6"})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M13 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9"}),v.jsx("path",{d:"M14 4l5 5h-5V4Z"}),v.jsx("path",{d:"M9 12h-1"}),v.jsx("path",{d:"M15 12h-1"}),v.jsx("path",{d:"M12 12h-1"}),v.jsx("path",{d:"M10 18h4"}),v.jsx("path",{d:"m17 15-1 1 1 1"}),v.jsx("path",{d:"m14 15 1 1-1 1"})]}),hx=({className:n="w-6 h-6"})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),v.jsx("polyline",{points:"14 2 14 8 20 8"}),v.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),v.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),v.jsx("line",{x1:"10",y1:"9",x2:"8",y2:"9"})]}),px=({className:n="w-6 h-6"})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),v.jsx("path",{d:"M6.5 2H20v15H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]}),gx=({className:n="w-6 h-6"})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),v.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),yx=({className:n="w-6 h-6"})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),v.jsx("polyline",{points:"2 17 12 22 22 17"}),v.jsx("polyline",{points:"2 12 12 17 22 12"})]}),kg=({className:n="w-6 h-6"})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"m3 16 4 4 8-8"}),v.jsx("path",{d:"m16 4-5 5"}),v.jsx("path",{d:"M13.5 2.5a2.12 2.12 0 0 1 3 3L5 21l-4 1 1-4Z"})]}),vx=({className:n="w-6 h-6"})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15-.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),v.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),xx=({className:n="w-5 h-5 inline-block -mt-1 mx-1"})=>v.jsxs("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17 21",fill:"none",children:[v.jsx("path",{d:"M14.625 6.5625H13.125V8.0625C13.125 8.47969 12.7922 8.8125 12.375 8.8125C11.9578 8.8125 11.625 8.47969 11.625 8.0625V6.5625H9.375V8.0625C9.375 8.47969 9.04219 8.8125 8.625 8.8125C8.20781 8.8125 7.875 8.47969 7.875 8.0625V6.5625H5.625V8.0625C5.625 8.47969 5.29219 8.8125 4.875 8.8125C4.45781 8.8125 4.125 8.47969 4.125 8.0625V6.5625H2.625C1.98281 6.5625 1.5 7.04531 1.5 7.6875V17.8125C1.5 18.4547 1.98281 18.9375 2.625 18.9375H14.625C15.2672 18.9375 15.75 18.4547 15.75 17.8125V7.6875C15.75 7.04531 15.2672 6.5625 14.625 6.5625Z",fill:"currentColor"}),v.jsx("path",{d:"M8.625 1.3125C8.94375 1.3125 9.1875 1.55625 9.1875 1.875V12.1875C9.1875 12.5062 8.94375 12.75 8.625 12.75C8.30625 12.75 8.0625 12.5062 8.0625 12.1875V1.875C8.0625 1.55625 8.30625 1.3125 8.625 1.3125Z",fill:"currentColor"}),v.jsx("path",{d:"M11.5875 4.43438L8.9625 1.80938C8.75391 1.60078 8.49609 1.60078 8.2875 1.80938L5.6625 4.43438C5.38125 4.71562 5.59062 5.25 6.0375 5.25H7.5V12.1875C7.5 12.5062 7.74375 12.75 8.0625 12.75H9.1875C9.50625 12.75 9.75 12.5062 9.75 12.1875V5.25H11.2125C11.6594 5.25 11.8687 4.71562 11.5875 4.43438Z",fill:"currentColor"})]}),Tx=()=>{const[n,e]=L.useState(!1);return L.useEffect(()=>{const l=()=>{const a=window.navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(a)},o=()=>"standalone"in window.navigator&&window.navigator.standalone;l()&&!o()&&e(!0)},[]),n?v.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 w-[95%] max-w-lg z-50",children:v.jsx("div",{className:"bg-slate-800 text-white rounded-xl shadow-2xl p-4 ring-2 ring-slate-700",children:v.jsxs("p",{className:"text-center text-sm leading-relaxed",children:["To get the full app experience, add this to your Home Screen. Tap the",v.jsx(xx,{className:"w-5 h-5 inline-block mx-1"}),"icon and then select 'Add to Home Screen'."]})})}):null};var Ve;(function(n){n.assertEqual=a=>{};function e(a){}n.assertIs=e;function l(a){throw new Error}n.assertNever=l,n.arrayToEnum=a=>{const f={};for(const m of a)f[m]=m;return f},n.getValidEnumValues=a=>{const f=n.objectKeys(a).filter(h=>typeof a[a[h]]!="number"),m={};for(const h of f)m[h]=a[h];return n.objectValues(m)},n.objectValues=a=>n.objectKeys(a).map(function(f){return a[f]}),n.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const f=[];for(const m in a)Object.prototype.hasOwnProperty.call(a,m)&&f.push(m);return f},n.find=(a,f)=>{for(const m of a)if(f(m))return m},n.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function o(a,f=" | "){return a.map(m=>typeof m=="string"?`'${m}'`:m).join(f)}n.joinValues=o,n.jsonStringifyReplacer=(a,f)=>typeof f=="bigint"?f.toString():f})(Ve||(Ve={}));var jh;(function(n){n.mergeShapes=(e,l)=>({...e,...l})})(jh||(jh={}));const fe=Ve.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),fi=n=>{switch(typeof n){case"undefined":return fe.undefined;case"string":return fe.string;case"number":return Number.isNaN(n)?fe.nan:fe.number;case"boolean":return fe.boolean;case"function":return fe.function;case"bigint":return fe.bigint;case"symbol":return fe.symbol;case"object":return Array.isArray(n)?fe.array:n===null?fe.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?fe.promise:typeof Map<"u"&&n instanceof Map?fe.map:typeof Set<"u"&&n instanceof Set?fe.set:typeof Date<"u"&&n instanceof Date?fe.date:fe.object;default:return fe.unknown}},te=Ve.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class kn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};const l=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,l):this.__proto__=l,this.name="ZodError",this.issues=e}format(e){const l=e||function(f){return f.message},o={_errors:[]},a=f=>{for(const m of f.issues)if(m.code==="invalid_union")m.unionErrors.map(a);else if(m.code==="invalid_return_type")a(m.returnTypeError);else if(m.code==="invalid_arguments")a(m.argumentsError);else if(m.path.length===0)o._errors.push(l(m));else{let h=o,y=0;for(;y<m.path.length;){const p=m.path[y];y===m.path.length-1?(h[p]=h[p]||{_errors:[]},h[p]._errors.push(l(m))):h[p]=h[p]||{_errors:[]},h=h[p],y++}}};return a(this),o}static assert(e){if(!(e instanceof kn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ve.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=l=>l.message){const l={},o=[];for(const a of this.issues)if(a.path.length>0){const f=a.path[0];l[f]=l[f]||[],l[f].push(e(a))}else o.push(e(a));return{formErrors:o,fieldErrors:l}}get formErrors(){return this.flatten()}}kn.create=n=>new kn(n);const pc=(n,e)=>{let l;switch(n.code){case te.invalid_type:n.received===fe.undefined?l="Required":l=`Expected ${n.expected}, received ${n.received}`;break;case te.invalid_literal:l=`Invalid literal value, expected ${JSON.stringify(n.expected,Ve.jsonStringifyReplacer)}`;break;case te.unrecognized_keys:l=`Unrecognized key(s) in object: ${Ve.joinValues(n.keys,", ")}`;break;case te.invalid_union:l="Invalid input";break;case te.invalid_union_discriminator:l=`Invalid discriminator value. Expected ${Ve.joinValues(n.options)}`;break;case te.invalid_enum_value:l=`Invalid enum value. Expected ${Ve.joinValues(n.options)}, received '${n.received}'`;break;case te.invalid_arguments:l="Invalid function arguments";break;case te.invalid_return_type:l="Invalid function return type";break;case te.invalid_date:l="Invalid date";break;case te.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(l=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(l=`${l} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?l=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?l=`Invalid input: must end with "${n.validation.endsWith}"`:Ve.assertNever(n.validation):n.validation!=="regex"?l=`Invalid ${n.validation}`:l="Invalid";break;case te.too_small:n.type==="array"?l=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?l=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?l=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="bigint"?l=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?l=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:l="Invalid input";break;case te.too_big:n.type==="array"?l=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?l=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?l=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?l=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?l=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:l="Invalid input";break;case te.custom:l="Invalid input";break;case te.invalid_intersection_types:l="Intersection results could not be merged";break;case te.not_multiple_of:l=`Number must be a multiple of ${n.multipleOf}`;break;case te.not_finite:l="Number must be finite";break;default:l=e.defaultError,Ve.assertNever(n)}return{message:l}};let Cx=pc;function Sx(){return Cx}const _x=n=>{const{data:e,path:l,errorMaps:o,issueData:a}=n,f=[...l,...a.path||[]],m={...a,path:f};if(a.message!==void 0)return{...a,path:f,message:a.message};let h="";const y=o.filter(p=>!!p).slice().reverse();for(const p of y)h=p(m,{data:e,defaultError:h}).message;return{...a,path:f,message:h}};function re(n,e){const l=Sx(),o=_x({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,l,l===pc?void 0:pc].filter(a=>!!a)});n.common.issues.push(o)}class Mt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,l){const o=[];for(const a of l){if(a.status==="aborted")return _e;a.status==="dirty"&&e.dirty(),o.push(a.value)}return{status:e.value,value:o}}static async mergeObjectAsync(e,l){const o=[];for(const a of l){const f=await a.key,m=await a.value;o.push({key:f,value:m})}return Mt.mergeObjectSync(e,o)}static mergeObjectSync(e,l){const o={};for(const a of l){const{key:f,value:m}=a;if(f.status==="aborted"||m.status==="aborted")return _e;f.status==="dirty"&&e.dirty(),m.status==="dirty"&&e.dirty(),f.value!=="__proto__"&&(typeof m.value<"u"||a.alwaysSet)&&(o[f.value]=m.value)}return{status:e.value,value:o}}}const _e=Object.freeze({status:"aborted"}),Qo=n=>({status:"dirty",value:n}),nn=n=>({status:"valid",value:n}),Qh=n=>n.status==="aborted",Xh=n=>n.status==="dirty",Bl=n=>n.status==="valid",Ea=n=>typeof Promise<"u"&&n instanceof Promise;var me;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(me||(me={}));class yn{constructor(e,l,o,a){this._cachedPath=[],this.parent=e,this.data=l,this._path=o,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Wh=(n,e)=>{if(Bl(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const l=new kn(n.common.issues);return this._error=l,this._error}}};function Ee(n){if(!n)return{};const{errorMap:e,invalid_type_error:l,required_error:o,description:a}=n;if(e&&(l||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(m,h)=>{const{message:y}=n;return m.code==="invalid_enum_value"?{message:y??h.defaultError}:typeof h.data>"u"?{message:y??o??h.defaultError}:m.code!=="invalid_type"?{message:h.defaultError}:{message:y??l??h.defaultError}},description:a}}class Ie{get description(){return this._def.description}_getType(e){return fi(e.data)}_getOrReturnCtx(e,l){return l||{common:e.parent.common,data:e.data,parsedType:fi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Mt,ctx:{common:e.parent.common,data:e.data,parsedType:fi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const l=this._parse(e);if(Ea(l))throw new Error("Synchronous parse encountered promise.");return l}_parseAsync(e){const l=this._parse(e);return Promise.resolve(l)}parse(e,l){const o=this.safeParse(e,l);if(o.success)return o.data;throw o.error}safeParse(e,l){const o={common:{issues:[],async:(l==null?void 0:l.async)??!1,contextualErrorMap:l==null?void 0:l.errorMap},path:(l==null?void 0:l.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fi(e)},a=this._parseSync({data:e,path:o.path,parent:o});return Wh(o,a)}"~validate"(e){var o,a;const l={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fi(e)};if(!this["~standard"].async)try{const f=this._parseSync({data:e,path:[],parent:l});return Bl(f)?{value:f.value}:{issues:l.common.issues}}catch(f){(a=(o=f==null?void 0:f.message)==null?void 0:o.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),l.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:l}).then(f=>Bl(f)?{value:f.value}:{issues:l.common.issues})}async parseAsync(e,l){const o=await this.safeParseAsync(e,l);if(o.success)return o.data;throw o.error}async safeParseAsync(e,l){const o={common:{issues:[],contextualErrorMap:l==null?void 0:l.errorMap,async:!0},path:(l==null?void 0:l.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fi(e)},a=this._parse({data:e,path:o.path,parent:o}),f=await(Ea(a)?a:Promise.resolve(a));return Wh(o,f)}refine(e,l){const o=a=>typeof l=="string"||typeof l>"u"?{message:l}:typeof l=="function"?l(a):l;return this._refinement((a,f)=>{const m=e(a),h=()=>f.addIssue({code:te.custom,...o(a)});return typeof Promise<"u"&&m instanceof Promise?m.then(y=>y?!0:(h(),!1)):m?!0:(h(),!1)})}refinement(e,l){return this._refinement((o,a)=>e(o)?!0:(a.addIssue(typeof l=="function"?l(o,a):l),!1))}_refinement(e){return new Hl({schema:this,typeName:Se.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:l=>this["~validate"](l)}}optional(){return di.create(this,this._def)}nullable(){return Fl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return gn.create(this)}promise(){return Ra.create(this,this._def)}or(e){return wa.create([this,e],this._def)}and(e){return Ma.create(this,e,this._def)}transform(e){return new Hl({...Ee(this._def),schema:this,typeName:Se.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const l=typeof e=="function"?e:()=>e;return new xc({...Ee(this._def),innerType:this,defaultValue:l,typeName:Se.ZodDefault})}brand(){return new Yx({typeName:Se.ZodBranded,type:this,...Ee(this._def)})}catch(e){const l=typeof e=="function"?e:()=>e;return new Tc({...Ee(this._def),innerType:this,catchValue:l,typeName:Se.ZodCatch})}describe(e){const l=this.constructor;return new l({...this._def,description:e})}pipe(e){return Vc.create(this,e)}readonly(){return Cc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const bx=/^c[^\s-]{8,}$/i,Ex=/^[0-9a-z]+$/,Ax=/^[0-9A-HJKMNP-TV-Z]{26}$/i,wx=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Mx=/^[a-z0-9_-]{21}$/i,Nx=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Rx=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Dx=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ix="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let sc;const Ux=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,kx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Lx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Vx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Px=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,qx=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Lg="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Gx=new RegExp(`^${Lg}$`);function Vg(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const l=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${l}`}function Bx(n){return new RegExp(`^${Vg(n)}$`)}function Ox(n){let e=`${Lg}T${Vg(n)}`;const l=[];return l.push(n.local?"Z?":"Z"),n.offset&&l.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${l.join("|")})`,new RegExp(`^${e}$`)}function zx(n,e){return!!((e==="v4"||!e)&&Ux.test(n)||(e==="v6"||!e)&&Lx.test(n))}function Hx(n,e){if(!Nx.test(n))return!1;try{const[l]=n.split(".");if(!l)return!1;const o=l.replace(/-/g,"+").replace(/_/g,"/").padEnd(l.length+(4-l.length%4)%4,"="),a=JSON.parse(atob(o));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function Fx(n,e){return!!((e==="v4"||!e)&&kx.test(n)||(e==="v6"||!e)&&Vx.test(n))}class hn extends Ie{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==fe.string){const f=this._getOrReturnCtx(e);return re(f,{code:te.invalid_type,expected:fe.string,received:f.parsedType}),_e}const o=new Mt;let a;for(const f of this._def.checks)if(f.kind==="min")e.data.length<f.value&&(a=this._getOrReturnCtx(e,a),re(a,{code:te.too_small,minimum:f.value,type:"string",inclusive:!0,exact:!1,message:f.message}),o.dirty());else if(f.kind==="max")e.data.length>f.value&&(a=this._getOrReturnCtx(e,a),re(a,{code:te.too_big,maximum:f.value,type:"string",inclusive:!0,exact:!1,message:f.message}),o.dirty());else if(f.kind==="length"){const m=e.data.length>f.value,h=e.data.length<f.value;(m||h)&&(a=this._getOrReturnCtx(e,a),m?re(a,{code:te.too_big,maximum:f.value,type:"string",inclusive:!0,exact:!0,message:f.message}):h&&re(a,{code:te.too_small,minimum:f.value,type:"string",inclusive:!0,exact:!0,message:f.message}),o.dirty())}else if(f.kind==="email")Dx.test(e.data)||(a=this._getOrReturnCtx(e,a),re(a,{validation:"email",code:te.invalid_string,message:f.message}),o.dirty());else if(f.kind==="emoji")sc||(sc=new RegExp(Ix,"u")),sc.test(e.data)||(a=this._getOrReturnCtx(e,a),re(a,{validation:"emoji",code:te.invalid_string,message:f.message}),o.dirty());else if(f.kind==="uuid")wx.test(e.data)||(a=this._getOrReturnCtx(e,a),re(a,{validation:"uuid",code:te.invalid_string,message:f.message}),o.dirty());else if(f.kind==="nanoid")Mx.test(e.data)||(a=this._getOrReturnCtx(e,a),re(a,{validation:"nanoid",code:te.invalid_string,message:f.message}),o.dirty());else if(f.kind==="cuid")bx.test(e.data)||(a=this._getOrReturnCtx(e,a),re(a,{validation:"cuid",code:te.invalid_string,message:f.message}),o.dirty());else if(f.kind==="cuid2")Ex.test(e.data)||(a=this._getOrReturnCtx(e,a),re(a,{validation:"cuid2",code:te.invalid_string,message:f.message}),o.dirty());else if(f.kind==="ulid")Ax.test(e.data)||(a=this._getOrReturnCtx(e,a),re(a,{validation:"ulid",code:te.invalid_string,message:f.message}),o.dirty());else if(f.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),re(a,{validation:"url",code:te.invalid_string,message:f.message}),o.dirty()}else f.kind==="regex"?(f.regex.lastIndex=0,f.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),re(a,{validation:"regex",code:te.invalid_string,message:f.message}),o.dirty())):f.kind==="trim"?e.data=e.data.trim():f.kind==="includes"?e.data.includes(f.value,f.position)||(a=this._getOrReturnCtx(e,a),re(a,{code:te.invalid_string,validation:{includes:f.value,position:f.position},message:f.message}),o.dirty()):f.kind==="toLowerCase"?e.data=e.data.toLowerCase():f.kind==="toUpperCase"?e.data=e.data.toUpperCase():f.kind==="startsWith"?e.data.startsWith(f.value)||(a=this._getOrReturnCtx(e,a),re(a,{code:te.invalid_string,validation:{startsWith:f.value},message:f.message}),o.dirty()):f.kind==="endsWith"?e.data.endsWith(f.value)||(a=this._getOrReturnCtx(e,a),re(a,{code:te.invalid_string,validation:{endsWith:f.value},message:f.message}),o.dirty()):f.kind==="datetime"?Ox(f).test(e.data)||(a=this._getOrReturnCtx(e,a),re(a,{code:te.invalid_string,validation:"datetime",message:f.message}),o.dirty()):f.kind==="date"?Gx.test(e.data)||(a=this._getOrReturnCtx(e,a),re(a,{code:te.invalid_string,validation:"date",message:f.message}),o.dirty()):f.kind==="time"?Bx(f).test(e.data)||(a=this._getOrReturnCtx(e,a),re(a,{code:te.invalid_string,validation:"time",message:f.message}),o.dirty()):f.kind==="duration"?Rx.test(e.data)||(a=this._getOrReturnCtx(e,a),re(a,{validation:"duration",code:te.invalid_string,message:f.message}),o.dirty()):f.kind==="ip"?zx(e.data,f.version)||(a=this._getOrReturnCtx(e,a),re(a,{validation:"ip",code:te.invalid_string,message:f.message}),o.dirty()):f.kind==="jwt"?Hx(e.data,f.alg)||(a=this._getOrReturnCtx(e,a),re(a,{validation:"jwt",code:te.invalid_string,message:f.message}),o.dirty()):f.kind==="cidr"?Fx(e.data,f.version)||(a=this._getOrReturnCtx(e,a),re(a,{validation:"cidr",code:te.invalid_string,message:f.message}),o.dirty()):f.kind==="base64"?Px.test(e.data)||(a=this._getOrReturnCtx(e,a),re(a,{validation:"base64",code:te.invalid_string,message:f.message}),o.dirty()):f.kind==="base64url"?qx.test(e.data)||(a=this._getOrReturnCtx(e,a),re(a,{validation:"base64url",code:te.invalid_string,message:f.message}),o.dirty()):Ve.assertNever(f);return{status:o.value,value:e.data}}_regex(e,l,o){return this.refinement(a=>e.test(a),{validation:l,code:te.invalid_string,...me.errToObj(o)})}_addCheck(e){return new hn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...me.errToObj(e)})}url(e){return this._addCheck({kind:"url",...me.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...me.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...me.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...me.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...me.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...me.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...me.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...me.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...me.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...me.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...me.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...me.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...me.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...me.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...me.errToObj(e)})}regex(e,l){return this._addCheck({kind:"regex",regex:e,...me.errToObj(l)})}includes(e,l){return this._addCheck({kind:"includes",value:e,position:l==null?void 0:l.position,...me.errToObj(l==null?void 0:l.message)})}startsWith(e,l){return this._addCheck({kind:"startsWith",value:e,...me.errToObj(l)})}endsWith(e,l){return this._addCheck({kind:"endsWith",value:e,...me.errToObj(l)})}min(e,l){return this._addCheck({kind:"min",value:e,...me.errToObj(l)})}max(e,l){return this._addCheck({kind:"max",value:e,...me.errToObj(l)})}length(e,l){return this._addCheck({kind:"length",value:e,...me.errToObj(l)})}nonempty(e){return this.min(1,me.errToObj(e))}trim(){return new hn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new hn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new hn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const l of this._def.checks)l.kind==="min"&&(e===null||l.value>e)&&(e=l.value);return e}get maxLength(){let e=null;for(const l of this._def.checks)l.kind==="max"&&(e===null||l.value<e)&&(e=l.value);return e}}hn.create=n=>new hn({checks:[],typeName:Se.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...Ee(n)});function Jx(n,e){const l=(n.toString().split(".")[1]||"").length,o=(e.toString().split(".")[1]||"").length,a=l>o?l:o,f=Number.parseInt(n.toFixed(a).replace(".","")),m=Number.parseInt(e.toFixed(a).replace(".",""));return f%m/10**a}class Oi extends Ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==fe.number){const f=this._getOrReturnCtx(e);return re(f,{code:te.invalid_type,expected:fe.number,received:f.parsedType}),_e}let o;const a=new Mt;for(const f of this._def.checks)f.kind==="int"?Ve.isInteger(e.data)||(o=this._getOrReturnCtx(e,o),re(o,{code:te.invalid_type,expected:"integer",received:"float",message:f.message}),a.dirty()):f.kind==="min"?(f.inclusive?e.data<f.value:e.data<=f.value)&&(o=this._getOrReturnCtx(e,o),re(o,{code:te.too_small,minimum:f.value,type:"number",inclusive:f.inclusive,exact:!1,message:f.message}),a.dirty()):f.kind==="max"?(f.inclusive?e.data>f.value:e.data>=f.value)&&(o=this._getOrReturnCtx(e,o),re(o,{code:te.too_big,maximum:f.value,type:"number",inclusive:f.inclusive,exact:!1,message:f.message}),a.dirty()):f.kind==="multipleOf"?Jx(e.data,f.value)!==0&&(o=this._getOrReturnCtx(e,o),re(o,{code:te.not_multiple_of,multipleOf:f.value,message:f.message}),a.dirty()):f.kind==="finite"?Number.isFinite(e.data)||(o=this._getOrReturnCtx(e,o),re(o,{code:te.not_finite,message:f.message}),a.dirty()):Ve.assertNever(f);return{status:a.value,value:e.data}}gte(e,l){return this.setLimit("min",e,!0,me.toString(l))}gt(e,l){return this.setLimit("min",e,!1,me.toString(l))}lte(e,l){return this.setLimit("max",e,!0,me.toString(l))}lt(e,l){return this.setLimit("max",e,!1,me.toString(l))}setLimit(e,l,o,a){return new Oi({...this._def,checks:[...this._def.checks,{kind:e,value:l,inclusive:o,message:me.toString(a)}]})}_addCheck(e){return new Oi({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:me.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:me.toString(e)})}multipleOf(e,l){return this._addCheck({kind:"multipleOf",value:e,message:me.toString(l)})}finite(e){return this._addCheck({kind:"finite",message:me.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:me.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:me.toString(e)})}get minValue(){let e=null;for(const l of this._def.checks)l.kind==="min"&&(e===null||l.value>e)&&(e=l.value);return e}get maxValue(){let e=null;for(const l of this._def.checks)l.kind==="max"&&(e===null||l.value<e)&&(e=l.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ve.isInteger(e.value))}get isFinite(){let e=null,l=null;for(const o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(l===null||o.value>l)&&(l=o.value):o.kind==="max"&&(e===null||o.value<e)&&(e=o.value)}return Number.isFinite(l)&&Number.isFinite(e)}}Oi.create=n=>new Oi({checks:[],typeName:Se.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...Ee(n)});class zi extends Ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==fe.bigint)return this._getInvalidInput(e);let o;const a=new Mt;for(const f of this._def.checks)f.kind==="min"?(f.inclusive?e.data<f.value:e.data<=f.value)&&(o=this._getOrReturnCtx(e,o),re(o,{code:te.too_small,type:"bigint",minimum:f.value,inclusive:f.inclusive,message:f.message}),a.dirty()):f.kind==="max"?(f.inclusive?e.data>f.value:e.data>=f.value)&&(o=this._getOrReturnCtx(e,o),re(o,{code:te.too_big,type:"bigint",maximum:f.value,inclusive:f.inclusive,message:f.message}),a.dirty()):f.kind==="multipleOf"?e.data%f.value!==BigInt(0)&&(o=this._getOrReturnCtx(e,o),re(o,{code:te.not_multiple_of,multipleOf:f.value,message:f.message}),a.dirty()):Ve.assertNever(f);return{status:a.value,value:e.data}}_getInvalidInput(e){const l=this._getOrReturnCtx(e);return re(l,{code:te.invalid_type,expected:fe.bigint,received:l.parsedType}),_e}gte(e,l){return this.setLimit("min",e,!0,me.toString(l))}gt(e,l){return this.setLimit("min",e,!1,me.toString(l))}lte(e,l){return this.setLimit("max",e,!0,me.toString(l))}lt(e,l){return this.setLimit("max",e,!1,me.toString(l))}setLimit(e,l,o,a){return new zi({...this._def,checks:[...this._def.checks,{kind:e,value:l,inclusive:o,message:me.toString(a)}]})}_addCheck(e){return new zi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:me.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:me.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:me.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:me.toString(e)})}multipleOf(e,l){return this._addCheck({kind:"multipleOf",value:e,message:me.toString(l)})}get minValue(){let e=null;for(const l of this._def.checks)l.kind==="min"&&(e===null||l.value>e)&&(e=l.value);return e}get maxValue(){let e=null;for(const l of this._def.checks)l.kind==="max"&&(e===null||l.value<e)&&(e=l.value);return e}}zi.create=n=>new zi({checks:[],typeName:Se.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...Ee(n)});class Aa extends Ie{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==fe.boolean){const o=this._getOrReturnCtx(e);return re(o,{code:te.invalid_type,expected:fe.boolean,received:o.parsedType}),_e}return nn(e.data)}}Aa.create=n=>new Aa({typeName:Se.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...Ee(n)});class Ol extends Ie{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==fe.date){const f=this._getOrReturnCtx(e);return re(f,{code:te.invalid_type,expected:fe.date,received:f.parsedType}),_e}if(Number.isNaN(e.data.getTime())){const f=this._getOrReturnCtx(e);return re(f,{code:te.invalid_date}),_e}const o=new Mt;let a;for(const f of this._def.checks)f.kind==="min"?e.data.getTime()<f.value&&(a=this._getOrReturnCtx(e,a),re(a,{code:te.too_small,message:f.message,inclusive:!0,exact:!1,minimum:f.value,type:"date"}),o.dirty()):f.kind==="max"?e.data.getTime()>f.value&&(a=this._getOrReturnCtx(e,a),re(a,{code:te.too_big,message:f.message,inclusive:!0,exact:!1,maximum:f.value,type:"date"}),o.dirty()):Ve.assertNever(f);return{status:o.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ol({...this._def,checks:[...this._def.checks,e]})}min(e,l){return this._addCheck({kind:"min",value:e.getTime(),message:me.toString(l)})}max(e,l){return this._addCheck({kind:"max",value:e.getTime(),message:me.toString(l)})}get minDate(){let e=null;for(const l of this._def.checks)l.kind==="min"&&(e===null||l.value>e)&&(e=l.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const l of this._def.checks)l.kind==="max"&&(e===null||l.value<e)&&(e=l.value);return e!=null?new Date(e):null}}Ol.create=n=>new Ol({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:Se.ZodDate,...Ee(n)});class ep extends Ie{_parse(e){if(this._getType(e)!==fe.symbol){const o=this._getOrReturnCtx(e);return re(o,{code:te.invalid_type,expected:fe.symbol,received:o.parsedType}),_e}return nn(e.data)}}ep.create=n=>new ep({typeName:Se.ZodSymbol,...Ee(n)});class tp extends Ie{_parse(e){if(this._getType(e)!==fe.undefined){const o=this._getOrReturnCtx(e);return re(o,{code:te.invalid_type,expected:fe.undefined,received:o.parsedType}),_e}return nn(e.data)}}tp.create=n=>new tp({typeName:Se.ZodUndefined,...Ee(n)});class np extends Ie{_parse(e){if(this._getType(e)!==fe.null){const o=this._getOrReturnCtx(e);return re(o,{code:te.invalid_type,expected:fe.null,received:o.parsedType}),_e}return nn(e.data)}}np.create=n=>new np({typeName:Se.ZodNull,...Ee(n)});class ip extends Ie{constructor(){super(...arguments),this._any=!0}_parse(e){return nn(e.data)}}ip.create=n=>new ip({typeName:Se.ZodAny,...Ee(n)});class gc extends Ie{constructor(){super(...arguments),this._unknown=!0}_parse(e){return nn(e.data)}}gc.create=n=>new gc({typeName:Se.ZodUnknown,...Ee(n)});class mi extends Ie{_parse(e){const l=this._getOrReturnCtx(e);return re(l,{code:te.invalid_type,expected:fe.never,received:l.parsedType}),_e}}mi.create=n=>new mi({typeName:Se.ZodNever,...Ee(n)});class lp extends Ie{_parse(e){if(this._getType(e)!==fe.undefined){const o=this._getOrReturnCtx(e);return re(o,{code:te.invalid_type,expected:fe.void,received:o.parsedType}),_e}return nn(e.data)}}lp.create=n=>new lp({typeName:Se.ZodVoid,...Ee(n)});class gn extends Ie{_parse(e){const{ctx:l,status:o}=this._processInputParams(e),a=this._def;if(l.parsedType!==fe.array)return re(l,{code:te.invalid_type,expected:fe.array,received:l.parsedType}),_e;if(a.exactLength!==null){const m=l.data.length>a.exactLength.value,h=l.data.length<a.exactLength.value;(m||h)&&(re(l,{code:m?te.too_big:te.too_small,minimum:h?a.exactLength.value:void 0,maximum:m?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),o.dirty())}if(a.minLength!==null&&l.data.length<a.minLength.value&&(re(l,{code:te.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),o.dirty()),a.maxLength!==null&&l.data.length>a.maxLength.value&&(re(l,{code:te.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),o.dirty()),l.common.async)return Promise.all([...l.data].map((m,h)=>a.type._parseAsync(new yn(l,m,l.path,h)))).then(m=>Mt.mergeArray(o,m));const f=[...l.data].map((m,h)=>a.type._parseSync(new yn(l,m,l.path,h)));return Mt.mergeArray(o,f)}get element(){return this._def.type}min(e,l){return new gn({...this._def,minLength:{value:e,message:me.toString(l)}})}max(e,l){return new gn({...this._def,maxLength:{value:e,message:me.toString(l)}})}length(e,l){return new gn({...this._def,exactLength:{value:e,message:me.toString(l)}})}nonempty(e){return this.min(1,e)}}gn.create=(n,e)=>new gn({type:n,minLength:null,maxLength:null,exactLength:null,typeName:Se.ZodArray,...Ee(e)});function Ul(n){if(n instanceof lt){const e={};for(const l in n.shape){const o=n.shape[l];e[l]=di.create(Ul(o))}return new lt({...n._def,shape:()=>e})}else return n instanceof gn?new gn({...n._def,type:Ul(n.element)}):n instanceof di?di.create(Ul(n.unwrap())):n instanceof Fl?Fl.create(Ul(n.unwrap())):n instanceof Hi?Hi.create(n.items.map(e=>Ul(e))):n}class lt extends Ie{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),l=Ve.objectKeys(e);return this._cached={shape:e,keys:l},this._cached}_parse(e){if(this._getType(e)!==fe.object){const p=this._getOrReturnCtx(e);return re(p,{code:te.invalid_type,expected:fe.object,received:p.parsedType}),_e}const{status:o,ctx:a}=this._processInputParams(e),{shape:f,keys:m}=this._getCached(),h=[];if(!(this._def.catchall instanceof mi&&this._def.unknownKeys==="strip"))for(const p in a.data)m.includes(p)||h.push(p);const y=[];for(const p of m){const x=f[p],C=a.data[p];y.push({key:{status:"valid",value:p},value:x._parse(new yn(a,C,a.path,p)),alwaysSet:p in a.data})}if(this._def.catchall instanceof mi){const p=this._def.unknownKeys;if(p==="passthrough")for(const x of h)y.push({key:{status:"valid",value:x},value:{status:"valid",value:a.data[x]}});else if(p==="strict")h.length>0&&(re(a,{code:te.unrecognized_keys,keys:h}),o.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const x of h){const C=a.data[x];y.push({key:{status:"valid",value:x},value:p._parse(new yn(a,C,a.path,x)),alwaysSet:x in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const p=[];for(const x of y){const C=await x.key,_=await x.value;p.push({key:C,value:_,alwaysSet:x.alwaysSet})}return p}).then(p=>Mt.mergeObjectSync(o,p)):Mt.mergeObjectSync(o,y)}get shape(){return this._def.shape()}strict(e){return me.errToObj,new lt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(l,o)=>{var f,m;const a=((m=(f=this._def).errorMap)==null?void 0:m.call(f,l,o).message)??o.defaultError;return l.code==="unrecognized_keys"?{message:me.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new lt({...this._def,unknownKeys:"strip"})}passthrough(){return new lt({...this._def,unknownKeys:"passthrough"})}extend(e){return new lt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new lt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Se.ZodObject})}setKey(e,l){return this.augment({[e]:l})}catchall(e){return new lt({...this._def,catchall:e})}pick(e){const l={};for(const o of Ve.objectKeys(e))e[o]&&this.shape[o]&&(l[o]=this.shape[o]);return new lt({...this._def,shape:()=>l})}omit(e){const l={};for(const o of Ve.objectKeys(this.shape))e[o]||(l[o]=this.shape[o]);return new lt({...this._def,shape:()=>l})}deepPartial(){return Ul(this)}partial(e){const l={};for(const o of Ve.objectKeys(this.shape)){const a=this.shape[o];e&&!e[o]?l[o]=a:l[o]=a.optional()}return new lt({...this._def,shape:()=>l})}required(e){const l={};for(const o of Ve.objectKeys(this.shape))if(e&&!e[o])l[o]=this.shape[o];else{let f=this.shape[o];for(;f instanceof di;)f=f._def.innerType;l[o]=f}return new lt({...this._def,shape:()=>l})}keyof(){return Pg(Ve.objectKeys(this.shape))}}lt.create=(n,e)=>new lt({shape:()=>n,unknownKeys:"strip",catchall:mi.create(),typeName:Se.ZodObject,...Ee(e)});lt.strictCreate=(n,e)=>new lt({shape:()=>n,unknownKeys:"strict",catchall:mi.create(),typeName:Se.ZodObject,...Ee(e)});lt.lazycreate=(n,e)=>new lt({shape:n,unknownKeys:"strip",catchall:mi.create(),typeName:Se.ZodObject,...Ee(e)});class wa extends Ie{_parse(e){const{ctx:l}=this._processInputParams(e),o=this._def.options;function a(f){for(const h of f)if(h.result.status==="valid")return h.result;for(const h of f)if(h.result.status==="dirty")return l.common.issues.push(...h.ctx.common.issues),h.result;const m=f.map(h=>new kn(h.ctx.common.issues));return re(l,{code:te.invalid_union,unionErrors:m}),_e}if(l.common.async)return Promise.all(o.map(async f=>{const m={...l,common:{...l.common,issues:[]},parent:null};return{result:await f._parseAsync({data:l.data,path:l.path,parent:m}),ctx:m}})).then(a);{let f;const m=[];for(const y of o){const p={...l,common:{...l.common,issues:[]},parent:null},x=y._parseSync({data:l.data,path:l.path,parent:p});if(x.status==="valid")return x;x.status==="dirty"&&!f&&(f={result:x,ctx:p}),p.common.issues.length&&m.push(p.common.issues)}if(f)return l.common.issues.push(...f.ctx.common.issues),f.result;const h=m.map(y=>new kn(y));return re(l,{code:te.invalid_union,unionErrors:h}),_e}}get options(){return this._def.options}}wa.create=(n,e)=>new wa({options:n,typeName:Se.ZodUnion,...Ee(e)});function yc(n,e){const l=fi(n),o=fi(e);if(n===e)return{valid:!0,data:n};if(l===fe.object&&o===fe.object){const a=Ve.objectKeys(e),f=Ve.objectKeys(n).filter(h=>a.indexOf(h)!==-1),m={...n,...e};for(const h of f){const y=yc(n[h],e[h]);if(!y.valid)return{valid:!1};m[h]=y.data}return{valid:!0,data:m}}else if(l===fe.array&&o===fe.array){if(n.length!==e.length)return{valid:!1};const a=[];for(let f=0;f<n.length;f++){const m=n[f],h=e[f],y=yc(m,h);if(!y.valid)return{valid:!1};a.push(y.data)}return{valid:!0,data:a}}else return l===fe.date&&o===fe.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Ma extends Ie{_parse(e){const{status:l,ctx:o}=this._processInputParams(e),a=(f,m)=>{if(Qh(f)||Qh(m))return _e;const h=yc(f.value,m.value);return h.valid?((Xh(f)||Xh(m))&&l.dirty(),{status:l.value,value:h.data}):(re(o,{code:te.invalid_intersection_types}),_e)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([f,m])=>a(f,m)):a(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}}Ma.create=(n,e,l)=>new Ma({left:n,right:e,typeName:Se.ZodIntersection,...Ee(l)});class Hi extends Ie{_parse(e){const{status:l,ctx:o}=this._processInputParams(e);if(o.parsedType!==fe.array)return re(o,{code:te.invalid_type,expected:fe.array,received:o.parsedType}),_e;if(o.data.length<this._def.items.length)return re(o,{code:te.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),_e;!this._def.rest&&o.data.length>this._def.items.length&&(re(o,{code:te.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),l.dirty());const f=[...o.data].map((m,h)=>{const y=this._def.items[h]||this._def.rest;return y?y._parse(new yn(o,m,o.path,h)):null}).filter(m=>!!m);return o.common.async?Promise.all(f).then(m=>Mt.mergeArray(l,m)):Mt.mergeArray(l,f)}get items(){return this._def.items}rest(e){return new Hi({...this._def,rest:e})}}Hi.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Hi({items:n,typeName:Se.ZodTuple,rest:null,...Ee(e)})};class Na extends Ie{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:l,ctx:o}=this._processInputParams(e);if(o.parsedType!==fe.object)return re(o,{code:te.invalid_type,expected:fe.object,received:o.parsedType}),_e;const a=[],f=this._def.keyType,m=this._def.valueType;for(const h in o.data)a.push({key:f._parse(new yn(o,h,o.path,h)),value:m._parse(new yn(o,o.data[h],o.path,h)),alwaysSet:h in o.data});return o.common.async?Mt.mergeObjectAsync(l,a):Mt.mergeObjectSync(l,a)}get element(){return this._def.valueType}static create(e,l,o){return l instanceof Ie?new Na({keyType:e,valueType:l,typeName:Se.ZodRecord,...Ee(o)}):new Na({keyType:hn.create(),valueType:e,typeName:Se.ZodRecord,...Ee(l)})}}class op extends Ie{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:l,ctx:o}=this._processInputParams(e);if(o.parsedType!==fe.map)return re(o,{code:te.invalid_type,expected:fe.map,received:o.parsedType}),_e;const a=this._def.keyType,f=this._def.valueType,m=[...o.data.entries()].map(([h,y],p)=>({key:a._parse(new yn(o,h,o.path,[p,"key"])),value:f._parse(new yn(o,y,o.path,[p,"value"]))}));if(o.common.async){const h=new Map;return Promise.resolve().then(async()=>{for(const y of m){const p=await y.key,x=await y.value;if(p.status==="aborted"||x.status==="aborted")return _e;(p.status==="dirty"||x.status==="dirty")&&l.dirty(),h.set(p.value,x.value)}return{status:l.value,value:h}})}else{const h=new Map;for(const y of m){const p=y.key,x=y.value;if(p.status==="aborted"||x.status==="aborted")return _e;(p.status==="dirty"||x.status==="dirty")&&l.dirty(),h.set(p.value,x.value)}return{status:l.value,value:h}}}}op.create=(n,e,l)=>new op({valueType:e,keyType:n,typeName:Se.ZodMap,...Ee(l)});class ts extends Ie{_parse(e){const{status:l,ctx:o}=this._processInputParams(e);if(o.parsedType!==fe.set)return re(o,{code:te.invalid_type,expected:fe.set,received:o.parsedType}),_e;const a=this._def;a.minSize!==null&&o.data.size<a.minSize.value&&(re(o,{code:te.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),l.dirty()),a.maxSize!==null&&o.data.size>a.maxSize.value&&(re(o,{code:te.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),l.dirty());const f=this._def.valueType;function m(y){const p=new Set;for(const x of y){if(x.status==="aborted")return _e;x.status==="dirty"&&l.dirty(),p.add(x.value)}return{status:l.value,value:p}}const h=[...o.data.values()].map((y,p)=>f._parse(new yn(o,y,o.path,p)));return o.common.async?Promise.all(h).then(y=>m(y)):m(h)}min(e,l){return new ts({...this._def,minSize:{value:e,message:me.toString(l)}})}max(e,l){return new ts({...this._def,maxSize:{value:e,message:me.toString(l)}})}size(e,l){return this.min(e,l).max(e,l)}nonempty(e){return this.min(1,e)}}ts.create=(n,e)=>new ts({valueType:n,minSize:null,maxSize:null,typeName:Se.ZodSet,...Ee(e)});class vc extends Ie{get schema(){return this._def.getter()}_parse(e){const{ctx:l}=this._processInputParams(e);return this._def.getter()._parse({data:l.data,path:l.path,parent:l})}}vc.create=(n,e)=>new vc({getter:n,typeName:Se.ZodLazy,...Ee(e)});class sp extends Ie{_parse(e){if(e.data!==this._def.value){const l=this._getOrReturnCtx(e);return re(l,{received:l.data,code:te.invalid_literal,expected:this._def.value}),_e}return{status:"valid",value:e.data}}get value(){return this._def.value}}sp.create=(n,e)=>new sp({value:n,typeName:Se.ZodLiteral,...Ee(e)});function Pg(n,e){return new zl({values:n,typeName:Se.ZodEnum,...Ee(e)})}class zl extends Ie{_parse(e){if(typeof e.data!="string"){const l=this._getOrReturnCtx(e),o=this._def.values;return re(l,{expected:Ve.joinValues(o),received:l.parsedType,code:te.invalid_type}),_e}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const l=this._getOrReturnCtx(e),o=this._def.values;return re(l,{received:l.data,code:te.invalid_enum_value,options:o}),_e}return nn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const l of this._def.values)e[l]=l;return e}get Values(){const e={};for(const l of this._def.values)e[l]=l;return e}get Enum(){const e={};for(const l of this._def.values)e[l]=l;return e}extract(e,l=this._def){return zl.create(e,{...this._def,...l})}exclude(e,l=this._def){return zl.create(this.options.filter(o=>!e.includes(o)),{...this._def,...l})}}zl.create=Pg;class ap extends Ie{_parse(e){const l=Ve.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(e);if(o.parsedType!==fe.string&&o.parsedType!==fe.number){const a=Ve.objectValues(l);return re(o,{expected:Ve.joinValues(a),received:o.parsedType,code:te.invalid_type}),_e}if(this._cache||(this._cache=new Set(Ve.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=Ve.objectValues(l);return re(o,{received:o.data,code:te.invalid_enum_value,options:a}),_e}return nn(e.data)}get enum(){return this._def.values}}ap.create=(n,e)=>new ap({values:n,typeName:Se.ZodNativeEnum,...Ee(e)});class Ra extends Ie{unwrap(){return this._def.type}_parse(e){const{ctx:l}=this._processInputParams(e);if(l.parsedType!==fe.promise&&l.common.async===!1)return re(l,{code:te.invalid_type,expected:fe.promise,received:l.parsedType}),_e;const o=l.parsedType===fe.promise?l.data:Promise.resolve(l.data);return nn(o.then(a=>this._def.type.parseAsync(a,{path:l.path,errorMap:l.common.contextualErrorMap})))}}Ra.create=(n,e)=>new Ra({type:n,typeName:Se.ZodPromise,...Ee(e)});class Hl extends Ie{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Se.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:l,ctx:o}=this._processInputParams(e),a=this._def.effect||null,f={addIssue:m=>{re(o,m),m.fatal?l.abort():l.dirty()},get path(){return o.path}};if(f.addIssue=f.addIssue.bind(f),a.type==="preprocess"){const m=a.transform(o.data,f);if(o.common.async)return Promise.resolve(m).then(async h=>{if(l.value==="aborted")return _e;const y=await this._def.schema._parseAsync({data:h,path:o.path,parent:o});return y.status==="aborted"?_e:y.status==="dirty"||l.value==="dirty"?Qo(y.value):y});{if(l.value==="aborted")return _e;const h=this._def.schema._parseSync({data:m,path:o.path,parent:o});return h.status==="aborted"?_e:h.status==="dirty"||l.value==="dirty"?Qo(h.value):h}}if(a.type==="refinement"){const m=h=>{const y=a.refinement(h,f);if(o.common.async)return Promise.resolve(y);if(y instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return h};if(o.common.async===!1){const h=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return h.status==="aborted"?_e:(h.status==="dirty"&&l.dirty(),m(h.value),{status:l.value,value:h.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(h=>h.status==="aborted"?_e:(h.status==="dirty"&&l.dirty(),m(h.value).then(()=>({status:l.value,value:h.value}))))}if(a.type==="transform")if(o.common.async===!1){const m=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!Bl(m))return _e;const h=a.transform(m.value,f);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:l.value,value:h}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(m=>Bl(m)?Promise.resolve(a.transform(m.value,f)).then(h=>({status:l.value,value:h})):_e);Ve.assertNever(a)}}Hl.create=(n,e,l)=>new Hl({schema:n,typeName:Se.ZodEffects,effect:e,...Ee(l)});Hl.createWithPreprocess=(n,e,l)=>new Hl({schema:e,effect:{type:"preprocess",transform:n},typeName:Se.ZodEffects,...Ee(l)});class di extends Ie{_parse(e){return this._getType(e)===fe.undefined?nn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}di.create=(n,e)=>new di({innerType:n,typeName:Se.ZodOptional,...Ee(e)});class Fl extends Ie{_parse(e){return this._getType(e)===fe.null?nn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Fl.create=(n,e)=>new Fl({innerType:n,typeName:Se.ZodNullable,...Ee(e)});class xc extends Ie{_parse(e){const{ctx:l}=this._processInputParams(e);let o=l.data;return l.parsedType===fe.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:l.path,parent:l})}removeDefault(){return this._def.innerType}}xc.create=(n,e)=>new xc({innerType:n,typeName:Se.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ee(e)});class Tc extends Ie{_parse(e){const{ctx:l}=this._processInputParams(e),o={...l,common:{...l.common,issues:[]}},a=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return Ea(a)?a.then(f=>({status:"valid",value:f.status==="valid"?f.value:this._def.catchValue({get error(){return new kn(o.common.issues)},input:o.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new kn(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}}Tc.create=(n,e)=>new Tc({innerType:n,typeName:Se.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ee(e)});class rp extends Ie{_parse(e){if(this._getType(e)!==fe.nan){const o=this._getOrReturnCtx(e);return re(o,{code:te.invalid_type,expected:fe.nan,received:o.parsedType}),_e}return{status:"valid",value:e.data}}}rp.create=n=>new rp({typeName:Se.ZodNaN,...Ee(n)});class Yx extends Ie{_parse(e){const{ctx:l}=this._processInputParams(e),o=l.data;return this._def.type._parse({data:o,path:l.path,parent:l})}unwrap(){return this._def.type}}class Vc extends Ie{_parse(e){const{status:l,ctx:o}=this._processInputParams(e);if(o.common.async)return(async()=>{const f=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return f.status==="aborted"?_e:f.status==="dirty"?(l.dirty(),Qo(f.value)):this._def.out._parseAsync({data:f.value,path:o.path,parent:o})})();{const a=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return a.status==="aborted"?_e:a.status==="dirty"?(l.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:o.path,parent:o})}}static create(e,l){return new Vc({in:e,out:l,typeName:Se.ZodPipeline})}}class Cc extends Ie{_parse(e){const l=this._def.innerType._parse(e),o=a=>(Bl(a)&&(a.value=Object.freeze(a.value)),a);return Ea(l)?l.then(a=>o(a)):o(l)}unwrap(){return this._def.innerType}}Cc.create=(n,e)=>new Cc({innerType:n,typeName:Se.ZodReadonly,...Ee(e)});var Se;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(Se||(Se={}));const Li=hn.create,up=Oi.create;zi.create;const Zx=Aa.create;Ol.create;const cp=gc.create;mi.create;const Xo=gn.create,$x=lt.create,Kx=wa.create;Ma.create;Hi.create;const jx=Na.create,Qx=vc.create,Xx=zl.create;Ra.create;di.create;Fl.create;const Il={string:n=>hn.create({...n,coerce:!0}),number:n=>Oi.create({...n,coerce:!0}),boolean:n=>Aa.create({...n,coerce:!0}),bigint:n=>zi.create({...n,coerce:!0}),date:n=>Ol.create({...n,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Wx,eT;function tT(){return{geminiUrl:Wx,vertexUrl:eT}}function nT(n,e,l){var o,a,f;if(!(!((o=n.httpOptions)===null||o===void 0)&&o.baseUrl)){const m=tT();return n.vertexai?(a=m.vertexUrl)!==null&&a!==void 0?a:e:(f=m.geminiUrl)!==null&&f!==void 0?f:l}return n.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ji{}function he(n,e){const l=/\{([^}]+)\}/g;return n.replace(l,(o,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const f=e[a];return f!=null?String(f):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function u(n,e,l){for(let f=0;f<e.length-1;f++){const m=e[f];if(m.endsWith("[]")){const h=m.slice(0,-2);if(!(h in n))if(Array.isArray(l))n[h]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(n[h])){const y=n[h];if(Array.isArray(l))for(let p=0;p<y.length;p++){const x=y[p];u(x,e.slice(f+1),l[p])}else for(const p of y)u(p,e.slice(f+1),l)}return}else if(m.endsWith("[0]")){const h=m.slice(0,-3);h in n||(n[h]=[{}]);const y=n[h];u(y[0],e.slice(f+1),l);return}(!n[m]||typeof n[m]!="object")&&(n[m]={}),n=n[m]}const o=e[e.length-1],a=n[o];if(a!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===a)return;if(typeof a=="object"&&typeof l=="object"&&a!==null&&l!==null)Object.assign(a,l);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else n[o]=l}function r(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let l=0;l<e.length;l++){if(typeof n!="object"||n===null)return;const o=e[l];if(o.endsWith("[]")){const a=o.slice(0,-2);if(a in n){const f=n[a];return Array.isArray(f)?f.map(m=>r(m,e.slice(l+1))):void 0}else return}else n=n[o]}return n}catch(l){if(l instanceof TypeError)return;throw l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var fp;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(fp||(fp={}));var dp;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(dp||(dp={}));var pn;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(pn||(pn={}));var mp;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(mp||(mp={}));var hp;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(hp||(hp={}));var pp;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(pp||(pp={}));var gp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(gp||(gp={}));var yp;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(yp||(yp={}));var vp;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(vp||(vp={}));var xp;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(xp||(xp={}));var Tp;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(Tp||(Tp={}));var Cp;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Cp||(Cp={}));var Sp;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Sp||(Sp={}));var _p;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(_p||(_p={}));var bp;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})(bp||(bp={}));var Ep;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Ep||(Ep={}));var Da;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Da||(Da={}));var Ap;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ap||(Ap={}));var Sc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Sc||(Sc={}));var wp;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(wp||(wp={}));var Mp;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Mp||(Mp={}));var Np;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Np||(Np={}));var Rp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Rp||(Rp={}));var Dp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(Dp||(Dp={}));var Ip;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Ip||(Ip={}));var Up;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Up||(Up={}));var kp;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi"})(kp||(kp={}));var Lp;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Lp||(Lp={}));var Vp;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Vp||(Vp={}));var Pp;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Pp||(Pp={}));var qp;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(qp||(qp={}));var Gp;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Gp||(Gp={}));var Bp;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Bp||(Bp={}));var Op;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Op||(Op={}));var zp;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(zp||(zp={}));var Hp;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Hp||(Hp={}));var Fp;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Fp||(Fp={}));var Jp;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Jp||(Jp={}));var Yp;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Yp||(Yp={}));var Zp;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Zp||(Zp={}));var $p;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})($p||($p={}));var Ll;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Ll||(Ll={}));class _c{constructor(e){const l={};for(const o of e.headers.entries())l[o[0]]=o[1];this.headers=l,this.responseInternal=e}json(){return this.responseInternal.json()}}class jo{get text(){var e,l,o,a,f,m,h,y;if(((a=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",x=!1;const C=[];for(const _ of(y=(h=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[M,D]of Object.entries(_))M!=="text"&&M!=="thought"&&(D!==null||D!==void 0)&&C.push(M);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;x=!0,p+=_.text}}return C.length>0&&console.warn(`there are non-text parts ${C} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?p:void 0}get data(){var e,l,o,a,f,m,h,y;if(((a=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const x=[];for(const C of(y=(h=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[_,M]of Object.entries(C))_!=="inlineData"&&(M!==null||M!==void 0)&&x.push(_);C.inlineData&&typeof C.inlineData.data=="string"&&(p+=atob(C.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,l,o,a,f,m,h,y;if(((a=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(y=(h=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,l,o,a,f,m,h,y,p;if(((a=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(y=(h=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(C=>C.executableCode).map(C=>C.executableCode).filter(C=>C!==void 0);if((x==null?void 0:x.length)!==0)return(p=x==null?void 0:x[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,l,o,a,f,m,h,y,p;if(((a=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(y=(h=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(C=>C.codeExecutionResult).map(C=>C.codeExecutionResult).filter(C=>C!==void 0);if((x==null?void 0:x.length)!==0)return(p=x==null?void 0:x[0])===null||p===void 0?void 0:p.output}}class Kp{}class jp{}class iT{}class lT{}class Qp{}class Xp{}class Wp{}class oT{}class eg{}class tg{}class ng{}class sT{}class aT{}class rT{}class ig{}class uT{get text(){var e,l,o;let a="",f=!1;const m=[];for(const h of(o=(l=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&o!==void 0?o:[]){for(const[y,p]of Object.entries(h))y!=="text"&&y!=="thought"&&p!==null&&m.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;f=!0,a+=h.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?a:void 0}get data(){var e,l,o;let a="";const f=[];for(const m of(o=(l=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&o!==void 0?o:[]){for(const[h,y]of Object.entries(m))h!=="inlineData"&&y!==null&&f.push(h);m.inlineData&&typeof m.inlineData.data=="string"&&(a+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class cT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oe(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const l=e.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function qg(n,e){const l=Oe(n,e);return l?l.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${l}`:l.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${l}`:l:""}function Gg(n){return Array.isArray(n)?n.map(e=>Ia(e)):[Ia(n)]}function Ia(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Bg(n){const e=Ia(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Og(n){const e=Ia(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function lg(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function zg(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>lg(e)):[lg(n)]}function bc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function og(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function sg(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function St(n){if(n==null)throw new Error("ContentUnion is required");return bc(n)?n:{role:"user",parts:zg(n)}}function Hg(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(l=>{const o=St(l);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(n.isVertexAI()){const l=St(e);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(e)?e.map(l=>St(l)):[St(e)]}function tn(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(og(n)||sg(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[St(n)]}const e=[],l=[],o=bc(n[0]);for(const a of n){const f=bc(a);if(f!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)e.push(a);else{if(og(a)||sg(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(a)}}return o||e.push({role:"user",parts:zg(l)}),e}const fT=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),ag=Xx(["string","number","integer","object","array","boolean","null"]),dT=Kx([ag,Xo(ag)]);function mT(n=!0){const e=Qx(()=>{const l=$x({type:dT.optional(),format:Li().optional(),title:Li().optional(),description:Li().optional(),default:cp().optional(),items:e.optional(),minItems:Il.string().optional(),maxItems:Il.string().optional(),enum:Xo(cp()).optional(),properties:jx(Li(),e).optional(),required:Xo(Li()).optional(),minProperties:Il.string().optional(),maxProperties:Il.string().optional(),propertyOrdering:Xo(Li()).optional(),minimum:up().optional(),maximum:up().optional(),minLength:Il.string().optional(),maxLength:Il.string().optional(),pattern:Li().optional(),anyOf:Xo(e).optional(),additionalProperties:Zx().optional()});return n?l.strict():l});return e}function hT(n,e){n.includes("null")&&(e.nullable=!0);const l=n.filter(o=>o!=="null");if(l.length===1)e.type=Object.values(pn).includes(l[0].toUpperCase())?l[0].toUpperCase():pn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of l)e.anyOf.push({type:Object.values(pn).includes(o.toUpperCase())?o.toUpperCase():pn.TYPE_UNSPECIFIED})}}function Vl(n){const e={},l=["items"],o=["anyOf"],a=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=n.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(e.nullable=!0,n=f[1]):f[1].type==="null"&&(e.nullable=!0,n=f[0])),n.type instanceof Array&&hT(n.type,e);for(const[m,h]of Object.entries(n))if(h!=null)if(m=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(pn).includes(h.toUpperCase())?h.toUpperCase():pn.TYPE_UNSPECIFIED}else if(l.includes(m))e[m]=Vl(h);else if(o.includes(m)){const y=[];for(const p of h){if(p.type=="null"){e.nullable=!0;continue}y.push(Vl(p))}e[m]=y}else if(a.includes(m)){const y={};for(const[p,x]of Object.entries(h))y[p]=Vl(x);e[m]=y}else{if(m==="additionalProperties")continue;e[m]=h}return e}function ns(n){if(Object.keys(n).includes("$schema")){delete n.$schema;const e=mT().parse(n);return Vl(e)}else return Vl(n)}function Pc(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function qc(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Yl(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(e.parameters=ns(e.parameters)),e.response&&(e.response=ns(e.response));return n}function Zl(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const l of n)e.push(l);return e}function pT(n,e,l,o=1){const a=!e.startsWith(`${l}/`)&&e.split("/").length===o;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${l}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:a?`projects/${n.getProject()}/locations/${n.getLocation()}/${l}/${e}`:e:a?`${l}/${e}`:e}function Pn(n,e){if(typeof e!="string")throw new Error("name must be a string");return pT(n,e,"cachedContents")}function Fg(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function qn(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}function gT(n){return n!=null&&typeof n=="object"&&"name"in n}function yT(n){return n!=null&&typeof n=="object"&&"video"in n}function vT(n){return n!=null&&typeof n=="object"&&"uri"in n}function Jg(n){var e;let l;if(gT(n)&&(l=n.name),!(vT(n)&&(l=n.uri,l===void 0))&&!(yT(n)&&(l=(e=n.video)===null||e===void 0?void 0:e.uri,l===void 0))){if(typeof n=="string"&&(l=n),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const a=l.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${l}`);l=a[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function Yg(n,e){let l;return n.isVertexAI()?l=e?"publishers/google/models":"models":l=e?"models":"tunedModels",l}function Zg(n){for(const e of["models","tunedModels","publisherModels"])if(xT(n,e))return n[e];return[]}function xT(n,e){return n!==null&&typeof n=="object"&&e in n}function TT(n,e={}){const l=n,o={name:l.name,description:l.description,parameters:Vl(ka(l.inputSchema))};return e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function CT(n,e={}){const l=[],o=new Set;for(const a of n){const f=a.name;if(o.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);o.add(f);const m=TT(a,e);m.functionDeclarations&&l.push(...m.functionDeclarations)}return{functionDeclarations:l}}function ST(n){const e=[];for(const l of n)e.push(ka(l));return e}function _T(n){const e={};for(const[l,o]of Object.entries(n)){const a=o;e[l]=ka(a)}return e}function ka(n){const e=new Set(["items"]),l=new Set(["anyOf"]),o=new Set(["properties"]),a={};for(const[f,m]of Object.entries(n))if(e.has(f))a[f]=ka(m);else if(l.has(f))a[f]=ST(m);else if(o.has(f))a[f]=_T(m);else if(f==="type"){const h=m.toUpperCase();a[f]=Object.values(pn).includes(h)?h:pn.TYPE_UNSPECIFIED}else fT.has(f)&&(a[f]=m);return a}function $g(n,e){if(typeof e!="string"&&!Array.isArray(e)){if(n&&n.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function bT(n){const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function $l(n,e){const l=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function Kg(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ET(n){const e={},l=r(n,["fps"]);l!=null&&u(e,["fps"],l);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=r(n,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function AT(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(n,["data"]);l!=null&&u(e,["data"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function wT(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function MT(n){const e={},l=r(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],ET(l));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const a=r(n,["inlineData"]);a!=null&&u(e,["inlineData"],AT(a));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],wT(f));const m=r(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=r(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const x=r(n,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const C=r(n,["text"]);return C!=null&&u(e,["text"],C),e}function jg(n){const e={},l=r(n,["parts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(f=>MT(f))),u(e,["parts"],a)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function NT(n){const e={},l=r(n,["anyOf"]);l!=null&&u(e,["anyOf"],l);const o=r(n,["default"]);o!=null&&u(e,["default"],o);const a=r(n,["description"]);a!=null&&u(e,["description"],a);const f=r(n,["enum"]);f!=null&&u(e,["enum"],f);const m=r(n,["example"]);m!=null&&u(e,["example"],m);const h=r(n,["format"]);h!=null&&u(e,["format"],h);const y=r(n,["items"]);y!=null&&u(e,["items"],y);const p=r(n,["maxItems"]);p!=null&&u(e,["maxItems"],p);const x=r(n,["maxLength"]);x!=null&&u(e,["maxLength"],x);const C=r(n,["maxProperties"]);C!=null&&u(e,["maxProperties"],C);const _=r(n,["maximum"]);_!=null&&u(e,["maximum"],_);const M=r(n,["minItems"]);M!=null&&u(e,["minItems"],M);const D=r(n,["minLength"]);D!=null&&u(e,["minLength"],D);const q=r(n,["minProperties"]);q!=null&&u(e,["minProperties"],q);const G=r(n,["minimum"]);G!=null&&u(e,["minimum"],G);const Z=r(n,["nullable"]);Z!=null&&u(e,["nullable"],Z);const H=r(n,["pattern"]);H!=null&&u(e,["pattern"],H);const $=r(n,["properties"]);$!=null&&u(e,["properties"],$);const X=r(n,["propertyOrdering"]);X!=null&&u(e,["propertyOrdering"],X);const J=r(n,["required"]);J!=null&&u(e,["required"],J);const ae=r(n,["title"]);ae!=null&&u(e,["title"],ae);const ne=r(n,["type"]);return ne!=null&&u(e,["type"],ne),e}function RT(n){const e={};if(r(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=r(n,["category"]);l!=null&&u(e,["category"],l);const o=r(n,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function DT(n){const e={},l=r(n,["behavior"]);l!=null&&u(e,["behavior"],l);const o=r(n,["description"]);o!=null&&u(e,["description"],o);const a=r(n,["name"]);a!=null&&u(e,["name"],a);const f=r(n,["parameters"]);f!=null&&u(e,["parameters"],f);const m=r(n,["parametersJsonSchema"]);m!=null&&u(e,["parametersJsonSchema"],m);const h=r(n,["response"]);h!=null&&u(e,["response"],h);const y=r(n,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function IT(n){const e={},l=r(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=r(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function UT(n){const e={},l=r(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],IT(l)),e}function kT(n){const e={},l=r(n,["mode"]);l!=null&&u(e,["mode"],l);const o=r(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function LT(n){const e={},l=r(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],kT(l)),e}function VT(){return{}}function PT(n){const e={},l=r(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>DT(p))),u(e,["functionDeclarations"],y)}if(r(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=r(n,["googleSearch"]);o!=null&&u(e,["googleSearch"],UT(o));const a=r(n,["googleSearchRetrieval"]);if(a!=null&&u(e,["googleSearchRetrieval"],LT(a)),r(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(n,["urlContext"])!=null&&u(e,["urlContext"],VT());const m=r(n,["codeExecution"]);m!=null&&u(e,["codeExecution"],m);const h=r(n,["computerUse"]);return h!=null&&u(e,["computerUse"],h),e}function qT(n){const e={},l=r(n,["mode"]);l!=null&&u(e,["mode"],l);const o=r(n,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function GT(n){const e={},l=r(n,["latitude"]);l!=null&&u(e,["latitude"],l);const o=r(n,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function BT(n){const e={},l=r(n,["latLng"]);l!=null&&u(e,["latLng"],GT(l));const o=r(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function OT(n){const e={},l=r(n,["functionCallingConfig"]);l!=null&&u(e,["functionCallingConfig"],qT(l));const o=r(n,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],BT(o)),e}function zT(n){const e={},l=r(n,["voiceName"]);return l!=null&&u(e,["voiceName"],l),e}function Qg(n){const e={},l=r(n,["prebuiltVoiceConfig"]);return l!=null&&u(e,["prebuiltVoiceConfig"],zT(l)),e}function HT(n){const e={},l=r(n,["speaker"]);l!=null&&u(e,["speaker"],l);const o=r(n,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],Qg(o)),e}function FT(n){const e={},l=r(n,["speakerVoiceConfigs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(a=>HT(a))),u(e,["speakerVoiceConfigs"],o)}return e}function JT(n){const e={},l=r(n,["voiceConfig"]);l!=null&&u(e,["voiceConfig"],Qg(l));const o=r(n,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],FT(o));const a=r(n,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function YT(n){const e={},l=r(n,["includeThoughts"]);l!=null&&u(e,["includeThoughts"],l);const o=r(n,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function ZT(n,e,l){const o={},a=r(e,["systemInstruction"]);l!==void 0&&a!=null&&u(l,["systemInstruction"],jg(St(a)));const f=r(e,["temperature"]);f!=null&&u(o,["temperature"],f);const m=r(e,["topP"]);m!=null&&u(o,["topP"],m);const h=r(e,["topK"]);h!=null&&u(o,["topK"],h);const y=r(e,["candidateCount"]);y!=null&&u(o,["candidateCount"],y);const p=r(e,["maxOutputTokens"]);p!=null&&u(o,["maxOutputTokens"],p);const x=r(e,["stopSequences"]);x!=null&&u(o,["stopSequences"],x);const C=r(e,["responseLogprobs"]);C!=null&&u(o,["responseLogprobs"],C);const _=r(e,["logprobs"]);_!=null&&u(o,["logprobs"],_);const M=r(e,["presencePenalty"]);M!=null&&u(o,["presencePenalty"],M);const D=r(e,["frequencyPenalty"]);D!=null&&u(o,["frequencyPenalty"],D);const q=r(e,["seed"]);q!=null&&u(o,["seed"],q);const G=r(e,["responseMimeType"]);G!=null&&u(o,["responseMimeType"],G);const Z=r(e,["responseSchema"]);Z!=null&&u(o,["responseSchema"],NT(ns(Z)));const H=r(e,["responseJsonSchema"]);if(H!=null&&u(o,["responseJsonSchema"],H),r(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const $=r(e,["safetySettings"]);if(l!==void 0&&$!=null){let le=$;Array.isArray(le)&&(le=le.map(ue=>RT(ue))),u(l,["safetySettings"],le)}const X=r(e,["tools"]);if(l!==void 0&&X!=null){let le=Zl(X);Array.isArray(le)&&(le=le.map(ue=>PT(Yl(ue)))),u(l,["tools"],le)}const J=r(e,["toolConfig"]);if(l!==void 0&&J!=null&&u(l,["toolConfig"],OT(J)),r(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ae=r(e,["cachedContent"]);l!==void 0&&ae!=null&&u(l,["cachedContent"],Pn(n,ae));const ne=r(e,["responseModalities"]);ne!=null&&u(o,["responseModalities"],ne);const O=r(e,["mediaResolution"]);O!=null&&u(o,["mediaResolution"],O);const j=r(e,["speechConfig"]);if(j!=null&&u(o,["speechConfig"],JT(Pc(j))),r(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ie=r(e,["thinkingConfig"]);return ie!=null&&u(o,["thinkingConfig"],YT(ie)),o}function $T(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["request","model"],Oe(n,o));const a=r(e,["contents"]);if(a!=null){let m=tn(a);Array.isArray(m)&&(m=m.map(h=>jg(h))),u(l,["request","contents"],m)}const f=r(e,["config"]);return f!=null&&u(l,["request","generationConfig"],ZT(n,f,l)),l}function KT(n,e){const l={};if(r(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(r(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=r(e,["fileName"]);o!=null&&u(l,["fileName"],o);const a=r(e,["inlinedRequests"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(m=>$T(n,m))),u(l,["requests","requests"],f)}return l}function jT(n,e){const l={},o=r(n,["displayName"]);if(e!==void 0&&o!=null&&u(e,["batch","displayName"],o),r(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function QT(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","model"],Oe(n,o));const a=r(e,["src"]);a!=null&&u(l,["batch","inputConfig"],KT(n,$g(n,a)));const f=r(e,["config"]);return f!=null&&u(l,["config"],jT(f,l)),l}function XT(n,e){const l={},o=r(e,["name"]);o!=null&&u(l,["_url","name"],$l(n,o));const a=r(e,["config"]);return a!=null&&u(l,["config"],a),l}function WT(n,e){const l={},o=r(e,["name"]);o!=null&&u(l,["_url","name"],$l(n,o));const a=r(e,["config"]);return a!=null&&u(l,["config"],a),l}function eC(n,e){const l={},o=r(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=r(n,["pageToken"]);if(e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),r(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function tC(n){const e={},l=r(n,["config"]);return l!=null&&u(e,["config"],eC(l,e)),e}function nC(n,e){const l={},o=r(e,["name"]);o!=null&&u(l,["_url","name"],$l(n,o));const a=r(e,["config"]);return a!=null&&u(l,["config"],a),l}function iC(n){const e={},l=r(n,["format"]);l!=null&&u(e,["instancesFormat"],l);const o=r(n,["gcsUri"]);o!=null&&u(e,["gcsSource","uris"],o);const a=r(n,["bigqueryUri"]);if(a!=null&&u(e,["bigquerySource","inputUri"],a),r(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function lC(n){const e={},l=r(n,["format"]);l!=null&&u(e,["predictionsFormat"],l);const o=r(n,["gcsUri"]);o!=null&&u(e,["gcsDestination","outputUriPrefix"],o);const a=r(n,["bigqueryUri"]);if(a!=null&&u(e,["bigqueryDestination","outputUri"],a),r(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function oC(n,e){const l={},o=r(n,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const a=r(n,["dest"]);return e!==void 0&&a!=null&&u(e,["outputConfig"],lC(bT(a))),l}function sC(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["model"],Oe(n,o));const a=r(e,["src"]);a!=null&&u(l,["inputConfig"],iC($g(n,a)));const f=r(e,["config"]);return f!=null&&u(l,["config"],oC(f,l)),l}function aC(n,e){const l={},o=r(e,["name"]);o!=null&&u(l,["_url","name"],$l(n,o));const a=r(e,["config"]);return a!=null&&u(l,["config"],a),l}function rC(n,e){const l={},o=r(e,["name"]);o!=null&&u(l,["_url","name"],$l(n,o));const a=r(e,["config"]);return a!=null&&u(l,["config"],a),l}function uC(n,e){const l={},o=r(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=r(n,["pageToken"]);e!==void 0&&a!=null&&u(e,["_query","pageToken"],a);const f=r(n,["filter"]);return e!==void 0&&f!=null&&u(e,["_query","filter"],f),l}function cC(n){const e={},l=r(n,["config"]);return l!=null&&u(e,["config"],uC(l,e)),e}function fC(n,e){const l={},o=r(e,["name"]);o!=null&&u(l,["_url","name"],$l(n,o));const a=r(e,["config"]);return a!=null&&u(l,["config"],a),l}function Xg(){return{}}function dC(n){const e={},l=r(n,["fps"]);l!=null&&u(e,["fps"],l);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=r(n,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function mC(n){const e={},l=r(n,["data"]);l!=null&&u(e,["data"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function hC(n){const e={},l=r(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function pC(n){const e={},l=r(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],dC(l));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const a=r(n,["inlineData"]);a!=null&&u(e,["inlineData"],mC(a));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],hC(f));const m=r(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=r(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const x=r(n,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const C=r(n,["text"]);return C!=null&&u(e,["text"],C),e}function gC(n){const e={},l=r(n,["parts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(f=>pC(f))),u(e,["parts"],a)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function yC(n){const e={},l=r(n,["citationSources"]);return l!=null&&u(e,["citations"],l),e}function vC(n){const e={},l=r(n,["retrievedUrl"]);l!=null&&u(e,["retrievedUrl"],l);const o=r(n,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function xC(n){const e={},l=r(n,["urlMetadata"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(a=>vC(a))),u(e,["urlMetadata"],o)}return e}function TC(n){const e={},l=r(n,["content"]);l!=null&&u(e,["content"],gC(l));const o=r(n,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],yC(o));const a=r(n,["tokenCount"]);a!=null&&u(e,["tokenCount"],a);const f=r(n,["finishReason"]);f!=null&&u(e,["finishReason"],f);const m=r(n,["urlContextMetadata"]);m!=null&&u(e,["urlContextMetadata"],xC(m));const h=r(n,["avgLogprobs"]);h!=null&&u(e,["avgLogprobs"],h);const y=r(n,["groundingMetadata"]);y!=null&&u(e,["groundingMetadata"],y);const p=r(n,["index"]);p!=null&&u(e,["index"],p);const x=r(n,["logprobsResult"]);x!=null&&u(e,["logprobsResult"],x);const C=r(n,["safetyRatings"]);return C!=null&&u(e,["safetyRatings"],C),e}function CC(n){const e={},l=r(n,["candidates"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(h=>TC(h))),u(e,["candidates"],m)}const o=r(n,["modelVersion"]);o!=null&&u(e,["modelVersion"],o);const a=r(n,["promptFeedback"]);a!=null&&u(e,["promptFeedback"],a);const f=r(n,["usageMetadata"]);return f!=null&&u(e,["usageMetadata"],f),e}function SC(n){const e={},l=r(n,["response"]);return l!=null&&u(e,["response"],CC(l)),r(n,["error"])!=null&&u(e,["error"],Xg()),e}function _C(n){const e={},l=r(n,["responsesFile"]);l!=null&&u(e,["fileName"],l);const o=r(n,["inlinedResponses","inlinedResponses"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>SC(f))),u(e,["inlinedResponses"],a)}return e}function Ec(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["metadata","displayName"]);o!=null&&u(e,["displayName"],o);const a=r(n,["metadata","state"]);a!=null&&u(e,["state"],Kg(a));const f=r(n,["metadata","createTime"]);f!=null&&u(e,["createTime"],f);const m=r(n,["metadata","endTime"]);m!=null&&u(e,["endTime"],m);const h=r(n,["metadata","updateTime"]);h!=null&&u(e,["updateTime"],h);const y=r(n,["metadata","model"]);y!=null&&u(e,["model"],y);const p=r(n,["metadata","output"]);return p!=null&&u(e,["dest"],_C(p)),e}function bC(n){const e={},l=r(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=r(n,["operations"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>Ec(f))),u(e,["batchJobs"],a)}return e}function EC(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["done"]);return o!=null&&u(e,["done"],o),r(n,["error"])!=null&&u(e,["error"],Xg()),e}function Wg(n){const e={},l=r(n,["details"]);l!=null&&u(e,["details"],l);const o=r(n,["code"]);o!=null&&u(e,["code"],o);const a=r(n,["message"]);return a!=null&&u(e,["message"],a),e}function AC(n){const e={},l=r(n,["instancesFormat"]);l!=null&&u(e,["format"],l);const o=r(n,["gcsSource","uris"]);o!=null&&u(e,["gcsUri"],o);const a=r(n,["bigquerySource","inputUri"]);return a!=null&&u(e,["bigqueryUri"],a),e}function wC(n){const e={},l=r(n,["predictionsFormat"]);l!=null&&u(e,["format"],l);const o=r(n,["gcsDestination","outputUriPrefix"]);o!=null&&u(e,["gcsUri"],o);const a=r(n,["bigqueryDestination","outputUri"]);return a!=null&&u(e,["bigqueryUri"],a),e}function Ac(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=r(n,["state"]);a!=null&&u(e,["state"],Kg(a));const f=r(n,["error"]);f!=null&&u(e,["error"],Wg(f));const m=r(n,["createTime"]);m!=null&&u(e,["createTime"],m);const h=r(n,["startTime"]);h!=null&&u(e,["startTime"],h);const y=r(n,["endTime"]);y!=null&&u(e,["endTime"],y);const p=r(n,["updateTime"]);p!=null&&u(e,["updateTime"],p);const x=r(n,["model"]);x!=null&&u(e,["model"],x);const C=r(n,["inputConfig"]);C!=null&&u(e,["src"],AC(C));const _=r(n,["outputConfig"]);return _!=null&&u(e,["dest"],wC(_)),e}function MC(n){const e={},l=r(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=r(n,["batchPredictionJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>Ac(f))),u(e,["batchJobs"],a)}return e}function NC(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["done"]);o!=null&&u(e,["done"],o);const a=r(n,["error"]);return a!=null&&u(e,["error"],Wg(a)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Fi;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Fi||(Fi={}));class ls{constructor(e,l,o,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(e,o,a)}init(e,l,o){var a,f;this.nameInternal=e,this.pageInternal=l[this.nameInternal]||[],this.idxInternal=0;let m={config:{}};o?typeof o=="object"?m=Object.assign({},o):m=o:m={config:{}},m.config&&(m.config.pageToken=l.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(f=(a=m.config)===null||a===void 0?void 0:a.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RC extends Ji{constructor(e){super(),this.apiClient=e,this.create=async l=>{if(this.apiClient.isVertexAI()){const a=Date.now().toString();if(Array.isArray(l.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(l.config=l.config||{},l.config.displayName===void 0&&(l.config.displayName="genaiBatchJob_${timestampStr}"),l.config.dest===void 0&&typeof l.src=="string")if(l.src.startsWith("gs://")&&l.src.endsWith(".jsonl"))l.config.dest=`${l.src.slice(0,-6)}/dest`;else if(l.src.startsWith("bq://"))l.config.dest=`${l.src}_dest_${a}`;else throw new Error("Unsupported source:"+l.src)}return await this.createInternal(l)},this.list=async(l={})=>new ls(Fi.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(l),l)}async createInternal(e){var l,o,a,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=sC(this.apiClient,e);return h=he("batchPredictionJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>Ac(x))}else{const p=QT(this.apiClient,e);return h=he("{model}:batchGenerateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>Ec(x))}}async get(e){var l,o,a,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=aC(this.apiClient,e);return h=he("batchPredictionJobs/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>Ac(x))}else{const p=XT(this.apiClient,e);return h=he("batches/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>Ec(x))}}async cancel(e){var l,o,a,f;let m="",h={};if(this.apiClient.isVertexAI()){const y=rC(this.apiClient,e);m=he("batchPredictionJobs/{name}:cancel",y._url),h=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const y=WT(this.apiClient,e);m=he("batches/{name}:cancel",y._url),h=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(e){var l,o,a,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=cC(e);return h=he("batchPredictionJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>{const C=MC(x),_=new ig;return Object.assign(_,C),_})}else{const p=tC(e);return h=he("batches",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>{const C=bC(x),_=new ig;return Object.assign(_,C),_})}}async delete(e){var l,o,a,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=fC(this.apiClient,e);return h=he("batchPredictionJobs/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>NC(x))}else{const p=nC(this.apiClient,e);return h=he("batches/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>EC(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DC(n){const e={},l=r(n,["fps"]);l!=null&&u(e,["fps"],l);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=r(n,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function IC(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(n,["data"]);l!=null&&u(e,["data"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function UC(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function kC(n){const e={},l=r(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],DC(l));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const a=r(n,["inlineData"]);a!=null&&u(e,["inlineData"],IC(a));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],UC(f));const m=r(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=r(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const x=r(n,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const C=r(n,["text"]);return C!=null&&u(e,["text"],C),e}function rg(n){const e={},l=r(n,["parts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(f=>kC(f))),u(e,["parts"],a)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function LC(n){const e={},l=r(n,["behavior"]);l!=null&&u(e,["behavior"],l);const o=r(n,["description"]);o!=null&&u(e,["description"],o);const a=r(n,["name"]);a!=null&&u(e,["name"],a);const f=r(n,["parameters"]);f!=null&&u(e,["parameters"],f);const m=r(n,["parametersJsonSchema"]);m!=null&&u(e,["parametersJsonSchema"],m);const h=r(n,["response"]);h!=null&&u(e,["response"],h);const y=r(n,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function VC(n){const e={},l=r(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=r(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function PC(n){const e={},l=r(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],VC(l)),e}function qC(n){const e={},l=r(n,["mode"]);l!=null&&u(e,["mode"],l);const o=r(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function GC(n){const e={},l=r(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],qC(l)),e}function BC(){return{}}function OC(n){const e={},l=r(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>LC(p))),u(e,["functionDeclarations"],y)}if(r(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=r(n,["googleSearch"]);o!=null&&u(e,["googleSearch"],PC(o));const a=r(n,["googleSearchRetrieval"]);if(a!=null&&u(e,["googleSearchRetrieval"],GC(a)),r(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(n,["urlContext"])!=null&&u(e,["urlContext"],BC());const m=r(n,["codeExecution"]);m!=null&&u(e,["codeExecution"],m);const h=r(n,["computerUse"]);return h!=null&&u(e,["computerUse"],h),e}function zC(n){const e={},l=r(n,["mode"]);l!=null&&u(e,["mode"],l);const o=r(n,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function HC(n){const e={},l=r(n,["latitude"]);l!=null&&u(e,["latitude"],l);const o=r(n,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function FC(n){const e={},l=r(n,["latLng"]);l!=null&&u(e,["latLng"],HC(l));const o=r(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function JC(n){const e={},l=r(n,["functionCallingConfig"]);l!=null&&u(e,["functionCallingConfig"],zC(l));const o=r(n,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],FC(o)),e}function YC(n,e){const l={},o=r(n,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const a=r(n,["expireTime"]);e!==void 0&&a!=null&&u(e,["expireTime"],a);const f=r(n,["displayName"]);e!==void 0&&f!=null&&u(e,["displayName"],f);const m=r(n,["contents"]);if(e!==void 0&&m!=null){let x=tn(m);Array.isArray(x)&&(x=x.map(C=>rg(C))),u(e,["contents"],x)}const h=r(n,["systemInstruction"]);e!==void 0&&h!=null&&u(e,["systemInstruction"],rg(St(h)));const y=r(n,["tools"]);if(e!==void 0&&y!=null){let x=y;Array.isArray(x)&&(x=x.map(C=>OC(C))),u(e,["tools"],x)}const p=r(n,["toolConfig"]);if(e!==void 0&&p!=null&&u(e,["toolConfig"],JC(p)),r(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function ZC(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["model"],qg(n,o));const a=r(e,["config"]);return a!=null&&u(l,["config"],YC(a,l)),l}function $C(n,e){const l={},o=r(e,["name"]);o!=null&&u(l,["_url","name"],Pn(n,o));const a=r(e,["config"]);return a!=null&&u(l,["config"],a),l}function KC(n,e){const l={},o=r(e,["name"]);o!=null&&u(l,["_url","name"],Pn(n,o));const a=r(e,["config"]);return a!=null&&u(l,["config"],a),l}function jC(n,e){const l={},o=r(n,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const a=r(n,["expireTime"]);return e!==void 0&&a!=null&&u(e,["expireTime"],a),l}function QC(n,e){const l={},o=r(e,["name"]);o!=null&&u(l,["_url","name"],Pn(n,o));const a=r(e,["config"]);return a!=null&&u(l,["config"],jC(a,l)),l}function XC(n,e){const l={},o=r(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=r(n,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),l}function WC(n){const e={},l=r(n,["config"]);return l!=null&&u(e,["config"],XC(l,e)),e}function eS(n){const e={},l=r(n,["fps"]);l!=null&&u(e,["fps"],l);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=r(n,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function tS(n){const e={},l=r(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=r(n,["data"]);o!=null&&u(e,["data"],o);const a=r(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function nS(n){const e={},l=r(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=r(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=r(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function iS(n){const e={},l=r(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],eS(l));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const a=r(n,["inlineData"]);a!=null&&u(e,["inlineData"],tS(a));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],nS(f));const m=r(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=r(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const x=r(n,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const C=r(n,["text"]);return C!=null&&u(e,["text"],C),e}function ug(n){const e={},l=r(n,["parts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(f=>iS(f))),u(e,["parts"],a)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function lS(n){const e={};if(r(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=r(n,["description"]);l!=null&&u(e,["description"],l);const o=r(n,["name"]);o!=null&&u(e,["name"],o);const a=r(n,["parameters"]);a!=null&&u(e,["parameters"],a);const f=r(n,["parametersJsonSchema"]);f!=null&&u(e,["parametersJsonSchema"],f);const m=r(n,["response"]);m!=null&&u(e,["response"],m);const h=r(n,["responseJsonSchema"]);return h!=null&&u(e,["responseJsonSchema"],h),e}function oS(n){const e={},l=r(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=r(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function sS(n){const e={},l=r(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],oS(l)),e}function aS(n){const e={},l=r(n,["mode"]);l!=null&&u(e,["mode"],l);const o=r(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function rS(n){const e={},l=r(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],aS(l)),e}function uS(){return{}}function cS(n){const e={},l=r(n,["apiKeyString"]);return l!=null&&u(e,["apiKeyString"],l),e}function fS(n){const e={},l=r(n,["apiKeyConfig"]);l!=null&&u(e,["apiKeyConfig"],cS(l));const o=r(n,["authType"]);o!=null&&u(e,["authType"],o);const a=r(n,["googleServiceAccountConfig"]);a!=null&&u(e,["googleServiceAccountConfig"],a);const f=r(n,["httpBasicAuthConfig"]);f!=null&&u(e,["httpBasicAuthConfig"],f);const m=r(n,["oauthConfig"]);m!=null&&u(e,["oauthConfig"],m);const h=r(n,["oidcConfig"]);return h!=null&&u(e,["oidcConfig"],h),e}function dS(n){const e={},l=r(n,["authConfig"]);return l!=null&&u(e,["authConfig"],fS(l)),e}function mS(){return{}}function hS(n){const e={},l=r(n,["functionDeclarations"]);if(l!=null){let C=l;Array.isArray(C)&&(C=C.map(_=>lS(_))),u(e,["functionDeclarations"],C)}const o=r(n,["retrieval"]);o!=null&&u(e,["retrieval"],o);const a=r(n,["googleSearch"]);a!=null&&u(e,["googleSearch"],sS(a));const f=r(n,["googleSearchRetrieval"]);f!=null&&u(e,["googleSearchRetrieval"],rS(f)),r(n,["enterpriseWebSearch"])!=null&&u(e,["enterpriseWebSearch"],uS());const h=r(n,["googleMaps"]);h!=null&&u(e,["googleMaps"],dS(h)),r(n,["urlContext"])!=null&&u(e,["urlContext"],mS());const p=r(n,["codeExecution"]);p!=null&&u(e,["codeExecution"],p);const x=r(n,["computerUse"]);return x!=null&&u(e,["computerUse"],x),e}function pS(n){const e={},l=r(n,["mode"]);l!=null&&u(e,["mode"],l);const o=r(n,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function gS(n){const e={},l=r(n,["latitude"]);l!=null&&u(e,["latitude"],l);const o=r(n,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function yS(n){const e={},l=r(n,["latLng"]);l!=null&&u(e,["latLng"],gS(l));const o=r(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function vS(n){const e={},l=r(n,["functionCallingConfig"]);l!=null&&u(e,["functionCallingConfig"],pS(l));const o=r(n,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],yS(o)),e}function xS(n,e){const l={},o=r(n,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const a=r(n,["expireTime"]);e!==void 0&&a!=null&&u(e,["expireTime"],a);const f=r(n,["displayName"]);e!==void 0&&f!=null&&u(e,["displayName"],f);const m=r(n,["contents"]);if(e!==void 0&&m!=null){let C=tn(m);Array.isArray(C)&&(C=C.map(_=>ug(_))),u(e,["contents"],C)}const h=r(n,["systemInstruction"]);e!==void 0&&h!=null&&u(e,["systemInstruction"],ug(St(h)));const y=r(n,["tools"]);if(e!==void 0&&y!=null){let C=y;Array.isArray(C)&&(C=C.map(_=>hS(_))),u(e,["tools"],C)}const p=r(n,["toolConfig"]);e!==void 0&&p!=null&&u(e,["toolConfig"],vS(p));const x=r(n,["kmsKeyName"]);return e!==void 0&&x!=null&&u(e,["encryption_spec","kmsKeyName"],x),l}function TS(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["model"],qg(n,o));const a=r(e,["config"]);return a!=null&&u(l,["config"],xS(a,l)),l}function CS(n,e){const l={},o=r(e,["name"]);o!=null&&u(l,["_url","name"],Pn(n,o));const a=r(e,["config"]);return a!=null&&u(l,["config"],a),l}function SS(n,e){const l={},o=r(e,["name"]);o!=null&&u(l,["_url","name"],Pn(n,o));const a=r(e,["config"]);return a!=null&&u(l,["config"],a),l}function _S(n,e){const l={},o=r(n,["ttl"]);e!==void 0&&o!=null&&u(e,["ttl"],o);const a=r(n,["expireTime"]);return e!==void 0&&a!=null&&u(e,["expireTime"],a),l}function bS(n,e){const l={},o=r(e,["name"]);o!=null&&u(l,["_url","name"],Pn(n,o));const a=r(e,["config"]);return a!=null&&u(l,["config"],_S(a,l)),l}function ES(n,e){const l={},o=r(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=r(n,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),l}function AS(n){const e={},l=r(n,["config"]);return l!=null&&u(e,["config"],ES(l,e)),e}function Sa(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=r(n,["model"]);a!=null&&u(e,["model"],a);const f=r(n,["createTime"]);f!=null&&u(e,["createTime"],f);const m=r(n,["updateTime"]);m!=null&&u(e,["updateTime"],m);const h=r(n,["expireTime"]);h!=null&&u(e,["expireTime"],h);const y=r(n,["usageMetadata"]);return y!=null&&u(e,["usageMetadata"],y),e}function wS(){return{}}function MS(n){const e={},l=r(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=r(n,["cachedContents"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>Sa(f))),u(e,["cachedContents"],a)}return e}function _a(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=r(n,["model"]);a!=null&&u(e,["model"],a);const f=r(n,["createTime"]);f!=null&&u(e,["createTime"],f);const m=r(n,["updateTime"]);m!=null&&u(e,["updateTime"],m);const h=r(n,["expireTime"]);h!=null&&u(e,["expireTime"],h);const y=r(n,["usageMetadata"]);return y!=null&&u(e,["usageMetadata"],y),e}function NS(){return{}}function RS(n){const e={},l=r(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=r(n,["cachedContents"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>_a(f))),u(e,["cachedContents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DS extends Ji{constructor(e){super(),this.apiClient=e,this.list=async(l={})=>new ls(Fi.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(l),l)}async create(e){var l,o,a,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=TS(this.apiClient,e);return h=he("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>_a(x))}else{const p=ZC(this.apiClient,e);return h=he("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>Sa(x))}}async get(e){var l,o,a,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=CS(this.apiClient,e);return h=he("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>_a(x))}else{const p=$C(this.apiClient,e);return h=he("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>Sa(x))}}async delete(e){var l,o,a,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=SS(this.apiClient,e);return h=he("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(()=>{const x=NS(),C=new tg;return Object.assign(C,x),C})}else{const p=KC(this.apiClient,e);return h=he("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(()=>{const x=wS(),C=new tg;return Object.assign(C,x),C})}}async update(e){var l,o,a,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=bS(this.apiClient,e);return h=he("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>_a(x))}else{const p=QC(this.apiClient,e);return h=he("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>Sa(x))}}async listInternal(e){var l,o,a,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=AS(e);return h=he("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>{const C=RS(x),_=new ng;return Object.assign(_,C),_})}else{const p=WC(e);return h=he("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>{const C=MS(x),_=new ng;return Object.assign(_,C),_})}}}function cg(n){var e=typeof Symbol=="function"&&Symbol.iterator,l=e&&n[e],o=0;if(l)return l.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $e(n){return this instanceof $e?(this.v=n,this):new $e(n)}function Pl(n,e,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=l.apply(n,e||[]),a,f=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",m),a[Symbol.asyncIterator]=function(){return this},a;function m(M){return function(D){return Promise.resolve(D).then(M,C)}}function h(M,D){o[M]&&(a[M]=function(q){return new Promise(function(G,Z){f.push([M,q,G,Z])>1||y(M,q)})},D&&(a[M]=D(a[M])))}function y(M,D){try{p(o[M](D))}catch(q){_(f[0][3],q)}}function p(M){M.value instanceof $e?Promise.resolve(M.value.v).then(x,C):_(f[0][2],M)}function x(M){y("next",M)}function C(M){y("throw",M)}function _(M,D){M(D),f.shift(),f.length&&y(f[0][0],f[0][1])}}function Wo(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],l;return e?e.call(n):(n=typeof cg=="function"?cg(n):n[Symbol.iterator](),l={},o("next"),o("throw"),o("return"),l[Symbol.asyncIterator]=function(){return this},l);function o(f){l[f]=n[f]&&function(m){return new Promise(function(h,y){m=n[f](m),a(h,y,m.done,m.value)})}}function a(f,m,h,y){Promise.resolve(y).then(function(p){f({value:p,done:h})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IS(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const l=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return l===void 0?!1:ey(l)}function ey(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function US(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function fg(n){if(n===void 0||n.length===0)return[];const e=[],l=n.length;let o=0;for(;o<l;)if(n[o].role==="user")e.push(n[o]),o++;else{const a=[];let f=!0;for(;o<l&&n[o].role==="model";)a.push(n[o]),f&&!ey(n[o])&&(f=!1),o++;f?e.push(...a):e.pop()}return e}class kS{constructor(e,l){this.modelsModule=e,this.apiClient=l}create(e){return new LS(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class LS{constructor(e,l,o,a={},f=[]){this.apiClient=e,this.modelsModule=l,this.model=o,this.config=a,this.history=f,this.sendPromise=Promise.resolve(),US(f)}async sendMessage(e){var l;await this.sendPromise;const o=St(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(l=e.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var f,m,h;const y=await a,p=(m=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content,x=y.automaticFunctionCallingHistory,C=this.getHistory(!0).length;let _=[];x!=null&&(_=(h=x.slice(C))!==null&&h!==void 0?h:[]);const M=p?[p]:[];this.recordHistory(o,M,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var l;await this.sendPromise;const o=St(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(l=e.config)!==null&&l!==void 0?l:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const f=await a;return this.processStreamResponse(f,o)}getHistory(e=!1){const l=e?fg(this.history):this.history;return structuredClone(l)}processStreamResponse(e,l){var o,a;return Pl(this,arguments,function*(){var m,h,y,p;const x=[];try{for(var C=!0,_=Wo(e),M;M=yield $e(_.next()),m=M.done,!m;C=!0){p=M.value,C=!1;const D=p;if(IS(D)){const q=(a=(o=D.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content;q!==void 0&&x.push(q)}yield yield $e(D)}}catch(D){h={error:D}}finally{try{!C&&!m&&(y=_.return)&&(yield $e(y.call(_)))}finally{if(h)throw h.error}}this.recordHistory(l,x)})}recordHistory(e,l,o){let a=[];l.length>0&&l.every(f=>f.role!==void 0)?a=l:a.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...fg(o)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class La extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,La.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VS(n,e){const l={},o=r(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=r(n,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),l}function PS(n){const e={},l=r(n,["config"]);return l!=null&&u(e,["config"],VS(l,e)),e}function qS(n){const e={},l=r(n,["details"]);l!=null&&u(e,["details"],l);const o=r(n,["message"]);o!=null&&u(e,["message"],o);const a=r(n,["code"]);return a!=null&&u(e,["code"],a),e}function GS(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=r(n,["mimeType"]);a!=null&&u(e,["mimeType"],a);const f=r(n,["sizeBytes"]);f!=null&&u(e,["sizeBytes"],f);const m=r(n,["createTime"]);m!=null&&u(e,["createTime"],m);const h=r(n,["expirationTime"]);h!=null&&u(e,["expirationTime"],h);const y=r(n,["updateTime"]);y!=null&&u(e,["updateTime"],y);const p=r(n,["sha256Hash"]);p!=null&&u(e,["sha256Hash"],p);const x=r(n,["uri"]);x!=null&&u(e,["uri"],x);const C=r(n,["downloadUri"]);C!=null&&u(e,["downloadUri"],C);const _=r(n,["state"]);_!=null&&u(e,["state"],_);const M=r(n,["source"]);M!=null&&u(e,["source"],M);const D=r(n,["videoMetadata"]);D!=null&&u(e,["videoMetadata"],D);const q=r(n,["error"]);return q!=null&&u(e,["error"],qS(q)),e}function BS(n){const e={},l=r(n,["file"]);l!=null&&u(e,["file"],GS(l));const o=r(n,["config"]);return o!=null&&u(e,["config"],o),e}function OS(n){const e={},l=r(n,["name"]);l!=null&&u(e,["_url","file"],Jg(l));const o=r(n,["config"]);return o!=null&&u(e,["config"],o),e}function zS(n){const e={},l=r(n,["name"]);l!=null&&u(e,["_url","file"],Jg(l));const o=r(n,["config"]);return o!=null&&u(e,["config"],o),e}function HS(n){const e={},l=r(n,["details"]);l!=null&&u(e,["details"],l);const o=r(n,["message"]);o!=null&&u(e,["message"],o);const a=r(n,["code"]);return a!=null&&u(e,["code"],a),e}function wc(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=r(n,["mimeType"]);a!=null&&u(e,["mimeType"],a);const f=r(n,["sizeBytes"]);f!=null&&u(e,["sizeBytes"],f);const m=r(n,["createTime"]);m!=null&&u(e,["createTime"],m);const h=r(n,["expirationTime"]);h!=null&&u(e,["expirationTime"],h);const y=r(n,["updateTime"]);y!=null&&u(e,["updateTime"],y);const p=r(n,["sha256Hash"]);p!=null&&u(e,["sha256Hash"],p);const x=r(n,["uri"]);x!=null&&u(e,["uri"],x);const C=r(n,["downloadUri"]);C!=null&&u(e,["downloadUri"],C);const _=r(n,["state"]);_!=null&&u(e,["state"],_);const M=r(n,["source"]);M!=null&&u(e,["source"],M);const D=r(n,["videoMetadata"]);D!=null&&u(e,["videoMetadata"],D);const q=r(n,["error"]);return q!=null&&u(e,["error"],HS(q)),e}function FS(n){const e={},l=r(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=r(n,["files"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>wc(f))),u(e,["files"],a)}return e}function JS(){return{}}function YS(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZS extends Ji{constructor(e){super(),this.apiClient=e,this.list=async(l={})=>new ls(Fi.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(l),l)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(l=>wc(l))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var l,o;let a,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=PS(e);return f=he("files",h._url),m=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(y=>{const p=FS(y),x=new sT;return Object.assign(x,p),x})}}async createInternal(e){var l,o;let a,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=BS(e);return f=he("upload/v1beta/files",h._url),m=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(()=>{const y=JS(),p=new aT;return Object.assign(p,y),p})}}async get(e){var l,o;let a,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=OS(e);return f=he("files/{file}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(y=>wc(y))}}async delete(e){var l,o;let a,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=zS(e);return f=he("files/{file}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(()=>{const y=YS(),p=new rT;return Object.assign(p,y),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $S(n){const e={},l=r(n,["voiceName"]);return l!=null&&u(e,["voiceName"],l),e}function KS(n){const e={},l=r(n,["voiceName"]);return l!=null&&u(e,["voiceName"],l),e}function ty(n){const e={},l=r(n,["prebuiltVoiceConfig"]);return l!=null&&u(e,["prebuiltVoiceConfig"],$S(l)),e}function jS(n){const e={},l=r(n,["prebuiltVoiceConfig"]);return l!=null&&u(e,["prebuiltVoiceConfig"],KS(l)),e}function QS(n){const e={},l=r(n,["speaker"]);l!=null&&u(e,["speaker"],l);const o=r(n,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],ty(o)),e}function XS(n){const e={},l=r(n,["speakerVoiceConfigs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(a=>QS(a))),u(e,["speakerVoiceConfigs"],o)}return e}function WS(n){const e={},l=r(n,["voiceConfig"]);l!=null&&u(e,["voiceConfig"],ty(l));const o=r(n,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],XS(o));const a=r(n,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function e_(n){const e={},l=r(n,["voiceConfig"]);if(l!=null&&u(e,["voiceConfig"],jS(l)),r(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=r(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function t_(n){const e={},l=r(n,["fps"]);l!=null&&u(e,["fps"],l);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=r(n,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function n_(n){const e={},l=r(n,["fps"]);l!=null&&u(e,["fps"],l);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=r(n,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function i_(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(n,["data"]);l!=null&&u(e,["data"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function l_(n){const e={},l=r(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=r(n,["data"]);o!=null&&u(e,["data"],o);const a=r(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function o_(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function s_(n){const e={},l=r(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=r(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=r(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function a_(n){const e={},l=r(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],t_(l));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const a=r(n,["inlineData"]);a!=null&&u(e,["inlineData"],i_(a));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],o_(f));const m=r(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=r(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const x=r(n,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const C=r(n,["text"]);return C!=null&&u(e,["text"],C),e}function r_(n){const e={},l=r(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],n_(l));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const a=r(n,["inlineData"]);a!=null&&u(e,["inlineData"],l_(a));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],s_(f));const m=r(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=r(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const x=r(n,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const C=r(n,["text"]);return C!=null&&u(e,["text"],C),e}function u_(n){const e={},l=r(n,["parts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(f=>a_(f))),u(e,["parts"],a)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function c_(n){const e={},l=r(n,["parts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(f=>r_(f))),u(e,["parts"],a)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function f_(n){const e={},l=r(n,["behavior"]);l!=null&&u(e,["behavior"],l);const o=r(n,["description"]);o!=null&&u(e,["description"],o);const a=r(n,["name"]);a!=null&&u(e,["name"],a);const f=r(n,["parameters"]);f!=null&&u(e,["parameters"],f);const m=r(n,["parametersJsonSchema"]);m!=null&&u(e,["parametersJsonSchema"],m);const h=r(n,["response"]);h!=null&&u(e,["response"],h);const y=r(n,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function d_(n){const e={};if(r(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=r(n,["description"]);l!=null&&u(e,["description"],l);const o=r(n,["name"]);o!=null&&u(e,["name"],o);const a=r(n,["parameters"]);a!=null&&u(e,["parameters"],a);const f=r(n,["parametersJsonSchema"]);f!=null&&u(e,["parametersJsonSchema"],f);const m=r(n,["response"]);m!=null&&u(e,["response"],m);const h=r(n,["responseJsonSchema"]);return h!=null&&u(e,["responseJsonSchema"],h),e}function m_(n){const e={},l=r(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=r(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function h_(n){const e={},l=r(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=r(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function p_(n){const e={},l=r(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],m_(l)),e}function g_(n){const e={},l=r(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],h_(l)),e}function y_(n){const e={},l=r(n,["mode"]);l!=null&&u(e,["mode"],l);const o=r(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function v_(n){const e={},l=r(n,["mode"]);l!=null&&u(e,["mode"],l);const o=r(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function x_(n){const e={},l=r(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],y_(l)),e}function T_(n){const e={},l=r(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],v_(l)),e}function C_(){return{}}function S_(n){const e={},l=r(n,["apiKeyString"]);return l!=null&&u(e,["apiKeyString"],l),e}function __(n){const e={},l=r(n,["apiKeyConfig"]);l!=null&&u(e,["apiKeyConfig"],S_(l));const o=r(n,["authType"]);o!=null&&u(e,["authType"],o);const a=r(n,["googleServiceAccountConfig"]);a!=null&&u(e,["googleServiceAccountConfig"],a);const f=r(n,["httpBasicAuthConfig"]);f!=null&&u(e,["httpBasicAuthConfig"],f);const m=r(n,["oauthConfig"]);m!=null&&u(e,["oauthConfig"],m);const h=r(n,["oidcConfig"]);return h!=null&&u(e,["oidcConfig"],h),e}function b_(n){const e={},l=r(n,["authConfig"]);return l!=null&&u(e,["authConfig"],__(l)),e}function E_(){return{}}function A_(){return{}}function w_(n){const e={},l=r(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>f_(p))),u(e,["functionDeclarations"],y)}if(r(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=r(n,["googleSearch"]);o!=null&&u(e,["googleSearch"],p_(o));const a=r(n,["googleSearchRetrieval"]);if(a!=null&&u(e,["googleSearchRetrieval"],x_(a)),r(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(n,["urlContext"])!=null&&u(e,["urlContext"],E_());const m=r(n,["codeExecution"]);m!=null&&u(e,["codeExecution"],m);const h=r(n,["computerUse"]);return h!=null&&u(e,["computerUse"],h),e}function M_(n){const e={},l=r(n,["functionDeclarations"]);if(l!=null){let C=l;Array.isArray(C)&&(C=C.map(_=>d_(_))),u(e,["functionDeclarations"],C)}const o=r(n,["retrieval"]);o!=null&&u(e,["retrieval"],o);const a=r(n,["googleSearch"]);a!=null&&u(e,["googleSearch"],g_(a));const f=r(n,["googleSearchRetrieval"]);f!=null&&u(e,["googleSearchRetrieval"],T_(f)),r(n,["enterpriseWebSearch"])!=null&&u(e,["enterpriseWebSearch"],C_());const h=r(n,["googleMaps"]);h!=null&&u(e,["googleMaps"],b_(h)),r(n,["urlContext"])!=null&&u(e,["urlContext"],A_());const p=r(n,["codeExecution"]);p!=null&&u(e,["codeExecution"],p);const x=r(n,["computerUse"]);return x!=null&&u(e,["computerUse"],x),e}function N_(n){const e={},l=r(n,["handle"]);if(l!=null&&u(e,["handle"],l),r(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function R_(n){const e={},l=r(n,["handle"]);l!=null&&u(e,["handle"],l);const o=r(n,["transparent"]);return o!=null&&u(e,["transparent"],o),e}function dg(){return{}}function mg(){return{}}function D_(n){const e={},l=r(n,["disabled"]);l!=null&&u(e,["disabled"],l);const o=r(n,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const a=r(n,["endOfSpeechSensitivity"]);a!=null&&u(e,["endOfSpeechSensitivity"],a);const f=r(n,["prefixPaddingMs"]);f!=null&&u(e,["prefixPaddingMs"],f);const m=r(n,["silenceDurationMs"]);return m!=null&&u(e,["silenceDurationMs"],m),e}function I_(n){const e={},l=r(n,["disabled"]);l!=null&&u(e,["disabled"],l);const o=r(n,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const a=r(n,["endOfSpeechSensitivity"]);a!=null&&u(e,["endOfSpeechSensitivity"],a);const f=r(n,["prefixPaddingMs"]);f!=null&&u(e,["prefixPaddingMs"],f);const m=r(n,["silenceDurationMs"]);return m!=null&&u(e,["silenceDurationMs"],m),e}function U_(n){const e={},l=r(n,["automaticActivityDetection"]);l!=null&&u(e,["automaticActivityDetection"],D_(l));const o=r(n,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const a=r(n,["turnCoverage"]);return a!=null&&u(e,["turnCoverage"],a),e}function k_(n){const e={},l=r(n,["automaticActivityDetection"]);l!=null&&u(e,["automaticActivityDetection"],I_(l));const o=r(n,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const a=r(n,["turnCoverage"]);return a!=null&&u(e,["turnCoverage"],a),e}function L_(n){const e={},l=r(n,["targetTokens"]);return l!=null&&u(e,["targetTokens"],l),e}function V_(n){const e={},l=r(n,["targetTokens"]);return l!=null&&u(e,["targetTokens"],l),e}function P_(n){const e={},l=r(n,["triggerTokens"]);l!=null&&u(e,["triggerTokens"],l);const o=r(n,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],L_(o)),e}function q_(n){const e={},l=r(n,["triggerTokens"]);l!=null&&u(e,["triggerTokens"],l);const o=r(n,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],V_(o)),e}function G_(n){const e={},l=r(n,["proactiveAudio"]);return l!=null&&u(e,["proactiveAudio"],l),e}function B_(n){const e={},l=r(n,["proactiveAudio"]);return l!=null&&u(e,["proactiveAudio"],l),e}function O_(n,e){const l={},o=r(n,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const a=r(n,["responseModalities"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","responseModalities"],a);const f=r(n,["temperature"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","temperature"],f);const m=r(n,["topP"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","topP"],m);const h=r(n,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const y=r(n,["maxOutputTokens"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","maxOutputTokens"],y);const p=r(n,["mediaResolution"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","mediaResolution"],p);const x=r(n,["seed"]);e!==void 0&&x!=null&&u(e,["setup","generationConfig","seed"],x);const C=r(n,["speechConfig"]);e!==void 0&&C!=null&&u(e,["setup","generationConfig","speechConfig"],WS(qc(C)));const _=r(n,["enableAffectiveDialog"]);e!==void 0&&_!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],_);const M=r(n,["systemInstruction"]);e!==void 0&&M!=null&&u(e,["setup","systemInstruction"],u_(St(M)));const D=r(n,["tools"]);if(e!==void 0&&D!=null){let J=Zl(D);Array.isArray(J)&&(J=J.map(ae=>w_(Yl(ae)))),u(e,["setup","tools"],J)}const q=r(n,["sessionResumption"]);e!==void 0&&q!=null&&u(e,["setup","sessionResumption"],N_(q));const G=r(n,["inputAudioTranscription"]);e!==void 0&&G!=null&&u(e,["setup","inputAudioTranscription"],dg());const Z=r(n,["outputAudioTranscription"]);e!==void 0&&Z!=null&&u(e,["setup","outputAudioTranscription"],dg());const H=r(n,["realtimeInputConfig"]);e!==void 0&&H!=null&&u(e,["setup","realtimeInputConfig"],U_(H));const $=r(n,["contextWindowCompression"]);e!==void 0&&$!=null&&u(e,["setup","contextWindowCompression"],P_($));const X=r(n,["proactivity"]);return e!==void 0&&X!=null&&u(e,["setup","proactivity"],G_(X)),l}function z_(n,e){const l={},o=r(n,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const a=r(n,["responseModalities"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","responseModalities"],a);const f=r(n,["temperature"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","temperature"],f);const m=r(n,["topP"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","topP"],m);const h=r(n,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const y=r(n,["maxOutputTokens"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","maxOutputTokens"],y);const p=r(n,["mediaResolution"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","mediaResolution"],p);const x=r(n,["seed"]);e!==void 0&&x!=null&&u(e,["setup","generationConfig","seed"],x);const C=r(n,["speechConfig"]);e!==void 0&&C!=null&&u(e,["setup","generationConfig","speechConfig"],e_(qc(C)));const _=r(n,["enableAffectiveDialog"]);e!==void 0&&_!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],_);const M=r(n,["systemInstruction"]);e!==void 0&&M!=null&&u(e,["setup","systemInstruction"],c_(St(M)));const D=r(n,["tools"]);if(e!==void 0&&D!=null){let J=Zl(D);Array.isArray(J)&&(J=J.map(ae=>M_(Yl(ae)))),u(e,["setup","tools"],J)}const q=r(n,["sessionResumption"]);e!==void 0&&q!=null&&u(e,["setup","sessionResumption"],R_(q));const G=r(n,["inputAudioTranscription"]);e!==void 0&&G!=null&&u(e,["setup","inputAudioTranscription"],mg());const Z=r(n,["outputAudioTranscription"]);e!==void 0&&Z!=null&&u(e,["setup","outputAudioTranscription"],mg());const H=r(n,["realtimeInputConfig"]);e!==void 0&&H!=null&&u(e,["setup","realtimeInputConfig"],k_(H));const $=r(n,["contextWindowCompression"]);e!==void 0&&$!=null&&u(e,["setup","contextWindowCompression"],q_($));const X=r(n,["proactivity"]);return e!==void 0&&X!=null&&u(e,["setup","proactivity"],B_(X)),l}function H_(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["setup","model"],Oe(n,o));const a=r(e,["config"]);return a!=null&&u(l,["config"],O_(a,l)),l}function F_(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["setup","model"],Oe(n,o));const a=r(e,["config"]);return a!=null&&u(l,["config"],z_(a,l)),l}function J_(){return{}}function Y_(){return{}}function Z_(){return{}}function $_(){return{}}function K_(n){const e={},l=r(n,["media"]);l!=null&&u(e,["mediaChunks"],Gg(l));const o=r(n,["audio"]);o!=null&&u(e,["audio"],Og(o));const a=r(n,["audioStreamEnd"]);a!=null&&u(e,["audioStreamEnd"],a);const f=r(n,["video"]);f!=null&&u(e,["video"],Bg(f));const m=r(n,["text"]);return m!=null&&u(e,["text"],m),r(n,["activityStart"])!=null&&u(e,["activityStart"],J_()),r(n,["activityEnd"])!=null&&u(e,["activityEnd"],Z_()),e}function j_(n){const e={},l=r(n,["media"]);l!=null&&u(e,["mediaChunks"],Gg(l));const o=r(n,["audio"]);o!=null&&u(e,["audio"],Og(o));const a=r(n,["audioStreamEnd"]);a!=null&&u(e,["audioStreamEnd"],a);const f=r(n,["video"]);f!=null&&u(e,["video"],Bg(f));const m=r(n,["text"]);return m!=null&&u(e,["text"],m),r(n,["activityStart"])!=null&&u(e,["activityStart"],Y_()),r(n,["activityEnd"])!=null&&u(e,["activityEnd"],$_()),e}function ny(n){const e={},l=r(n,["text"]);l!=null&&u(e,["text"],l);const o=r(n,["weight"]);return o!=null&&u(e,["weight"],o),e}function Q_(n){const e={},l=r(n,["weightedPrompts"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(a=>ny(a))),u(e,["weightedPrompts"],o)}return e}function iy(n){const e={},l=r(n,["temperature"]);l!=null&&u(e,["temperature"],l);const o=r(n,["topK"]);o!=null&&u(e,["topK"],o);const a=r(n,["seed"]);a!=null&&u(e,["seed"],a);const f=r(n,["guidance"]);f!=null&&u(e,["guidance"],f);const m=r(n,["bpm"]);m!=null&&u(e,["bpm"],m);const h=r(n,["density"]);h!=null&&u(e,["density"],h);const y=r(n,["brightness"]);y!=null&&u(e,["brightness"],y);const p=r(n,["scale"]);p!=null&&u(e,["scale"],p);const x=r(n,["muteBass"]);x!=null&&u(e,["muteBass"],x);const C=r(n,["muteDrums"]);C!=null&&u(e,["muteDrums"],C);const _=r(n,["onlyBassAndDrums"]);return _!=null&&u(e,["onlyBassAndDrums"],_),e}function X_(n){const e={},l=r(n,["musicGenerationConfig"]);return l!=null&&u(e,["musicGenerationConfig"],iy(l)),e}function ly(n){const e={},l=r(n,["model"]);return l!=null&&u(e,["model"],l),e}function oy(n){const e={},l=r(n,["weightedPrompts"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(a=>ny(a))),u(e,["weightedPrompts"],o)}return e}function Mc(n){const e={},l=r(n,["setup"]);l!=null&&u(e,["setup"],ly(l));const o=r(n,["clientContent"]);o!=null&&u(e,["clientContent"],oy(o));const a=r(n,["musicGenerationConfig"]);a!=null&&u(e,["musicGenerationConfig"],iy(a));const f=r(n,["playbackControl"]);return f!=null&&u(e,["playbackControl"],f),e}function W_(){return{}}function eb(n){const e={},l=r(n,["sessionId"]);return l!=null&&u(e,["sessionId"],l),e}function tb(n){const e={},l=r(n,["fps"]);l!=null&&u(e,["fps"],l);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=r(n,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function nb(n){const e={},l=r(n,["fps"]);l!=null&&u(e,["fps"],l);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=r(n,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function ib(n){const e={},l=r(n,["data"]);l!=null&&u(e,["data"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function lb(n){const e={},l=r(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=r(n,["data"]);o!=null&&u(e,["data"],o);const a=r(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function ob(n){const e={},l=r(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function sb(n){const e={},l=r(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=r(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=r(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function ab(n){const e={},l=r(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],tb(l));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const a=r(n,["inlineData"]);a!=null&&u(e,["inlineData"],ib(a));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],ob(f));const m=r(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=r(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const x=r(n,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const C=r(n,["text"]);return C!=null&&u(e,["text"],C),e}function rb(n){const e={},l=r(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],nb(l));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const a=r(n,["inlineData"]);a!=null&&u(e,["inlineData"],lb(a));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],sb(f));const m=r(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=r(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const x=r(n,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const C=r(n,["text"]);return C!=null&&u(e,["text"],C),e}function ub(n){const e={},l=r(n,["parts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(f=>ab(f))),u(e,["parts"],a)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function cb(n){const e={},l=r(n,["parts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(f=>rb(f))),u(e,["parts"],a)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function hg(n){const e={},l=r(n,["text"]);l!=null&&u(e,["text"],l);const o=r(n,["finished"]);return o!=null&&u(e,["finished"],o),e}function pg(n){const e={},l=r(n,["text"]);l!=null&&u(e,["text"],l);const o=r(n,["finished"]);return o!=null&&u(e,["finished"],o),e}function fb(n){const e={},l=r(n,["retrievedUrl"]);l!=null&&u(e,["retrievedUrl"],l);const o=r(n,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function db(n){const e={},l=r(n,["urlMetadata"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(a=>fb(a))),u(e,["urlMetadata"],o)}return e}function mb(n){const e={},l=r(n,["modelTurn"]);l!=null&&u(e,["modelTurn"],ub(l));const o=r(n,["turnComplete"]);o!=null&&u(e,["turnComplete"],o);const a=r(n,["interrupted"]);a!=null&&u(e,["interrupted"],a);const f=r(n,["groundingMetadata"]);f!=null&&u(e,["groundingMetadata"],f);const m=r(n,["generationComplete"]);m!=null&&u(e,["generationComplete"],m);const h=r(n,["inputTranscription"]);h!=null&&u(e,["inputTranscription"],hg(h));const y=r(n,["outputTranscription"]);y!=null&&u(e,["outputTranscription"],hg(y));const p=r(n,["urlContextMetadata"]);return p!=null&&u(e,["urlContextMetadata"],db(p)),e}function hb(n){const e={},l=r(n,["modelTurn"]);l!=null&&u(e,["modelTurn"],cb(l));const o=r(n,["turnComplete"]);o!=null&&u(e,["turnComplete"],o);const a=r(n,["interrupted"]);a!=null&&u(e,["interrupted"],a);const f=r(n,["groundingMetadata"]);f!=null&&u(e,["groundingMetadata"],f);const m=r(n,["generationComplete"]);m!=null&&u(e,["generationComplete"],m);const h=r(n,["inputTranscription"]);h!=null&&u(e,["inputTranscription"],pg(h));const y=r(n,["outputTranscription"]);return y!=null&&u(e,["outputTranscription"],pg(y)),e}function pb(n){const e={},l=r(n,["id"]);l!=null&&u(e,["id"],l);const o=r(n,["args"]);o!=null&&u(e,["args"],o);const a=r(n,["name"]);return a!=null&&u(e,["name"],a),e}function gb(n){const e={},l=r(n,["args"]);l!=null&&u(e,["args"],l);const o=r(n,["name"]);return o!=null&&u(e,["name"],o),e}function yb(n){const e={},l=r(n,["functionCalls"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(a=>pb(a))),u(e,["functionCalls"],o)}return e}function vb(n){const e={},l=r(n,["functionCalls"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(a=>gb(a))),u(e,["functionCalls"],o)}return e}function xb(n){const e={},l=r(n,["ids"]);return l!=null&&u(e,["ids"],l),e}function Tb(n){const e={},l=r(n,["ids"]);return l!=null&&u(e,["ids"],l),e}function xa(n){const e={},l=r(n,["modality"]);l!=null&&u(e,["modality"],l);const o=r(n,["tokenCount"]);return o!=null&&u(e,["tokenCount"],o),e}function Ta(n){const e={},l=r(n,["modality"]);l!=null&&u(e,["modality"],l);const o=r(n,["tokenCount"]);return o!=null&&u(e,["tokenCount"],o),e}function Cb(n){const e={},l=r(n,["promptTokenCount"]);l!=null&&u(e,["promptTokenCount"],l);const o=r(n,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);const a=r(n,["responseTokenCount"]);a!=null&&u(e,["responseTokenCount"],a);const f=r(n,["toolUsePromptTokenCount"]);f!=null&&u(e,["toolUsePromptTokenCount"],f);const m=r(n,["thoughtsTokenCount"]);m!=null&&u(e,["thoughtsTokenCount"],m);const h=r(n,["totalTokenCount"]);h!=null&&u(e,["totalTokenCount"],h);const y=r(n,["promptTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(M=>xa(M))),u(e,["promptTokensDetails"],_)}const p=r(n,["cacheTokensDetails"]);if(p!=null){let _=p;Array.isArray(_)&&(_=_.map(M=>xa(M))),u(e,["cacheTokensDetails"],_)}const x=r(n,["responseTokensDetails"]);if(x!=null){let _=x;Array.isArray(_)&&(_=_.map(M=>xa(M))),u(e,["responseTokensDetails"],_)}const C=r(n,["toolUsePromptTokensDetails"]);if(C!=null){let _=C;Array.isArray(_)&&(_=_.map(M=>xa(M))),u(e,["toolUsePromptTokensDetails"],_)}return e}function Sb(n){const e={},l=r(n,["promptTokenCount"]);l!=null&&u(e,["promptTokenCount"],l);const o=r(n,["cachedContentTokenCount"]);o!=null&&u(e,["cachedContentTokenCount"],o);const a=r(n,["candidatesTokenCount"]);a!=null&&u(e,["responseTokenCount"],a);const f=r(n,["toolUsePromptTokenCount"]);f!=null&&u(e,["toolUsePromptTokenCount"],f);const m=r(n,["thoughtsTokenCount"]);m!=null&&u(e,["thoughtsTokenCount"],m);const h=r(n,["totalTokenCount"]);h!=null&&u(e,["totalTokenCount"],h);const y=r(n,["promptTokensDetails"]);if(y!=null){let M=y;Array.isArray(M)&&(M=M.map(D=>Ta(D))),u(e,["promptTokensDetails"],M)}const p=r(n,["cacheTokensDetails"]);if(p!=null){let M=p;Array.isArray(M)&&(M=M.map(D=>Ta(D))),u(e,["cacheTokensDetails"],M)}const x=r(n,["candidatesTokensDetails"]);if(x!=null){let M=x;Array.isArray(M)&&(M=M.map(D=>Ta(D))),u(e,["responseTokensDetails"],M)}const C=r(n,["toolUsePromptTokensDetails"]);if(C!=null){let M=C;Array.isArray(M)&&(M=M.map(D=>Ta(D))),u(e,["toolUsePromptTokensDetails"],M)}const _=r(n,["trafficType"]);return _!=null&&u(e,["trafficType"],_),e}function _b(n){const e={},l=r(n,["timeLeft"]);return l!=null&&u(e,["timeLeft"],l),e}function bb(n){const e={},l=r(n,["timeLeft"]);return l!=null&&u(e,["timeLeft"],l),e}function Eb(n){const e={},l=r(n,["newHandle"]);l!=null&&u(e,["newHandle"],l);const o=r(n,["resumable"]);o!=null&&u(e,["resumable"],o);const a=r(n,["lastConsumedClientMessageIndex"]);return a!=null&&u(e,["lastConsumedClientMessageIndex"],a),e}function Ab(n){const e={},l=r(n,["newHandle"]);l!=null&&u(e,["newHandle"],l);const o=r(n,["resumable"]);o!=null&&u(e,["resumable"],o);const a=r(n,["lastConsumedClientMessageIndex"]);return a!=null&&u(e,["lastConsumedClientMessageIndex"],a),e}function wb(n){const e={};r(n,["setupComplete"])!=null&&u(e,["setupComplete"],W_());const o=r(n,["serverContent"]);o!=null&&u(e,["serverContent"],mb(o));const a=r(n,["toolCall"]);a!=null&&u(e,["toolCall"],yb(a));const f=r(n,["toolCallCancellation"]);f!=null&&u(e,["toolCallCancellation"],xb(f));const m=r(n,["usageMetadata"]);m!=null&&u(e,["usageMetadata"],Cb(m));const h=r(n,["goAway"]);h!=null&&u(e,["goAway"],_b(h));const y=r(n,["sessionResumptionUpdate"]);return y!=null&&u(e,["sessionResumptionUpdate"],Eb(y)),e}function Mb(n){const e={},l=r(n,["setupComplete"]);l!=null&&u(e,["setupComplete"],eb(l));const o=r(n,["serverContent"]);o!=null&&u(e,["serverContent"],hb(o));const a=r(n,["toolCall"]);a!=null&&u(e,["toolCall"],vb(a));const f=r(n,["toolCallCancellation"]);f!=null&&u(e,["toolCallCancellation"],Tb(f));const m=r(n,["usageMetadata"]);m!=null&&u(e,["usageMetadata"],Sb(m));const h=r(n,["goAway"]);h!=null&&u(e,["goAway"],bb(h));const y=r(n,["sessionResumptionUpdate"]);return y!=null&&u(e,["sessionResumptionUpdate"],Ab(y)),e}function Nb(){return{}}function Rb(n){const e={},l=r(n,["text"]);l!=null&&u(e,["text"],l);const o=r(n,["weight"]);return o!=null&&u(e,["weight"],o),e}function Db(n){const e={},l=r(n,["weightedPrompts"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(a=>Rb(a))),u(e,["weightedPrompts"],o)}return e}function Ib(n){const e={},l=r(n,["temperature"]);l!=null&&u(e,["temperature"],l);const o=r(n,["topK"]);o!=null&&u(e,["topK"],o);const a=r(n,["seed"]);a!=null&&u(e,["seed"],a);const f=r(n,["guidance"]);f!=null&&u(e,["guidance"],f);const m=r(n,["bpm"]);m!=null&&u(e,["bpm"],m);const h=r(n,["density"]);h!=null&&u(e,["density"],h);const y=r(n,["brightness"]);y!=null&&u(e,["brightness"],y);const p=r(n,["scale"]);p!=null&&u(e,["scale"],p);const x=r(n,["muteBass"]);x!=null&&u(e,["muteBass"],x);const C=r(n,["muteDrums"]);C!=null&&u(e,["muteDrums"],C);const _=r(n,["onlyBassAndDrums"]);return _!=null&&u(e,["onlyBassAndDrums"],_),e}function Ub(n){const e={},l=r(n,["clientContent"]);l!=null&&u(e,["clientContent"],Db(l));const o=r(n,["musicGenerationConfig"]);return o!=null&&u(e,["musicGenerationConfig"],Ib(o)),e}function kb(n){const e={},l=r(n,["data"]);l!=null&&u(e,["data"],l);const o=r(n,["mimeType"]);o!=null&&u(e,["mimeType"],o);const a=r(n,["sourceMetadata"]);return a!=null&&u(e,["sourceMetadata"],Ub(a)),e}function Lb(n){const e={},l=r(n,["audioChunks"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(a=>kb(a))),u(e,["audioChunks"],o)}return e}function Vb(n){const e={},l=r(n,["text"]);l!=null&&u(e,["text"],l);const o=r(n,["filteredReason"]);return o!=null&&u(e,["filteredReason"],o),e}function Pb(n){const e={};r(n,["setupComplete"])!=null&&u(e,["setupComplete"],Nb());const o=r(n,["serverContent"]);o!=null&&u(e,["serverContent"],Lb(o));const a=r(n,["filteredPrompt"]);return a!=null&&u(e,["filteredPrompt"],Vb(a)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qb(n){const e={},l=r(n,["fps"]);l!=null&&u(e,["fps"],l);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=r(n,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function Gb(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(n,["data"]);l!=null&&u(e,["data"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Bb(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function Ob(n){const e={},l=r(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],qb(l));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const a=r(n,["inlineData"]);a!=null&&u(e,["inlineData"],Gb(a));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],Bb(f));const m=r(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=r(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const x=r(n,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const C=r(n,["text"]);return C!=null&&u(e,["text"],C),e}function Va(n){const e={},l=r(n,["parts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(f=>Ob(f))),u(e,["parts"],a)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function zb(n){const e={},l=r(n,["anyOf"]);l!=null&&u(e,["anyOf"],l);const o=r(n,["default"]);o!=null&&u(e,["default"],o);const a=r(n,["description"]);a!=null&&u(e,["description"],a);const f=r(n,["enum"]);f!=null&&u(e,["enum"],f);const m=r(n,["example"]);m!=null&&u(e,["example"],m);const h=r(n,["format"]);h!=null&&u(e,["format"],h);const y=r(n,["items"]);y!=null&&u(e,["items"],y);const p=r(n,["maxItems"]);p!=null&&u(e,["maxItems"],p);const x=r(n,["maxLength"]);x!=null&&u(e,["maxLength"],x);const C=r(n,["maxProperties"]);C!=null&&u(e,["maxProperties"],C);const _=r(n,["maximum"]);_!=null&&u(e,["maximum"],_);const M=r(n,["minItems"]);M!=null&&u(e,["minItems"],M);const D=r(n,["minLength"]);D!=null&&u(e,["minLength"],D);const q=r(n,["minProperties"]);q!=null&&u(e,["minProperties"],q);const G=r(n,["minimum"]);G!=null&&u(e,["minimum"],G);const Z=r(n,["nullable"]);Z!=null&&u(e,["nullable"],Z);const H=r(n,["pattern"]);H!=null&&u(e,["pattern"],H);const $=r(n,["properties"]);$!=null&&u(e,["properties"],$);const X=r(n,["propertyOrdering"]);X!=null&&u(e,["propertyOrdering"],X);const J=r(n,["required"]);J!=null&&u(e,["required"],J);const ae=r(n,["title"]);ae!=null&&u(e,["title"],ae);const ne=r(n,["type"]);return ne!=null&&u(e,["type"],ne),e}function Hb(n){const e={};if(r(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=r(n,["category"]);l!=null&&u(e,["category"],l);const o=r(n,["threshold"]);return o!=null&&u(e,["threshold"],o),e}function Fb(n){const e={},l=r(n,["behavior"]);l!=null&&u(e,["behavior"],l);const o=r(n,["description"]);o!=null&&u(e,["description"],o);const a=r(n,["name"]);a!=null&&u(e,["name"],a);const f=r(n,["parameters"]);f!=null&&u(e,["parameters"],f);const m=r(n,["parametersJsonSchema"]);m!=null&&u(e,["parametersJsonSchema"],m);const h=r(n,["response"]);h!=null&&u(e,["response"],h);const y=r(n,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function Jb(n){const e={},l=r(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=r(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function Yb(n){const e={},l=r(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],Jb(l)),e}function Zb(n){const e={},l=r(n,["mode"]);l!=null&&u(e,["mode"],l);const o=r(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function $b(n){const e={},l=r(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],Zb(l)),e}function Kb(){return{}}function jb(n){const e={},l=r(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>Fb(p))),u(e,["functionDeclarations"],y)}if(r(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=r(n,["googleSearch"]);o!=null&&u(e,["googleSearch"],Yb(o));const a=r(n,["googleSearchRetrieval"]);if(a!=null&&u(e,["googleSearchRetrieval"],$b(a)),r(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(n,["urlContext"])!=null&&u(e,["urlContext"],Kb());const m=r(n,["codeExecution"]);m!=null&&u(e,["codeExecution"],m);const h=r(n,["computerUse"]);return h!=null&&u(e,["computerUse"],h),e}function Qb(n){const e={},l=r(n,["mode"]);l!=null&&u(e,["mode"],l);const o=r(n,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function Xb(n){const e={},l=r(n,["latitude"]);l!=null&&u(e,["latitude"],l);const o=r(n,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function Wb(n){const e={},l=r(n,["latLng"]);l!=null&&u(e,["latLng"],Xb(l));const o=r(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function eE(n){const e={},l=r(n,["functionCallingConfig"]);l!=null&&u(e,["functionCallingConfig"],Qb(l));const o=r(n,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],Wb(o)),e}function tE(n){const e={},l=r(n,["voiceName"]);return l!=null&&u(e,["voiceName"],l),e}function sy(n){const e={},l=r(n,["prebuiltVoiceConfig"]);return l!=null&&u(e,["prebuiltVoiceConfig"],tE(l)),e}function nE(n){const e={},l=r(n,["speaker"]);l!=null&&u(e,["speaker"],l);const o=r(n,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],sy(o)),e}function iE(n){const e={},l=r(n,["speakerVoiceConfigs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(a=>nE(a))),u(e,["speakerVoiceConfigs"],o)}return e}function lE(n){const e={},l=r(n,["voiceConfig"]);l!=null&&u(e,["voiceConfig"],sy(l));const o=r(n,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],iE(o));const a=r(n,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function oE(n){const e={},l=r(n,["includeThoughts"]);l!=null&&u(e,["includeThoughts"],l);const o=r(n,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function sE(n,e,l){const o={},a=r(e,["systemInstruction"]);l!==void 0&&a!=null&&u(l,["systemInstruction"],Va(St(a)));const f=r(e,["temperature"]);f!=null&&u(o,["temperature"],f);const m=r(e,["topP"]);m!=null&&u(o,["topP"],m);const h=r(e,["topK"]);h!=null&&u(o,["topK"],h);const y=r(e,["candidateCount"]);y!=null&&u(o,["candidateCount"],y);const p=r(e,["maxOutputTokens"]);p!=null&&u(o,["maxOutputTokens"],p);const x=r(e,["stopSequences"]);x!=null&&u(o,["stopSequences"],x);const C=r(e,["responseLogprobs"]);C!=null&&u(o,["responseLogprobs"],C);const _=r(e,["logprobs"]);_!=null&&u(o,["logprobs"],_);const M=r(e,["presencePenalty"]);M!=null&&u(o,["presencePenalty"],M);const D=r(e,["frequencyPenalty"]);D!=null&&u(o,["frequencyPenalty"],D);const q=r(e,["seed"]);q!=null&&u(o,["seed"],q);const G=r(e,["responseMimeType"]);G!=null&&u(o,["responseMimeType"],G);const Z=r(e,["responseSchema"]);Z!=null&&u(o,["responseSchema"],zb(ns(Z)));const H=r(e,["responseJsonSchema"]);if(H!=null&&u(o,["responseJsonSchema"],H),r(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const $=r(e,["safetySettings"]);if(l!==void 0&&$!=null){let le=$;Array.isArray(le)&&(le=le.map(ue=>Hb(ue))),u(l,["safetySettings"],le)}const X=r(e,["tools"]);if(l!==void 0&&X!=null){let le=Zl(X);Array.isArray(le)&&(le=le.map(ue=>jb(Yl(ue)))),u(l,["tools"],le)}const J=r(e,["toolConfig"]);if(l!==void 0&&J!=null&&u(l,["toolConfig"],eE(J)),r(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ae=r(e,["cachedContent"]);l!==void 0&&ae!=null&&u(l,["cachedContent"],Pn(n,ae));const ne=r(e,["responseModalities"]);ne!=null&&u(o,["responseModalities"],ne);const O=r(e,["mediaResolution"]);O!=null&&u(o,["mediaResolution"],O);const j=r(e,["speechConfig"]);if(j!=null&&u(o,["speechConfig"],lE(Pc(j))),r(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ie=r(e,["thinkingConfig"]);return ie!=null&&u(o,["thinkingConfig"],oE(ie)),o}function gg(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","model"],Oe(n,o));const a=r(e,["contents"]);if(a!=null){let m=tn(a);Array.isArray(m)&&(m=m.map(h=>Va(h))),u(l,["contents"],m)}const f=r(e,["config"]);return f!=null&&u(l,["generationConfig"],sE(n,f,l)),l}function aE(n,e){const l={},o=r(n,["taskType"]);e!==void 0&&o!=null&&u(e,["requests[]","taskType"],o);const a=r(n,["title"]);e!==void 0&&a!=null&&u(e,["requests[]","title"],a);const f=r(n,["outputDimensionality"]);if(e!==void 0&&f!=null&&u(e,["requests[]","outputDimensionality"],f),r(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function rE(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","model"],Oe(n,o));const a=r(e,["contents"]);a!=null&&u(l,["requests[]","content"],Hg(n,a));const f=r(e,["config"]);f!=null&&u(l,["config"],aE(f,l));const m=r(e,["model"]);return m!==void 0&&u(l,["requests[]","model"],Oe(n,m)),l}function uE(n,e){const l={};if(r(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=r(n,["numberOfImages"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const a=r(n,["aspectRatio"]);e!==void 0&&a!=null&&u(e,["parameters","aspectRatio"],a);const f=r(n,["guidanceScale"]);if(e!==void 0&&f!=null&&u(e,["parameters","guidanceScale"],f),r(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=r(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&u(e,["parameters","safetySetting"],m);const h=r(n,["personGeneration"]);e!==void 0&&h!=null&&u(e,["parameters","personGeneration"],h);const y=r(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&u(e,["parameters","includeSafetyAttributes"],y);const p=r(n,["includeRaiReason"]);e!==void 0&&p!=null&&u(e,["parameters","includeRaiReason"],p);const x=r(n,["language"]);e!==void 0&&x!=null&&u(e,["parameters","language"],x);const C=r(n,["outputMimeType"]);e!==void 0&&C!=null&&u(e,["parameters","outputOptions","mimeType"],C);const _=r(n,["outputCompressionQuality"]);if(e!==void 0&&_!=null&&u(e,["parameters","outputOptions","compressionQuality"],_),r(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(r(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function cE(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","model"],Oe(n,o));const a=r(e,["prompt"]);a!=null&&u(l,["instances[0]","prompt"],a);const f=r(e,["config"]);return f!=null&&u(l,["config"],uE(f,l)),l}function fE(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","name"],Oe(n,o));const a=r(e,["config"]);return a!=null&&u(l,["config"],a),l}function dE(n,e,l){const o={},a=r(e,["pageSize"]);l!==void 0&&a!=null&&u(l,["_query","pageSize"],a);const f=r(e,["pageToken"]);l!==void 0&&f!=null&&u(l,["_query","pageToken"],f);const m=r(e,["filter"]);l!==void 0&&m!=null&&u(l,["_query","filter"],m);const h=r(e,["queryBase"]);return l!==void 0&&h!=null&&u(l,["_url","models_url"],Yg(n,h)),o}function mE(n,e){const l={},o=r(e,["config"]);return o!=null&&u(l,["config"],dE(n,o,l)),l}function hE(n,e){const l={},o=r(n,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const a=r(n,["description"]);e!==void 0&&a!=null&&u(e,["description"],a);const f=r(n,["defaultCheckpointId"]);return e!==void 0&&f!=null&&u(e,["defaultCheckpointId"],f),l}function pE(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","name"],Oe(n,o));const a=r(e,["config"]);return a!=null&&u(l,["config"],hE(a,l)),l}function gE(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","name"],Oe(n,o));const a=r(e,["config"]);return a!=null&&u(l,["config"],a),l}function yE(n){const e={};if(r(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(r(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(r(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function vE(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","model"],Oe(n,o));const a=r(e,["contents"]);if(a!=null){let m=tn(a);Array.isArray(m)&&(m=m.map(h=>Va(h))),u(l,["contents"],m)}const f=r(e,["config"]);return f!=null&&u(l,["config"],yE(f)),l}function xE(n){const e={};if(r(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=r(n,["imageBytes"]);l!=null&&u(e,["bytesBase64Encoded"],qn(l));const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function TE(n,e){const l={},o=r(n,["numberOfVideos"]);if(e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o),r(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=r(n,["durationSeconds"]);if(e!==void 0&&a!=null&&u(e,["parameters","durationSeconds"],a),r(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=r(n,["aspectRatio"]);if(e!==void 0&&f!=null&&u(e,["parameters","aspectRatio"],f),r(n,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const m=r(n,["personGeneration"]);if(e!==void 0&&m!=null&&u(e,["parameters","personGeneration"],m),r(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=r(n,["negativePrompt"]);e!==void 0&&h!=null&&u(e,["parameters","negativePrompt"],h);const y=r(n,["enhancePrompt"]);if(e!==void 0&&y!=null&&u(e,["parameters","enhancePrompt"],y),r(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(r(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(r(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function CE(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","model"],Oe(n,o));const a=r(e,["prompt"]);a!=null&&u(l,["instances[0]","prompt"],a);const f=r(e,["image"]);if(f!=null&&u(l,["instances[0]","image"],xE(f)),r(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const m=r(e,["config"]);return m!=null&&u(l,["config"],TE(m,l)),l}function SE(n){const e={},l=r(n,["fps"]);l!=null&&u(e,["fps"],l);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=r(n,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function _E(n){const e={},l=r(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=r(n,["data"]);o!=null&&u(e,["data"],o);const a=r(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function bE(n){const e={},l=r(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=r(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=r(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function EE(n){const e={},l=r(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],SE(l));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const a=r(n,["inlineData"]);a!=null&&u(e,["inlineData"],_E(a));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],bE(f));const m=r(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=r(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const x=r(n,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const C=r(n,["text"]);return C!=null&&u(e,["text"],C),e}function Kl(n){const e={},l=r(n,["parts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(f=>EE(f))),u(e,["parts"],a)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function AE(n){const e={},l=r(n,["anyOf"]);l!=null&&u(e,["anyOf"],l);const o=r(n,["default"]);o!=null&&u(e,["default"],o);const a=r(n,["description"]);a!=null&&u(e,["description"],a);const f=r(n,["enum"]);f!=null&&u(e,["enum"],f);const m=r(n,["example"]);m!=null&&u(e,["example"],m);const h=r(n,["format"]);h!=null&&u(e,["format"],h);const y=r(n,["items"]);y!=null&&u(e,["items"],y);const p=r(n,["maxItems"]);p!=null&&u(e,["maxItems"],p);const x=r(n,["maxLength"]);x!=null&&u(e,["maxLength"],x);const C=r(n,["maxProperties"]);C!=null&&u(e,["maxProperties"],C);const _=r(n,["maximum"]);_!=null&&u(e,["maximum"],_);const M=r(n,["minItems"]);M!=null&&u(e,["minItems"],M);const D=r(n,["minLength"]);D!=null&&u(e,["minLength"],D);const q=r(n,["minProperties"]);q!=null&&u(e,["minProperties"],q);const G=r(n,["minimum"]);G!=null&&u(e,["minimum"],G);const Z=r(n,["nullable"]);Z!=null&&u(e,["nullable"],Z);const H=r(n,["pattern"]);H!=null&&u(e,["pattern"],H);const $=r(n,["properties"]);$!=null&&u(e,["properties"],$);const X=r(n,["propertyOrdering"]);X!=null&&u(e,["propertyOrdering"],X);const J=r(n,["required"]);J!=null&&u(e,["required"],J);const ae=r(n,["title"]);ae!=null&&u(e,["title"],ae);const ne=r(n,["type"]);return ne!=null&&u(e,["type"],ne),e}function wE(n){const e={},l=r(n,["featureSelectionPreference"]);return l!=null&&u(e,["featureSelectionPreference"],l),e}function ME(n){const e={},l=r(n,["method"]);l!=null&&u(e,["method"],l);const o=r(n,["category"]);o!=null&&u(e,["category"],o);const a=r(n,["threshold"]);return a!=null&&u(e,["threshold"],a),e}function NE(n){const e={};if(r(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=r(n,["description"]);l!=null&&u(e,["description"],l);const o=r(n,["name"]);o!=null&&u(e,["name"],o);const a=r(n,["parameters"]);a!=null&&u(e,["parameters"],a);const f=r(n,["parametersJsonSchema"]);f!=null&&u(e,["parametersJsonSchema"],f);const m=r(n,["response"]);m!=null&&u(e,["response"],m);const h=r(n,["responseJsonSchema"]);return h!=null&&u(e,["responseJsonSchema"],h),e}function RE(n){const e={},l=r(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=r(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function DE(n){const e={},l=r(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],RE(l)),e}function IE(n){const e={},l=r(n,["mode"]);l!=null&&u(e,["mode"],l);const o=r(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function UE(n){const e={},l=r(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],IE(l)),e}function kE(){return{}}function LE(n){const e={},l=r(n,["apiKeyString"]);return l!=null&&u(e,["apiKeyString"],l),e}function VE(n){const e={},l=r(n,["apiKeyConfig"]);l!=null&&u(e,["apiKeyConfig"],LE(l));const o=r(n,["authType"]);o!=null&&u(e,["authType"],o);const a=r(n,["googleServiceAccountConfig"]);a!=null&&u(e,["googleServiceAccountConfig"],a);const f=r(n,["httpBasicAuthConfig"]);f!=null&&u(e,["httpBasicAuthConfig"],f);const m=r(n,["oauthConfig"]);m!=null&&u(e,["oauthConfig"],m);const h=r(n,["oidcConfig"]);return h!=null&&u(e,["oidcConfig"],h),e}function PE(n){const e={},l=r(n,["authConfig"]);return l!=null&&u(e,["authConfig"],VE(l)),e}function qE(){return{}}function ay(n){const e={},l=r(n,["functionDeclarations"]);if(l!=null){let C=l;Array.isArray(C)&&(C=C.map(_=>NE(_))),u(e,["functionDeclarations"],C)}const o=r(n,["retrieval"]);o!=null&&u(e,["retrieval"],o);const a=r(n,["googleSearch"]);a!=null&&u(e,["googleSearch"],DE(a));const f=r(n,["googleSearchRetrieval"]);f!=null&&u(e,["googleSearchRetrieval"],UE(f)),r(n,["enterpriseWebSearch"])!=null&&u(e,["enterpriseWebSearch"],kE());const h=r(n,["googleMaps"]);h!=null&&u(e,["googleMaps"],PE(h)),r(n,["urlContext"])!=null&&u(e,["urlContext"],qE());const p=r(n,["codeExecution"]);p!=null&&u(e,["codeExecution"],p);const x=r(n,["computerUse"]);return x!=null&&u(e,["computerUse"],x),e}function GE(n){const e={},l=r(n,["mode"]);l!=null&&u(e,["mode"],l);const o=r(n,["allowedFunctionNames"]);return o!=null&&u(e,["allowedFunctionNames"],o),e}function BE(n){const e={},l=r(n,["latitude"]);l!=null&&u(e,["latitude"],l);const o=r(n,["longitude"]);return o!=null&&u(e,["longitude"],o),e}function OE(n){const e={},l=r(n,["latLng"]);l!=null&&u(e,["latLng"],BE(l));const o=r(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function zE(n){const e={},l=r(n,["functionCallingConfig"]);l!=null&&u(e,["functionCallingConfig"],GE(l));const o=r(n,["retrievalConfig"]);return o!=null&&u(e,["retrievalConfig"],OE(o)),e}function HE(n){const e={},l=r(n,["voiceName"]);return l!=null&&u(e,["voiceName"],l),e}function FE(n){const e={},l=r(n,["prebuiltVoiceConfig"]);return l!=null&&u(e,["prebuiltVoiceConfig"],HE(l)),e}function JE(n){const e={},l=r(n,["voiceConfig"]);if(l!=null&&u(e,["voiceConfig"],FE(l)),r(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=r(n,["languageCode"]);return o!=null&&u(e,["languageCode"],o),e}function YE(n){const e={},l=r(n,["includeThoughts"]);l!=null&&u(e,["includeThoughts"],l);const o=r(n,["thinkingBudget"]);return o!=null&&u(e,["thinkingBudget"],o),e}function ZE(n,e,l){const o={},a=r(e,["systemInstruction"]);l!==void 0&&a!=null&&u(l,["systemInstruction"],Kl(St(a)));const f=r(e,["temperature"]);f!=null&&u(o,["temperature"],f);const m=r(e,["topP"]);m!=null&&u(o,["topP"],m);const h=r(e,["topK"]);h!=null&&u(o,["topK"],h);const y=r(e,["candidateCount"]);y!=null&&u(o,["candidateCount"],y);const p=r(e,["maxOutputTokens"]);p!=null&&u(o,["maxOutputTokens"],p);const x=r(e,["stopSequences"]);x!=null&&u(o,["stopSequences"],x);const C=r(e,["responseLogprobs"]);C!=null&&u(o,["responseLogprobs"],C);const _=r(e,["logprobs"]);_!=null&&u(o,["logprobs"],_);const M=r(e,["presencePenalty"]);M!=null&&u(o,["presencePenalty"],M);const D=r(e,["frequencyPenalty"]);D!=null&&u(o,["frequencyPenalty"],D);const q=r(e,["seed"]);q!=null&&u(o,["seed"],q);const G=r(e,["responseMimeType"]);G!=null&&u(o,["responseMimeType"],G);const Z=r(e,["responseSchema"]);Z!=null&&u(o,["responseSchema"],AE(ns(Z)));const H=r(e,["responseJsonSchema"]);H!=null&&u(o,["responseJsonSchema"],H);const $=r(e,["routingConfig"]);$!=null&&u(o,["routingConfig"],$);const X=r(e,["modelSelectionConfig"]);X!=null&&u(o,["modelConfig"],wE(X));const J=r(e,["safetySettings"]);if(l!==void 0&&J!=null){let ge=J;Array.isArray(ge)&&(ge=ge.map(A=>ME(A))),u(l,["safetySettings"],ge)}const ae=r(e,["tools"]);if(l!==void 0&&ae!=null){let ge=Zl(ae);Array.isArray(ge)&&(ge=ge.map(A=>ay(Yl(A)))),u(l,["tools"],ge)}const ne=r(e,["toolConfig"]);l!==void 0&&ne!=null&&u(l,["toolConfig"],zE(ne));const O=r(e,["labels"]);l!==void 0&&O!=null&&u(l,["labels"],O);const j=r(e,["cachedContent"]);l!==void 0&&j!=null&&u(l,["cachedContent"],Pn(n,j));const ie=r(e,["responseModalities"]);ie!=null&&u(o,["responseModalities"],ie);const le=r(e,["mediaResolution"]);le!=null&&u(o,["mediaResolution"],le);const ue=r(e,["speechConfig"]);ue!=null&&u(o,["speechConfig"],JE(Pc(ue)));const Me=r(e,["audioTimestamp"]);Me!=null&&u(o,["audioTimestamp"],Me);const Ne=r(e,["thinkingConfig"]);return Ne!=null&&u(o,["thinkingConfig"],YE(Ne)),o}function yg(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","model"],Oe(n,o));const a=r(e,["contents"]);if(a!=null){let m=tn(a);Array.isArray(m)&&(m=m.map(h=>Kl(h))),u(l,["contents"],m)}const f=r(e,["config"]);return f!=null&&u(l,["generationConfig"],ZE(n,f,l)),l}function $E(n,e){const l={},o=r(n,["taskType"]);e!==void 0&&o!=null&&u(e,["instances[]","task_type"],o);const a=r(n,["title"]);e!==void 0&&a!=null&&u(e,["instances[]","title"],a);const f=r(n,["outputDimensionality"]);e!==void 0&&f!=null&&u(e,["parameters","outputDimensionality"],f);const m=r(n,["mimeType"]);e!==void 0&&m!=null&&u(e,["instances[]","mimeType"],m);const h=r(n,["autoTruncate"]);return e!==void 0&&h!=null&&u(e,["parameters","autoTruncate"],h),l}function KE(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","model"],Oe(n,o));const a=r(e,["contents"]);a!=null&&u(l,["instances[]","content"],Hg(n,a));const f=r(e,["config"]);return f!=null&&u(l,["config"],$E(f,l)),l}function jE(n,e){const l={},o=r(n,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const a=r(n,["negativePrompt"]);e!==void 0&&a!=null&&u(e,["parameters","negativePrompt"],a);const f=r(n,["numberOfImages"]);e!==void 0&&f!=null&&u(e,["parameters","sampleCount"],f);const m=r(n,["aspectRatio"]);e!==void 0&&m!=null&&u(e,["parameters","aspectRatio"],m);const h=r(n,["guidanceScale"]);e!==void 0&&h!=null&&u(e,["parameters","guidanceScale"],h);const y=r(n,["seed"]);e!==void 0&&y!=null&&u(e,["parameters","seed"],y);const p=r(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&u(e,["parameters","safetySetting"],p);const x=r(n,["personGeneration"]);e!==void 0&&x!=null&&u(e,["parameters","personGeneration"],x);const C=r(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&u(e,["parameters","includeSafetyAttributes"],C);const _=r(n,["includeRaiReason"]);e!==void 0&&_!=null&&u(e,["parameters","includeRaiReason"],_);const M=r(n,["language"]);e!==void 0&&M!=null&&u(e,["parameters","language"],M);const D=r(n,["outputMimeType"]);e!==void 0&&D!=null&&u(e,["parameters","outputOptions","mimeType"],D);const q=r(n,["outputCompressionQuality"]);e!==void 0&&q!=null&&u(e,["parameters","outputOptions","compressionQuality"],q);const G=r(n,["addWatermark"]);e!==void 0&&G!=null&&u(e,["parameters","addWatermark"],G);const Z=r(n,["enhancePrompt"]);return e!==void 0&&Z!=null&&u(e,["parameters","enhancePrompt"],Z),l}function QE(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","model"],Oe(n,o));const a=r(e,["prompt"]);a!=null&&u(l,["instances[0]","prompt"],a);const f=r(e,["config"]);return f!=null&&u(l,["config"],jE(f,l)),l}function Pa(n){const e={},l=r(n,["gcsUri"]);l!=null&&u(e,["gcsUri"],l);const o=r(n,["imageBytes"]);o!=null&&u(e,["bytesBase64Encoded"],qn(o));const a=r(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function XE(n){const e={},l=r(n,["maskMode"]);l!=null&&u(e,["maskMode"],l);const o=r(n,["segmentationClasses"]);o!=null&&u(e,["maskClasses"],o);const a=r(n,["maskDilation"]);return a!=null&&u(e,["dilation"],a),e}function WE(n){const e={},l=r(n,["controlType"]);l!=null&&u(e,["controlType"],l);const o=r(n,["enableControlImageComputation"]);return o!=null&&u(e,["computeControl"],o),e}function eA(n){const e={},l=r(n,["styleDescription"]);return l!=null&&u(e,["styleDescription"],l),e}function tA(n){const e={},l=r(n,["subjectType"]);l!=null&&u(e,["subjectType"],l);const o=r(n,["subjectDescription"]);return o!=null&&u(e,["subjectDescription"],o),e}function nA(n){const e={},l=r(n,["referenceImage"]);l!=null&&u(e,["referenceImage"],Pa(l));const o=r(n,["referenceId"]);o!=null&&u(e,["referenceId"],o);const a=r(n,["referenceType"]);a!=null&&u(e,["referenceType"],a);const f=r(n,["maskImageConfig"]);f!=null&&u(e,["maskImageConfig"],XE(f));const m=r(n,["controlImageConfig"]);m!=null&&u(e,["controlImageConfig"],WE(m));const h=r(n,["styleImageConfig"]);h!=null&&u(e,["styleImageConfig"],eA(h));const y=r(n,["subjectImageConfig"]);return y!=null&&u(e,["subjectImageConfig"],tA(y)),e}function iA(n,e){const l={},o=r(n,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);const a=r(n,["negativePrompt"]);e!==void 0&&a!=null&&u(e,["parameters","negativePrompt"],a);const f=r(n,["numberOfImages"]);e!==void 0&&f!=null&&u(e,["parameters","sampleCount"],f);const m=r(n,["aspectRatio"]);e!==void 0&&m!=null&&u(e,["parameters","aspectRatio"],m);const h=r(n,["guidanceScale"]);e!==void 0&&h!=null&&u(e,["parameters","guidanceScale"],h);const y=r(n,["seed"]);e!==void 0&&y!=null&&u(e,["parameters","seed"],y);const p=r(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&u(e,["parameters","safetySetting"],p);const x=r(n,["personGeneration"]);e!==void 0&&x!=null&&u(e,["parameters","personGeneration"],x);const C=r(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&u(e,["parameters","includeSafetyAttributes"],C);const _=r(n,["includeRaiReason"]);e!==void 0&&_!=null&&u(e,["parameters","includeRaiReason"],_);const M=r(n,["language"]);e!==void 0&&M!=null&&u(e,["parameters","language"],M);const D=r(n,["outputMimeType"]);e!==void 0&&D!=null&&u(e,["parameters","outputOptions","mimeType"],D);const q=r(n,["outputCompressionQuality"]);e!==void 0&&q!=null&&u(e,["parameters","outputOptions","compressionQuality"],q);const G=r(n,["editMode"]);e!==void 0&&G!=null&&u(e,["parameters","editMode"],G);const Z=r(n,["baseSteps"]);return e!==void 0&&Z!=null&&u(e,["parameters","editConfig","baseSteps"],Z),l}function lA(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","model"],Oe(n,o));const a=r(e,["prompt"]);a!=null&&u(l,["instances[0]","prompt"],a);const f=r(e,["referenceImages"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>nA(y))),u(l,["instances[0]","referenceImages"],h)}const m=r(e,["config"]);return m!=null&&u(l,["config"],iA(m,l)),l}function oA(n,e){const l={},o=r(n,["includeRaiReason"]);e!==void 0&&o!=null&&u(e,["parameters","includeRaiReason"],o);const a=r(n,["outputMimeType"]);e!==void 0&&a!=null&&u(e,["parameters","outputOptions","mimeType"],a);const f=r(n,["outputCompressionQuality"]);e!==void 0&&f!=null&&u(e,["parameters","outputOptions","compressionQuality"],f);const m=r(n,["enhanceInputImage"]);e!==void 0&&m!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],m);const h=r(n,["imagePreservationFactor"]);e!==void 0&&h!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const y=r(n,["numberOfImages"]);e!==void 0&&y!=null&&u(e,["parameters","sampleCount"],y);const p=r(n,["mode"]);return e!==void 0&&p!=null&&u(e,["parameters","mode"],p),l}function sA(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","model"],Oe(n,o));const a=r(e,["image"]);a!=null&&u(l,["instances[0]","image"],Pa(a));const f=r(e,["upscaleFactor"]);f!=null&&u(l,["parameters","upscaleConfig","upscaleFactor"],f);const m=r(e,["config"]);return m!=null&&u(l,["config"],oA(m,l)),l}function aA(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","name"],Oe(n,o));const a=r(e,["config"]);return a!=null&&u(l,["config"],a),l}function rA(n,e,l){const o={},a=r(e,["pageSize"]);l!==void 0&&a!=null&&u(l,["_query","pageSize"],a);const f=r(e,["pageToken"]);l!==void 0&&f!=null&&u(l,["_query","pageToken"],f);const m=r(e,["filter"]);l!==void 0&&m!=null&&u(l,["_query","filter"],m);const h=r(e,["queryBase"]);return l!==void 0&&h!=null&&u(l,["_url","models_url"],Yg(n,h)),o}function uA(n,e){const l={},o=r(e,["config"]);return o!=null&&u(l,["config"],rA(n,o,l)),l}function cA(n,e){const l={},o=r(n,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);const a=r(n,["description"]);e!==void 0&&a!=null&&u(e,["description"],a);const f=r(n,["defaultCheckpointId"]);return e!==void 0&&f!=null&&u(e,["defaultCheckpointId"],f),l}function fA(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","model"],Oe(n,o));const a=r(e,["config"]);return a!=null&&u(l,["config"],cA(a,l)),l}function dA(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","name"],Oe(n,o));const a=r(e,["config"]);return a!=null&&u(l,["config"],a),l}function mA(n,e){const l={},o=r(n,["systemInstruction"]);e!==void 0&&o!=null&&u(e,["systemInstruction"],Kl(St(o)));const a=r(n,["tools"]);if(e!==void 0&&a!=null){let m=a;Array.isArray(m)&&(m=m.map(h=>ay(h))),u(e,["tools"],m)}const f=r(n,["generationConfig"]);return e!==void 0&&f!=null&&u(e,["generationConfig"],f),l}function hA(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","model"],Oe(n,o));const a=r(e,["contents"]);if(a!=null){let m=tn(a);Array.isArray(m)&&(m=m.map(h=>Kl(h))),u(l,["contents"],m)}const f=r(e,["config"]);return f!=null&&u(l,["config"],mA(f,l)),l}function pA(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","model"],Oe(n,o));const a=r(e,["contents"]);if(a!=null){let m=tn(a);Array.isArray(m)&&(m=m.map(h=>Kl(h))),u(l,["contents"],m)}const f=r(e,["config"]);return f!=null&&u(l,["config"],f),l}function gA(n){const e={},l=r(n,["uri"]);l!=null&&u(e,["gcsUri"],l);const o=r(n,["videoBytes"]);o!=null&&u(e,["bytesBase64Encoded"],qn(o));const a=r(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function yA(n,e){const l={},o=r(n,["numberOfVideos"]);e!==void 0&&o!=null&&u(e,["parameters","sampleCount"],o);const a=r(n,["outputGcsUri"]);e!==void 0&&a!=null&&u(e,["parameters","storageUri"],a);const f=r(n,["fps"]);e!==void 0&&f!=null&&u(e,["parameters","fps"],f);const m=r(n,["durationSeconds"]);e!==void 0&&m!=null&&u(e,["parameters","durationSeconds"],m);const h=r(n,["seed"]);e!==void 0&&h!=null&&u(e,["parameters","seed"],h);const y=r(n,["aspectRatio"]);e!==void 0&&y!=null&&u(e,["parameters","aspectRatio"],y);const p=r(n,["resolution"]);e!==void 0&&p!=null&&u(e,["parameters","resolution"],p);const x=r(n,["personGeneration"]);e!==void 0&&x!=null&&u(e,["parameters","personGeneration"],x);const C=r(n,["pubsubTopic"]);e!==void 0&&C!=null&&u(e,["parameters","pubsubTopic"],C);const _=r(n,["negativePrompt"]);e!==void 0&&_!=null&&u(e,["parameters","negativePrompt"],_);const M=r(n,["enhancePrompt"]);e!==void 0&&M!=null&&u(e,["parameters","enhancePrompt"],M);const D=r(n,["generateAudio"]);e!==void 0&&D!=null&&u(e,["parameters","generateAudio"],D);const q=r(n,["lastFrame"]);e!==void 0&&q!=null&&u(e,["instances[0]","lastFrame"],Pa(q));const G=r(n,["compressionQuality"]);return e!==void 0&&G!=null&&u(e,["parameters","compressionQuality"],G),l}function vA(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["_url","model"],Oe(n,o));const a=r(e,["prompt"]);a!=null&&u(l,["instances[0]","prompt"],a);const f=r(e,["image"]);f!=null&&u(l,["instances[0]","image"],Pa(f));const m=r(e,["video"]);m!=null&&u(l,["instances[0]","video"],gA(m));const h=r(e,["config"]);return h!=null&&u(l,["config"],yA(h,l)),l}function xA(n){const e={},l=r(n,["fps"]);l!=null&&u(e,["fps"],l);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=r(n,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function TA(n){const e={},l=r(n,["data"]);l!=null&&u(e,["data"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function CA(n){const e={},l=r(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function SA(n){const e={},l=r(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],xA(l));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const a=r(n,["inlineData"]);a!=null&&u(e,["inlineData"],TA(a));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],CA(f));const m=r(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=r(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const x=r(n,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const C=r(n,["text"]);return C!=null&&u(e,["text"],C),e}function _A(n){const e={},l=r(n,["parts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(f=>SA(f))),u(e,["parts"],a)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function bA(n){const e={},l=r(n,["citationSources"]);return l!=null&&u(e,["citations"],l),e}function EA(n){const e={},l=r(n,["retrievedUrl"]);l!=null&&u(e,["retrievedUrl"],l);const o=r(n,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function AA(n){const e={},l=r(n,["urlMetadata"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(a=>EA(a))),u(e,["urlMetadata"],o)}return e}function wA(n){const e={},l=r(n,["content"]);l!=null&&u(e,["content"],_A(l));const o=r(n,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],bA(o));const a=r(n,["tokenCount"]);a!=null&&u(e,["tokenCount"],a);const f=r(n,["finishReason"]);f!=null&&u(e,["finishReason"],f);const m=r(n,["urlContextMetadata"]);m!=null&&u(e,["urlContextMetadata"],AA(m));const h=r(n,["avgLogprobs"]);h!=null&&u(e,["avgLogprobs"],h);const y=r(n,["groundingMetadata"]);y!=null&&u(e,["groundingMetadata"],y);const p=r(n,["index"]);p!=null&&u(e,["index"],p);const x=r(n,["logprobsResult"]);x!=null&&u(e,["logprobsResult"],x);const C=r(n,["safetyRatings"]);return C!=null&&u(e,["safetyRatings"],C),e}function vg(n){const e={},l=r(n,["candidates"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(h=>wA(h))),u(e,["candidates"],m)}const o=r(n,["modelVersion"]);o!=null&&u(e,["modelVersion"],o);const a=r(n,["promptFeedback"]);a!=null&&u(e,["promptFeedback"],a);const f=r(n,["usageMetadata"]);return f!=null&&u(e,["usageMetadata"],f),e}function MA(n){const e={},l=r(n,["values"]);return l!=null&&u(e,["values"],l),e}function NA(){return{}}function RA(n){const e={},l=r(n,["embeddings"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(f=>MA(f))),u(e,["embeddings"],a)}return r(n,["metadata"])!=null&&u(e,["metadata"],NA()),e}function DA(n){const e={},l=r(n,["bytesBase64Encoded"]);l!=null&&u(e,["imageBytes"],qn(l));const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function ry(n){const e={},l=r(n,["safetyAttributes","categories"]);l!=null&&u(e,["categories"],l);const o=r(n,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const a=r(n,["contentType"]);return a!=null&&u(e,["contentType"],a),e}function IA(n){const e={},l=r(n,["_self"]);l!=null&&u(e,["image"],DA(l));const o=r(n,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const a=r(n,["_self"]);return a!=null&&u(e,["safetyAttributes"],ry(a)),e}function UA(n){const e={},l=r(n,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(f=>IA(f))),u(e,["generatedImages"],a)}const o=r(n,["positivePromptSafetyAttributes"]);return o!=null&&u(e,["positivePromptSafetyAttributes"],ry(o)),e}function kA(n){const e={},l=r(n,["baseModel"]);l!=null&&u(e,["baseModel"],l);const o=r(n,["createTime"]);o!=null&&u(e,["createTime"],o);const a=r(n,["updateTime"]);return a!=null&&u(e,["updateTime"],a),e}function Nc(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=r(n,["description"]);a!=null&&u(e,["description"],a);const f=r(n,["version"]);f!=null&&u(e,["version"],f);const m=r(n,["_self"]);m!=null&&u(e,["tunedModelInfo"],kA(m));const h=r(n,["inputTokenLimit"]);h!=null&&u(e,["inputTokenLimit"],h);const y=r(n,["outputTokenLimit"]);y!=null&&u(e,["outputTokenLimit"],y);const p=r(n,["supportedGenerationMethods"]);return p!=null&&u(e,["supportedActions"],p),e}function LA(n){const e={},l=r(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=r(n,["_self"]);if(o!=null){let a=Zg(o);Array.isArray(a)&&(a=a.map(f=>Nc(f))),u(e,["models"],a)}return e}function VA(){return{}}function PA(n){const e={},l=r(n,["totalTokens"]);l!=null&&u(e,["totalTokens"],l);const o=r(n,["cachedContentTokenCount"]);return o!=null&&u(e,["cachedContentTokenCount"],o),e}function qA(n){const e={},l=r(n,["video","uri"]);l!=null&&u(e,["uri"],l);const o=r(n,["video","encodedVideo"]);o!=null&&u(e,["videoBytes"],qn(o));const a=r(n,["encoding"]);return a!=null&&u(e,["mimeType"],a),e}function GA(n){const e={},l=r(n,["_self"]);return l!=null&&u(e,["video"],qA(l)),e}function BA(n){const e={},l=r(n,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>GA(m))),u(e,["generatedVideos"],f)}const o=r(n,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const a=r(n,["raiMediaFilteredReasons"]);return a!=null&&u(e,["raiMediaFilteredReasons"],a),e}function OA(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["metadata"]);o!=null&&u(e,["metadata"],o);const a=r(n,["done"]);a!=null&&u(e,["done"],a);const f=r(n,["error"]);f!=null&&u(e,["error"],f);const m=r(n,["response","generateVideoResponse"]);return m!=null&&u(e,["response"],BA(m)),e}function zA(n){const e={},l=r(n,["fps"]);l!=null&&u(e,["fps"],l);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=r(n,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function HA(n){const e={},l=r(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=r(n,["data"]);o!=null&&u(e,["data"],o);const a=r(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function FA(n){const e={},l=r(n,["displayName"]);l!=null&&u(e,["displayName"],l);const o=r(n,["fileUri"]);o!=null&&u(e,["fileUri"],o);const a=r(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function JA(n){const e={},l=r(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],zA(l));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const a=r(n,["inlineData"]);a!=null&&u(e,["inlineData"],HA(a));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],FA(f));const m=r(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=r(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const x=r(n,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const C=r(n,["text"]);return C!=null&&u(e,["text"],C),e}function YA(n){const e={},l=r(n,["parts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(f=>JA(f))),u(e,["parts"],a)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function ZA(n){const e={},l=r(n,["citations"]);return l!=null&&u(e,["citations"],l),e}function $A(n){const e={},l=r(n,["retrievedUrl"]);l!=null&&u(e,["retrievedUrl"],l);const o=r(n,["urlRetrievalStatus"]);return o!=null&&u(e,["urlRetrievalStatus"],o),e}function KA(n){const e={},l=r(n,["urlMetadata"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(a=>$A(a))),u(e,["urlMetadata"],o)}return e}function jA(n){const e={},l=r(n,["content"]);l!=null&&u(e,["content"],YA(l));const o=r(n,["citationMetadata"]);o!=null&&u(e,["citationMetadata"],ZA(o));const a=r(n,["finishMessage"]);a!=null&&u(e,["finishMessage"],a);const f=r(n,["finishReason"]);f!=null&&u(e,["finishReason"],f);const m=r(n,["urlContextMetadata"]);m!=null&&u(e,["urlContextMetadata"],KA(m));const h=r(n,["avgLogprobs"]);h!=null&&u(e,["avgLogprobs"],h);const y=r(n,["groundingMetadata"]);y!=null&&u(e,["groundingMetadata"],y);const p=r(n,["index"]);p!=null&&u(e,["index"],p);const x=r(n,["logprobsResult"]);x!=null&&u(e,["logprobsResult"],x);const C=r(n,["safetyRatings"]);return C!=null&&u(e,["safetyRatings"],C),e}function xg(n){const e={},l=r(n,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>jA(p))),u(e,["candidates"],y)}const o=r(n,["createTime"]);o!=null&&u(e,["createTime"],o);const a=r(n,["responseId"]);a!=null&&u(e,["responseId"],a);const f=r(n,["modelVersion"]);f!=null&&u(e,["modelVersion"],f);const m=r(n,["promptFeedback"]);m!=null&&u(e,["promptFeedback"],m);const h=r(n,["usageMetadata"]);return h!=null&&u(e,["usageMetadata"],h),e}function QA(n){const e={},l=r(n,["truncated"]);l!=null&&u(e,["truncated"],l);const o=r(n,["token_count"]);return o!=null&&u(e,["tokenCount"],o),e}function XA(n){const e={},l=r(n,["values"]);l!=null&&u(e,["values"],l);const o=r(n,["statistics"]);return o!=null&&u(e,["statistics"],QA(o)),e}function WA(n){const e={},l=r(n,["billableCharacterCount"]);return l!=null&&u(e,["billableCharacterCount"],l),e}function ew(n){const e={},l=r(n,["predictions[]","embeddings"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(f=>XA(f))),u(e,["embeddings"],a)}const o=r(n,["metadata"]);return o!=null&&u(e,["metadata"],WA(o)),e}function tw(n){const e={},l=r(n,["gcsUri"]);l!=null&&u(e,["gcsUri"],l);const o=r(n,["bytesBase64Encoded"]);o!=null&&u(e,["imageBytes"],qn(o));const a=r(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function uy(n){const e={},l=r(n,["safetyAttributes","categories"]);l!=null&&u(e,["categories"],l);const o=r(n,["safetyAttributes","scores"]);o!=null&&u(e,["scores"],o);const a=r(n,["contentType"]);return a!=null&&u(e,["contentType"],a),e}function Gc(n){const e={},l=r(n,["_self"]);l!=null&&u(e,["image"],tw(l));const o=r(n,["raiFilteredReason"]);o!=null&&u(e,["raiFilteredReason"],o);const a=r(n,["_self"]);a!=null&&u(e,["safetyAttributes"],uy(a));const f=r(n,["prompt"]);return f!=null&&u(e,["enhancedPrompt"],f),e}function nw(n){const e={},l=r(n,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(f=>Gc(f))),u(e,["generatedImages"],a)}const o=r(n,["positivePromptSafetyAttributes"]);return o!=null&&u(e,["positivePromptSafetyAttributes"],uy(o)),e}function iw(n){const e={},l=r(n,["predictions"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(a=>Gc(a))),u(e,["generatedImages"],o)}return e}function lw(n){const e={},l=r(n,["predictions"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(a=>Gc(a))),u(e,["generatedImages"],o)}return e}function ow(n){const e={},l=r(n,["endpoint"]);l!=null&&u(e,["name"],l);const o=r(n,["deployedModelId"]);return o!=null&&u(e,["deployedModelId"],o),e}function sw(n){const e={},l=r(n,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&u(e,["baseModel"],l);const o=r(n,["createTime"]);o!=null&&u(e,["createTime"],o);const a=r(n,["updateTime"]);return a!=null&&u(e,["updateTime"],a),e}function aw(n){const e={},l=r(n,["checkpointId"]);l!=null&&u(e,["checkpointId"],l);const o=r(n,["epoch"]);o!=null&&u(e,["epoch"],o);const a=r(n,["step"]);return a!=null&&u(e,["step"],a),e}function Rc(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["displayName"]);o!=null&&u(e,["displayName"],o);const a=r(n,["description"]);a!=null&&u(e,["description"],a);const f=r(n,["versionId"]);f!=null&&u(e,["version"],f);const m=r(n,["deployedModels"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(_=>ow(_))),u(e,["endpoints"],C)}const h=r(n,["labels"]);h!=null&&u(e,["labels"],h);const y=r(n,["_self"]);y!=null&&u(e,["tunedModelInfo"],sw(y));const p=r(n,["defaultCheckpointId"]);p!=null&&u(e,["defaultCheckpointId"],p);const x=r(n,["checkpoints"]);if(x!=null){let C=x;Array.isArray(C)&&(C=C.map(_=>aw(_))),u(e,["checkpoints"],C)}return e}function rw(n){const e={},l=r(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=r(n,["_self"]);if(o!=null){let a=Zg(o);Array.isArray(a)&&(a=a.map(f=>Rc(f))),u(e,["models"],a)}return e}function uw(){return{}}function cw(n){const e={},l=r(n,["totalTokens"]);return l!=null&&u(e,["totalTokens"],l),e}function fw(n){const e={},l=r(n,["tokensInfo"]);return l!=null&&u(e,["tokensInfo"],l),e}function dw(n){const e={},l=r(n,["gcsUri"]);l!=null&&u(e,["uri"],l);const o=r(n,["bytesBase64Encoded"]);o!=null&&u(e,["videoBytes"],qn(o));const a=r(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function mw(n){const e={},l=r(n,["_self"]);return l!=null&&u(e,["video"],dw(l)),e}function hw(n){const e={},l=r(n,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>mw(m))),u(e,["generatedVideos"],f)}const o=r(n,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const a=r(n,["raiMediaFilteredReasons"]);return a!=null&&u(e,["raiMediaFilteredReasons"],a),e}function pw(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["metadata"]);o!=null&&u(e,["metadata"],o);const a=r(n,["done"]);a!=null&&u(e,["done"],a);const f=r(n,["error"]);f!=null&&u(e,["error"],f);const m=r(n,["response"]);return m!=null&&u(e,["response"],hw(m)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gw="Content-Type",yw="X-Server-Timeout",vw="User-Agent",Dc="x-goog-api-client",xw="1.8.0",Tw=`google-genai-sdk/${xw}`,Cw="v1beta1",Sw="v1beta",Tg=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class _w{constructor(e){var l,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:Cw,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:Sw,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),l=new URL(e);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,l,o){const a=[this.getRequestUrlInternal(l)];return o&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let l=this.clientOptions.httpOptions;e.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,l,o);if(e.queryParams)for(const[m,h]of Object.entries(e.queryParams))a.searchParams.append(m,String(h));let f={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=e.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,l,e.abortSignal),this.unaryApiCall(a,f,e.httpMethod)}patchHttpOptions(e,l){const o=JSON.parse(JSON.stringify(e));for(const[a,f]of Object.entries(l))typeof f=="object"?o[a]=Object.assign(Object.assign({},o[a]),f):f!==void 0&&(o[a]=f);return o}async requestStream(e){let l=this.clientOptions.httpOptions;e.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,l,o);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let f={};return f.body=e.body,f=await this.includeExtraHttpOptionsToRequestInit(f,l,e.abortSignal),this.streamApiCall(a,f,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,l,o){if(l&&l.timeout||o){const a=new AbortController,f=a.signal;l.timeout&&(l==null?void 0:l.timeout)>0&&setTimeout(()=>a.abort(),l.timeout),o&&o.addEventListener("abort",()=>{a.abort()}),e.signal=f}return l&&l.extraBody!==null&&bw(e,l.extraBody),e.headers=await this.getHeadersInternal(l),e}async unaryApiCall(e,l,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},l),{method:o})).then(async a=>(await Cg(a),new _c(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,l,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},l),{method:o})).then(async a=>(await Cg(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){var l;return Pl(this,arguments,function*(){const a=(l=e==null?void 0:e.body)===null||l===void 0?void 0:l.getReader(),f=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let m="";for(;;){const{done:h,value:y}=yield $e(a.read());if(h){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=f.decode(y);try{const C=JSON.parse(p);if("error"in C){const _=JSON.parse(JSON.stringify(C.error)),M=_.status,D=_.code,q=`got status: ${M}. ${JSON.stringify(C)}`;if(D>=400&&D<600)throw new La({message:q,status:D})}}catch(C){if(C.name==="ApiError")throw C}m+=p;let x=m.match(Tg);for(;x;){const C=x[1];try{const _=new Response(C,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield $e(new _c(_)),m=m.slice(x[0].length),x=m.match(Tg)}catch(_){throw new Error(`exception parsing stream chunk ${C}. ${_}`)}}}}finally{a.releaseLock()}})}async apiCall(e,l){return fetch(e,l).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},l=Tw+" "+this.clientOptions.userAgentExtra;return e[vw]=l,e[Dc]=l,e[gw]="application/json",e}async getHeadersInternal(e){const l=new Headers;if(e&&e.headers){for(const[o,a]of Object.entries(e.headers))l.append(o,a);e.timeout&&e.timeout>0&&l.append(yw,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l),l}async uploadFile(e,l){var o;const a={};l!=null&&(a.mimeType=l.mimeType,a.name=l.name,a.displayName=l.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const f=this.clientOptions.uploader,m=await f.stat(e);a.sizeBytes=String(m.size);const h=(o=l==null?void 0:l.mimeType)!==null&&o!==void 0?o:m.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=h;const y=await this.fetchUploadUrl(a,l);return f.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,l){var o;let a={};l!=null&&l.httpOptions?a=l.httpOptions:a={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const f={file:e},m=await this.request({path:he("upload/v1beta/files",f._url),body:JSON.stringify(f),httpMethod:"POST",httpOptions:a});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(o=m==null?void 0:m.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function Cg(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const l=n.status;let o;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await n.json():o={error:{message:await n.text(),code:n.status,status:n.statusText}};const a=JSON.stringify(o);throw l>=400&&l<600?new La({message:a,status:l}):new Error(a)}}function bw(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof n.body=="string"&&n.body.length>0)try{const f=JSON.parse(n.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))l=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(f,m){const h=Object.assign({},f);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const p=m[y],x=h[y];p&&typeof p=="object"&&!Array.isArray(p)&&x&&typeof x=="object"&&!Array.isArray(x)?h[y]=o(x,p):(x&&p&&typeof x!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof x}, New type: ${typeof p}. Overwriting.`),h[y]=p)}return h}const a=o(l,e);n.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ew="mcp_used/unknown";function cy(n){for(const e of n)if(Bc(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function fy(n){var e;const l=(e=n[Dc])!==null&&e!==void 0?e:"";n[Dc]=(l+` ${Ew}`).trimStart()}function Aw(n){var e,l,o;return(o=(l=(e=n.config)===null||e===void 0?void 0:e.tools)===null||l===void 0?void 0:l.some(a=>Bc(a)))!==null&&o!==void 0?o:!1}function ww(n){var e,l,o;return(o=(l=(e=n.config)===null||e===void 0?void 0:e.tools)===null||l===void 0?void 0:l.some(a=>!Bc(a)))!==null&&o!==void 0?o:!1}function Bc(n){return n!==null&&typeof n=="object"&&n instanceof Oc}function Mw(n,e=100){return Pl(this,arguments,function*(){let o,a=0;for(;a<e;){const f=yield $e(n.listTools({cursor:o}));for(const m of f.tools)yield yield $e(m),a++;if(!f.nextCursor)break;o=f.nextCursor}})}class Oc{constructor(e=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=l}static create(e,l){return new Oc(e,l)}async initialize(){var e,l,o,a;if(this.mcpTools.length>0)return;const f={},m=[];for(const x of this.mcpClients)try{for(var h=!0,y=(l=void 0,Wo(Mw(x))),p;p=await y.next(),e=p.done,!e;h=!0){a=p.value,h=!1;const C=a;m.push(C);const _=C.name;if(f[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);f[_]=x}}catch(C){l={error:C}}finally{try{!h&&!e&&(o=y.return)&&await o.call(y)}finally{if(l)throw l.error}}this.mcpTools=m,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),CT(this.mcpTools,this.config)}async callTool(e){await this.initialize();const l=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[o.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const m=await a.callTool({name:o.name,arguments:o.args},void 0,f);l.push({functionResponse:{name:o.name,response:m.isError?{error:m}:m}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Nw(n,e,l){const o=new cT;let a;l.data instanceof Blob?a=JSON.parse(await l.data.text()):a=JSON.parse(l.data);const f=Pb(a);Object.assign(o,f),e(o)}class Rw{constructor(e,l,o){this.apiClient=e,this.auth=l,this.webSocketFactory=o}async connect(e){var l,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),m=Uw(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),y=`${a}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${h}`;let p=()=>{};const x=new Promise($=>{p=$}),C=e.callbacks,_=function(){p({})},M=this.apiClient,D={onopen:_,onmessage:$=>{Nw(M,C.onmessage,$)},onerror:(l=C==null?void 0:C.onerror)!==null&&l!==void 0?l:function($){},onclose:(o=C==null?void 0:C.onclose)!==null&&o!==void 0?o:function($){}},q=this.webSocketFactory.create(y,Iw(m),D);q.connect(),await x;const G=Oe(this.apiClient,e.model),Z=ly({model:G}),H=Mc({setup:Z});return q.send(JSON.stringify(H)),new Dw(q,this.apiClient)}}class Dw{constructor(e,l){this.conn=e,this.apiClient=l}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=Q_(e),o=oy(l);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const l=X_(e),o=Mc(l);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const l=Mc({playbackControl:e});this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(Ll.PLAY)}pause(){this.sendPlaybackControl(Ll.PAUSE)}stop(){this.sendPlaybackControl(Ll.STOP)}resetContext(){this.sendPlaybackControl(Ll.RESET_CONTEXT)}close(){this.conn.close()}}function Iw(n){const e={};return n.forEach((l,o)=>{e[o]=l}),e}function Uw(n){const e=new Headers;for(const[l,o]of Object.entries(n))e.append(l,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kw="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Lw(n,e,l){const o=new uT;let a;l.data instanceof Blob?a=await l.data.text():l.data instanceof ArrayBuffer?a=new TextDecoder().decode(l.data):a=l.data;const f=JSON.parse(a);if(n.isVertexAI()){const m=Mb(f);Object.assign(o,m)}else{const m=wb(f);Object.assign(o,m)}e(o)}class Vw{constructor(e,l,o){this.apiClient=e,this.auth=l,this.webSocketFactory=o,this.music=new Rw(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var l,o,a,f,m,h;const y=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let x;const C=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&cy(e.config.tools)&&fy(C);const _=Bw(C);if(this.apiClient.isVertexAI())x=`${y}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_);else{const j=this.apiClient.getApiKey();let ie="BidiGenerateContent",le="key";j!=null&&j.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),ie="BidiGenerateContentConstrained",le="access_token"),x=`${y}/ws/google.ai.generativelanguage.${p}.GenerativeService.${ie}?${le}=${j}`}let M=()=>{};const D=new Promise(j=>{M=j}),q=e.callbacks,G=function(){var j;(j=q==null?void 0:q.onopen)===null||j===void 0||j.call(q),M({})},Z=this.apiClient,H={onopen:G,onmessage:j=>{Lw(Z,q.onmessage,j)},onerror:(l=q==null?void 0:q.onerror)!==null&&l!==void 0?l:function(j){},onclose:(o=q==null?void 0:q.onclose)!==null&&o!==void 0?o:function(j){}},$=this.webSocketFactory.create(x,Gw(_),H);$.connect(),await D;let X=Oe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&X.startsWith("publishers/")){const j=this.apiClient.getProject(),ie=this.apiClient.getLocation();X=`projects/${j}/locations/${ie}/`+X}let J={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Da.AUDIO]}:e.config.responseModalities=[Da.AUDIO]),!((f=e.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ae=(h=(m=e.config)===null||m===void 0?void 0:m.tools)!==null&&h!==void 0?h:[],ne=[];for(const j of ae)if(this.isCallableTool(j)){const ie=j;ne.push(await ie.tool())}else ne.push(j);ne.length>0&&(e.config.tools=ne);const O={model:X,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?J=F_(this.apiClient,O):J=H_(this.apiClient,O),delete J.config,$.send(JSON.stringify(J)),new qw($,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Pw={turnComplete:!0};class qw{constructor(e,l){this.conn=e,this.apiClient=l}tLiveClientContent(e,l){if(l.turns!==null&&l.turns!==void 0){let o=[];try{o=tn(l.turns),e.isVertexAI()?o=o.map(a=>Kl(a)):o=o.map(a=>Va(a))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:o,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(e,l){let o=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?o=l.functionResponses:o=[l.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const f of o){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!e.isVertexAI()&&!("id"in f))throw new Error(kw)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},Pw),e);const l=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(l))}sendRealtimeInput(e){let l={};this.apiClient.isVertexAI()?l={realtimeInput:j_(e)}:l={realtimeInput:K_(e)},this.conn.send(JSON.stringify(l))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function Gw(n){const e={};return n.forEach((l,o)=>{e[o]=l}),e}function Bw(n){const e=new Headers;for(const[l,o]of Object.entries(n))e.append(l,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sg=10;function _g(n){var e,l,o;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const m of(l=n==null?void 0:n.tools)!==null&&l!==void 0?l:[])if(ba(m)){a=!0;break}if(!a)return!0;const f=(o=n==null?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function ba(n){return"callTool"in n&&typeof n.callTool=="function"}function bg(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ow extends Ji{constructor(e){super(),this.apiClient=e,this.generateContent=async l=>{var o,a,f,m,h;const y=await this.processParamsForMcpUsage(l);if(!Aw(l)||_g(l.config))return await this.generateContentInternal(y);if(ww(l))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,x;const C=tn(y.contents),_=(f=(a=(o=y.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&f!==void 0?f:Sg;let M=0;for(;M<_&&(p=await this.generateContentInternal(y),!(!p.functionCalls||p.functionCalls.length===0));){const D=p.candidates[0].content,q=[];for(const G of(h=(m=l.config)===null||m===void 0?void 0:m.tools)!==null&&h!==void 0?h:[])if(ba(G)){const H=await G.callTool(p.functionCalls);q.push(...H)}M++,x={role:"user",parts:q},y.contents=tn(y.contents),y.contents.push(D),y.contents.push(x),bg(y.config)&&(C.push(D),C.push(x))}return bg(y.config)&&(p.automaticFunctionCallingHistory=C),p},this.generateContentStream=async l=>{if(_g(l.config)){const o=await this.processParamsForMcpUsage(l);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(o=>{var a;let f;const m=[];if(o!=null&&o.generatedImages)for(const y of o.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((a=y==null?void 0:y.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:m.push(y);let h;return f?h={generatedImages:m,positivePromptSafetyAttributes:f}:h={generatedImages:m},h}),this.list=async l=>{var o;const m={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((o=m.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new ls(Fi.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(m),m)},this.editImage=async l=>{const o={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(o.referenceImages=l.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async l=>{let o={numberOfImages:1,mode:"upscale"};l.config&&(o=Object.assign(Object.assign({},o),l.config));const a={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:o};return await this.upscaleImageInternal(a)}}async processParamsForMcpUsage(e){var l,o,a;const f=(l=e.config)===null||l===void 0?void 0:l.tools;if(!f)return e;const m=await Promise.all(f.map(async y=>ba(y)?await y.tool():y)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:m})};if(h.config.tools=m,e.config&&e.config.tools&&cy(e.config.tools)){const y=(a=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{};let p=Object.assign({},y);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),fy(p),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return h}async initAfcToolsMap(e){var l,o,a;const f=new Map;for(const m of(o=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&o!==void 0?o:[])if(ba(m)){const h=m,y=await h.tool();for(const p of(a=y.functionDeclarations)!==null&&a!==void 0?a:[]){if(!p.name)throw new Error("Function declaration name is required.");if(f.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);f.set(p.name,h)}}return f}async processAfcStream(e){var l,o,a;const f=(a=(o=(l=e.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&a!==void 0?a:Sg;let m=!1,h=0;const y=await this.initAfcToolsMap(e);return function(p,x,C){var _,M;return Pl(this,arguments,function*(){for(var D,q,G,Z;h<f;){m&&(h++,m=!1);const J=yield $e(p.processParamsForMcpUsage(C)),ae=yield $e(p.generateContentStreamInternal(J)),ne=[],O=[];try{for(var H=!0,$=(q=void 0,Wo(ae)),X;X=yield $e($.next()),D=X.done,!D;H=!0){Z=X.value,H=!1;const j=Z;if(yield yield $e(j),j.candidates&&(!((_=j.candidates[0])===null||_===void 0)&&_.content)){O.push(j.candidates[0].content);for(const ie of(M=j.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(h<f&&ie.functionCall){if(!ie.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(ie.functionCall.name)){const le=yield $e(x.get(ie.functionCall.name).callTool([ie.functionCall]));ne.push(...le)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${ie.functionCall.name}`)}}}}catch(j){q={error:j}}finally{try{!H&&!D&&(G=$.return)&&(yield $e(G.call($)))}finally{if(q)throw q.error}}if(ne.length>0){m=!0;const j=new jo;j.candidates=[{content:{role:"user",parts:ne}}],yield yield $e(j);const ie=[];ie.push(...O),ie.push({role:"user",parts:ne});const le=tn(C.contents).concat(ie);C.contents=le}else break}})}(this,y,e)}async generateContentInternal(e){var l,o,a,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=yg(this.apiClient,e);return h=he("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>{const C=xg(x),_=new jo;return Object.assign(_,C),_})}else{const p=gg(this.apiClient,e);return h=he("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>{const C=vg(x),_=new jo;return Object.assign(_,C),_})}}async generateContentStreamInternal(e){var l,o,a,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=yg(this.apiClient,e);return h=he("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),m.then(function(C){return Pl(this,arguments,function*(){var _,M,D,q;try{for(var G=!0,Z=Wo(C),H;H=yield $e(Z.next()),_=H.done,!_;G=!0){q=H.value,G=!1;const X=xg(yield $e(q.json())),J=new jo;Object.assign(J,X),yield yield $e(J)}}catch($){M={error:$}}finally{try{!G&&!_&&(D=Z.return)&&(yield $e(D.call(Z)))}finally{if(M)throw M.error}}})})}else{const p=gg(this.apiClient,e);return h=he("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}),m.then(function(C){return Pl(this,arguments,function*(){var _,M,D,q;try{for(var G=!0,Z=Wo(C),H;H=yield $e(Z.next()),_=H.done,!_;G=!0){q=H.value,G=!1;const X=vg(yield $e(q.json())),J=new jo;Object.assign(J,X),yield yield $e(J)}}catch($){M={error:$}}finally{try{!G&&!_&&(D=Z.return)&&(yield $e(D.call(Z)))}finally{if(M)throw M.error}}})})}}async embedContent(e){var l,o,a,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=KE(this.apiClient,e);return h=he("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>{const C=ew(x),_=new Kp;return Object.assign(_,C),_})}else{const p=rE(this.apiClient,e);return h=he("{model}:batchEmbedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>{const C=RA(x),_=new Kp;return Object.assign(_,C),_})}}async generateImagesInternal(e){var l,o,a,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=QE(this.apiClient,e);return h=he("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>{const C=nw(x),_=new jp;return Object.assign(_,C),_})}else{const p=cE(this.apiClient,e);return h=he("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>{const C=UA(x),_=new jp;return Object.assign(_,C),_})}}async editImageInternal(e){var l,o;let a,f="",m={};if(this.apiClient.isVertexAI()){const h=lA(this.apiClient,e);return f=he("{model}:predict",h._url),m=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(y=>{const p=iw(y),x=new iT;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var l,o;let a,f="",m={};if(this.apiClient.isVertexAI()){const h=sA(this.apiClient,e);return f=he("{model}:predict",h._url),m=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(y=>{const p=lw(y),x=new lT;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var l,o,a,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=aA(this.apiClient,e);return h=he("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>Rc(x))}else{const p=fE(this.apiClient,e);return h=he("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>Nc(x))}}async listInternal(e){var l,o,a,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=uA(this.apiClient,e);return h=he("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>{const C=rw(x),_=new Qp;return Object.assign(_,C),_})}else{const p=mE(this.apiClient,e);return h=he("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>{const C=LA(x),_=new Qp;return Object.assign(_,C),_})}}async update(e){var l,o,a,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=fA(this.apiClient,e);return h=he("{model}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>Rc(x))}else{const p=pE(this.apiClient,e);return h=he("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>Nc(x))}}async delete(e){var l,o,a,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=dA(this.apiClient,e);return h=he("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(()=>{const x=uw(),C=new Xp;return Object.assign(C,x),C})}else{const p=gE(this.apiClient,e);return h=he("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(()=>{const x=VA(),C=new Xp;return Object.assign(C,x),C})}}async countTokens(e){var l,o,a,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=hA(this.apiClient,e);return h=he("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>{const C=cw(x),_=new Wp;return Object.assign(_,C),_})}else{const p=vE(this.apiClient,e);return h=he("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>{const C=PA(x),_=new Wp;return Object.assign(_,C),_})}}async computeTokens(e){var l,o;let a,f="",m={};if(this.apiClient.isVertexAI()){const h=pA(this.apiClient,e);return f=he("{model}:computeTokens",h._url),m=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(y=>{const p=fw(y),x=new oT;return Object.assign(x,p),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var l,o,a,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=vA(this.apiClient,e);return h=he("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>pw(x))}else{const p=CE(this.apiClient,e);return h=he("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>OA(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zw(n){const e={},l=r(n,["operationName"]);l!=null&&u(e,["_url","operationName"],l);const o=r(n,["config"]);return o!=null&&u(e,["config"],o),e}function Hw(n){const e={},l=r(n,["operationName"]);l!=null&&u(e,["_url","operationName"],l);const o=r(n,["config"]);return o!=null&&u(e,["config"],o),e}function Fw(n){const e={},l=r(n,["operationName"]);l!=null&&u(e,["operationName"],l);const o=r(n,["resourceName"]);o!=null&&u(e,["_url","resourceName"],o);const a=r(n,["config"]);return a!=null&&u(e,["config"],a),e}function Jw(n){const e={},l=r(n,["video","uri"]);l!=null&&u(e,["uri"],l);const o=r(n,["video","encodedVideo"]);o!=null&&u(e,["videoBytes"],qn(o));const a=r(n,["encoding"]);return a!=null&&u(e,["mimeType"],a),e}function Yw(n){const e={},l=r(n,["_self"]);return l!=null&&u(e,["video"],Jw(l)),e}function Zw(n){const e={},l=r(n,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>Yw(m))),u(e,["generatedVideos"],f)}const o=r(n,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const a=r(n,["raiMediaFilteredReasons"]);return a!=null&&u(e,["raiMediaFilteredReasons"],a),e}function $w(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["metadata"]);o!=null&&u(e,["metadata"],o);const a=r(n,["done"]);a!=null&&u(e,["done"],a);const f=r(n,["error"]);f!=null&&u(e,["error"],f);const m=r(n,["response","generateVideoResponse"]);return m!=null&&u(e,["response"],Zw(m)),e}function Kw(n){const e={},l=r(n,["gcsUri"]);l!=null&&u(e,["uri"],l);const o=r(n,["bytesBase64Encoded"]);o!=null&&u(e,["videoBytes"],qn(o));const a=r(n,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function jw(n){const e={},l=r(n,["_self"]);return l!=null&&u(e,["video"],Kw(l)),e}function Qw(n){const e={},l=r(n,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>jw(m))),u(e,["generatedVideos"],f)}const o=r(n,["raiMediaFilteredCount"]);o!=null&&u(e,["raiMediaFilteredCount"],o);const a=r(n,["raiMediaFilteredReasons"]);return a!=null&&u(e,["raiMediaFilteredReasons"],a),e}function Eg(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["metadata"]);o!=null&&u(e,["metadata"],o);const a=r(n,["done"]);a!=null&&u(e,["done"],a);const f=r(n,["error"]);f!=null&&u(e,["error"],f);const m=r(n,["response"]);return m!=null&&u(e,["response"],Qw(m)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xw extends Ji{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const l=e.operation,o=e.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=l.name.split("/operations/")[0];let f;return o&&"httpOptions"in o&&(f=o.httpOptions),this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:a,config:{httpOptions:f}})}else return this.getVideosOperationInternal({operationName:l.name,config:o})}async getVideosOperationInternal(e){var l,o,a,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=Hw(e);return h=he("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>Eg(x))}else{const p=zw(e);return h=he("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>$w(x))}}async fetchPredictVideosOperationInternal(e){var l,o;let a,f="",m={};if(this.apiClient.isVertexAI()){const h=Fw(e);return f=he("{resourceName}:fetchPredictOperation",h._url),m=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(y=>Eg(y))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ww(n){const e={},l=r(n,["voiceName"]);return l!=null&&u(e,["voiceName"],l),e}function dy(n){const e={},l=r(n,["prebuiltVoiceConfig"]);return l!=null&&u(e,["prebuiltVoiceConfig"],Ww(l)),e}function eM(n){const e={},l=r(n,["speaker"]);l!=null&&u(e,["speaker"],l);const o=r(n,["voiceConfig"]);return o!=null&&u(e,["voiceConfig"],dy(o)),e}function tM(n){const e={},l=r(n,["speakerVoiceConfigs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(a=>eM(a))),u(e,["speakerVoiceConfigs"],o)}return e}function nM(n){const e={},l=r(n,["voiceConfig"]);l!=null&&u(e,["voiceConfig"],dy(l));const o=r(n,["multiSpeakerVoiceConfig"]);o!=null&&u(e,["multiSpeakerVoiceConfig"],tM(o));const a=r(n,["languageCode"]);return a!=null&&u(e,["languageCode"],a),e}function iM(n){const e={},l=r(n,["fps"]);l!=null&&u(e,["fps"],l);const o=r(n,["endOffset"]);o!=null&&u(e,["endOffset"],o);const a=r(n,["startOffset"]);return a!=null&&u(e,["startOffset"],a),e}function lM(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(n,["data"]);l!=null&&u(e,["data"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function oM(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=r(n,["fileUri"]);l!=null&&u(e,["fileUri"],l);const o=r(n,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function sM(n){const e={},l=r(n,["videoMetadata"]);l!=null&&u(e,["videoMetadata"],iM(l));const o=r(n,["thought"]);o!=null&&u(e,["thought"],o);const a=r(n,["inlineData"]);a!=null&&u(e,["inlineData"],lM(a));const f=r(n,["fileData"]);f!=null&&u(e,["fileData"],oM(f));const m=r(n,["thoughtSignature"]);m!=null&&u(e,["thoughtSignature"],m);const h=r(n,["codeExecutionResult"]);h!=null&&u(e,["codeExecutionResult"],h);const y=r(n,["executableCode"]);y!=null&&u(e,["executableCode"],y);const p=r(n,["functionCall"]);p!=null&&u(e,["functionCall"],p);const x=r(n,["functionResponse"]);x!=null&&u(e,["functionResponse"],x);const C=r(n,["text"]);return C!=null&&u(e,["text"],C),e}function aM(n){const e={},l=r(n,["parts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(f=>sM(f))),u(e,["parts"],a)}const o=r(n,["role"]);return o!=null&&u(e,["role"],o),e}function rM(n){const e={},l=r(n,["behavior"]);l!=null&&u(e,["behavior"],l);const o=r(n,["description"]);o!=null&&u(e,["description"],o);const a=r(n,["name"]);a!=null&&u(e,["name"],a);const f=r(n,["parameters"]);f!=null&&u(e,["parameters"],f);const m=r(n,["parametersJsonSchema"]);m!=null&&u(e,["parametersJsonSchema"],m);const h=r(n,["response"]);h!=null&&u(e,["response"],h);const y=r(n,["responseJsonSchema"]);return y!=null&&u(e,["responseJsonSchema"],y),e}function uM(n){const e={},l=r(n,["startTime"]);l!=null&&u(e,["startTime"],l);const o=r(n,["endTime"]);return o!=null&&u(e,["endTime"],o),e}function cM(n){const e={},l=r(n,["timeRangeFilter"]);return l!=null&&u(e,["timeRangeFilter"],uM(l)),e}function fM(n){const e={},l=r(n,["mode"]);l!=null&&u(e,["mode"],l);const o=r(n,["dynamicThreshold"]);return o!=null&&u(e,["dynamicThreshold"],o),e}function dM(n){const e={},l=r(n,["dynamicRetrievalConfig"]);return l!=null&&u(e,["dynamicRetrievalConfig"],fM(l)),e}function mM(){return{}}function hM(n){const e={},l=r(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>rM(p))),u(e,["functionDeclarations"],y)}if(r(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=r(n,["googleSearch"]);o!=null&&u(e,["googleSearch"],cM(o));const a=r(n,["googleSearchRetrieval"]);if(a!=null&&u(e,["googleSearchRetrieval"],dM(a)),r(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(n,["urlContext"])!=null&&u(e,["urlContext"],mM());const m=r(n,["codeExecution"]);m!=null&&u(e,["codeExecution"],m);const h=r(n,["computerUse"]);return h!=null&&u(e,["computerUse"],h),e}function pM(n){const e={},l=r(n,["handle"]);if(l!=null&&u(e,["handle"],l),r(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Ag(){return{}}function gM(n){const e={},l=r(n,["disabled"]);l!=null&&u(e,["disabled"],l);const o=r(n,["startOfSpeechSensitivity"]);o!=null&&u(e,["startOfSpeechSensitivity"],o);const a=r(n,["endOfSpeechSensitivity"]);a!=null&&u(e,["endOfSpeechSensitivity"],a);const f=r(n,["prefixPaddingMs"]);f!=null&&u(e,["prefixPaddingMs"],f);const m=r(n,["silenceDurationMs"]);return m!=null&&u(e,["silenceDurationMs"],m),e}function yM(n){const e={},l=r(n,["automaticActivityDetection"]);l!=null&&u(e,["automaticActivityDetection"],gM(l));const o=r(n,["activityHandling"]);o!=null&&u(e,["activityHandling"],o);const a=r(n,["turnCoverage"]);return a!=null&&u(e,["turnCoverage"],a),e}function vM(n){const e={},l=r(n,["targetTokens"]);return l!=null&&u(e,["targetTokens"],l),e}function xM(n){const e={},l=r(n,["triggerTokens"]);l!=null&&u(e,["triggerTokens"],l);const o=r(n,["slidingWindow"]);return o!=null&&u(e,["slidingWindow"],vM(o)),e}function TM(n){const e={},l=r(n,["proactiveAudio"]);return l!=null&&u(e,["proactiveAudio"],l),e}function CM(n,e){const l={},o=r(n,["generationConfig"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig"],o);const a=r(n,["responseModalities"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","responseModalities"],a);const f=r(n,["temperature"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","temperature"],f);const m=r(n,["topP"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","topP"],m);const h=r(n,["topK"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","topK"],h);const y=r(n,["maxOutputTokens"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","maxOutputTokens"],y);const p=r(n,["mediaResolution"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","mediaResolution"],p);const x=r(n,["seed"]);e!==void 0&&x!=null&&u(e,["setup","generationConfig","seed"],x);const C=r(n,["speechConfig"]);e!==void 0&&C!=null&&u(e,["setup","generationConfig","speechConfig"],nM(qc(C)));const _=r(n,["enableAffectiveDialog"]);e!==void 0&&_!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],_);const M=r(n,["systemInstruction"]);e!==void 0&&M!=null&&u(e,["setup","systemInstruction"],aM(St(M)));const D=r(n,["tools"]);if(e!==void 0&&D!=null){let J=Zl(D);Array.isArray(J)&&(J=J.map(ae=>hM(Yl(ae)))),u(e,["setup","tools"],J)}const q=r(n,["sessionResumption"]);e!==void 0&&q!=null&&u(e,["setup","sessionResumption"],pM(q));const G=r(n,["inputAudioTranscription"]);e!==void 0&&G!=null&&u(e,["setup","inputAudioTranscription"],Ag());const Z=r(n,["outputAudioTranscription"]);e!==void 0&&Z!=null&&u(e,["setup","outputAudioTranscription"],Ag());const H=r(n,["realtimeInputConfig"]);e!==void 0&&H!=null&&u(e,["setup","realtimeInputConfig"],yM(H));const $=r(n,["contextWindowCompression"]);e!==void 0&&$!=null&&u(e,["setup","contextWindowCompression"],xM($));const X=r(n,["proactivity"]);return e!==void 0&&X!=null&&u(e,["setup","proactivity"],TM(X)),l}function SM(n,e){const l={},o=r(e,["model"]);o!=null&&u(l,["setup","model"],Oe(n,o));const a=r(e,["config"]);return a!=null&&u(l,["config"],CM(a,l)),l}function _M(n,e,l){const o={},a=r(e,["expireTime"]);l!==void 0&&a!=null&&u(l,["expireTime"],a);const f=r(e,["newSessionExpireTime"]);l!==void 0&&f!=null&&u(l,["newSessionExpireTime"],f);const m=r(e,["uses"]);l!==void 0&&m!=null&&u(l,["uses"],m);const h=r(e,["liveConnectConstraints"]);l!==void 0&&h!=null&&u(l,["bidiGenerateContentSetup"],SM(n,h));const y=r(e,["lockAdditionalFields"]);return l!==void 0&&y!=null&&u(l,["fieldMask"],y),o}function bM(n,e){const l={},o=r(e,["config"]);return o!=null&&u(l,["config"],_M(n,o,l)),l}function EM(n){const e={},l=r(n,["name"]);return l!=null&&u(e,["name"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AM(n){const e=[];for(const l in n)if(Object.prototype.hasOwnProperty.call(n,l)){const o=n[l];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const a=Object.keys(o).map(f=>`${l}.${f}`);e.push(...a)}else e.push(l)}return e.join(",")}function wM(n,e){let l=null;const o=n.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const f=o.setup;typeof f=="object"&&f!==null?(n.bidiGenerateContentSetup=f,l=f):delete n.bidiGenerateContentSetup}else o!==void 0&&delete n.bidiGenerateContentSetup;const a=n.fieldMask;if(l){const f=AM(l);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)f?n.fieldMask=f:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];a.length>0&&(h=a.map(p=>m.includes(p)?`generationConfig.${p}`:p));const y=[];f&&y.push(f),h.length>0&&y.push(...h),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?n.fieldMask=a.join(","):delete n.fieldMask;return n}class MM extends Ji{constructor(e){super(),this.apiClient=e}async create(e){var l,o;let a,f="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=bM(this.apiClient,e);f=he("auth_tokens",h._url),m=h._query,delete h.config,delete h._url,delete h._query;const y=wM(h,e.config);return a=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),a.then(p=>EM(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NM(n){const e={},l=r(n,["name"]);l!=null&&u(e,["_url","name"],l);const o=r(n,["config"]);return o!=null&&u(e,["config"],o),e}function RM(n,e){const l={},o=r(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=r(n,["pageToken"]);e!==void 0&&a!=null&&u(e,["_query","pageToken"],a);const f=r(n,["filter"]);return e!==void 0&&f!=null&&u(e,["_query","filter"],f),l}function DM(n){const e={},l=r(n,["config"]);return l!=null&&u(e,["config"],RM(l,e)),e}function IM(n){const e={},l=r(n,["textInput"]);l!=null&&u(e,["textInput"],l);const o=r(n,["output"]);return o!=null&&u(e,["output"],o),e}function UM(n){const e={};if(r(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const l=r(n,["examples"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(a=>IM(a))),u(e,["examples","examples"],o)}return e}function kM(n,e){const l={};if(r(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=r(n,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&u(e,["displayName"],o),r(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=r(n,["epochCount"]);e!==void 0&&a!=null&&u(e,["tuningTask","hyperparameters","epochCount"],a);const f=r(n,["learningRateMultiplier"]);if(f!=null&&u(l,["tuningTask","hyperparameters","learningRateMultiplier"],f),r(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(r(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=r(n,["batchSize"]);e!==void 0&&m!=null&&u(e,["tuningTask","hyperparameters","batchSize"],m);const h=r(n,["learningRate"]);return e!==void 0&&h!=null&&u(e,["tuningTask","hyperparameters","learningRate"],h),l}function LM(n){const e={},l=r(n,["baseModel"]);l!=null&&u(e,["baseModel"],l);const o=r(n,["trainingDataset"]);o!=null&&u(e,["tuningTask","trainingData"],UM(o));const a=r(n,["config"]);return a!=null&&u(e,["config"],kM(a,e)),e}function VM(n){const e={},l=r(n,["name"]);l!=null&&u(e,["_url","name"],l);const o=r(n,["config"]);return o!=null&&u(e,["config"],o),e}function PM(n,e){const l={},o=r(n,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);const a=r(n,["pageToken"]);e!==void 0&&a!=null&&u(e,["_query","pageToken"],a);const f=r(n,["filter"]);return e!==void 0&&f!=null&&u(e,["_query","filter"],f),l}function qM(n){const e={},l=r(n,["config"]);return l!=null&&u(e,["config"],PM(l,e)),e}function GM(n,e){const l={},o=r(n,["gcsUri"]);e!==void 0&&o!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],o);const a=r(n,["vertexDatasetResource"]);if(e!==void 0&&a!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],a),r(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function BM(n,e){const l={},o=r(n,["gcsUri"]);o!=null&&u(l,["validationDatasetUri"],o);const a=r(n,["vertexDatasetResource"]);return e!==void 0&&a!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],a),l}function OM(n,e){const l={},o=r(n,["validationDataset"]);e!==void 0&&o!=null&&u(e,["supervisedTuningSpec"],BM(o,l));const a=r(n,["tunedModelDisplayName"]);e!==void 0&&a!=null&&u(e,["tunedModelDisplayName"],a);const f=r(n,["description"]);e!==void 0&&f!=null&&u(e,["description"],f);const m=r(n,["epochCount"]);e!==void 0&&m!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],m);const h=r(n,["learningRateMultiplier"]);e!==void 0&&h!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const y=r(n,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y);const p=r(n,["adapterSize"]);if(e!==void 0&&p!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],p),r(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(r(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return l}function zM(n){const e={},l=r(n,["baseModel"]);l!=null&&u(e,["baseModel"],l);const o=r(n,["trainingDataset"]);o!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],GM(o,e));const a=r(n,["config"]);return a!=null&&u(e,["config"],OM(a,e)),e}function HM(n){const e={},l=r(n,["name"]);l!=null&&u(e,["model"],l);const o=r(n,["name"]);return o!=null&&u(e,["endpoint"],o),e}function my(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["state"]);o!=null&&u(e,["state"],Fg(o));const a=r(n,["createTime"]);a!=null&&u(e,["createTime"],a);const f=r(n,["tuningTask","startTime"]);f!=null&&u(e,["startTime"],f);const m=r(n,["tuningTask","completeTime"]);m!=null&&u(e,["endTime"],m);const h=r(n,["updateTime"]);h!=null&&u(e,["updateTime"],h);const y=r(n,["description"]);y!=null&&u(e,["description"],y);const p=r(n,["baseModel"]);p!=null&&u(e,["baseModel"],p);const x=r(n,["_self"]);x!=null&&u(e,["tunedModel"],HM(x));const C=r(n,["distillationSpec"]);C!=null&&u(e,["distillationSpec"],C);const _=r(n,["experiment"]);_!=null&&u(e,["experiment"],_);const M=r(n,["labels"]);M!=null&&u(e,["labels"],M);const D=r(n,["pipelineJob"]);D!=null&&u(e,["pipelineJob"],D);const q=r(n,["satisfiesPzi"]);q!=null&&u(e,["satisfiesPzi"],q);const G=r(n,["satisfiesPzs"]);G!=null&&u(e,["satisfiesPzs"],G);const Z=r(n,["serviceAccount"]);Z!=null&&u(e,["serviceAccount"],Z);const H=r(n,["tunedModelDisplayName"]);return H!=null&&u(e,["tunedModelDisplayName"],H),e}function FM(n){const e={},l=r(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=r(n,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>my(f))),u(e,["tuningJobs"],a)}return e}function JM(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["metadata"]);o!=null&&u(e,["metadata"],o);const a=r(n,["done"]);a!=null&&u(e,["done"],a);const f=r(n,["error"]);return f!=null&&u(e,["error"],f),e}function YM(n){const e={},l=r(n,["checkpointId"]);l!=null&&u(e,["checkpointId"],l);const o=r(n,["epoch"]);o!=null&&u(e,["epoch"],o);const a=r(n,["step"]);a!=null&&u(e,["step"],a);const f=r(n,["endpoint"]);return f!=null&&u(e,["endpoint"],f),e}function ZM(n){const e={},l=r(n,["model"]);l!=null&&u(e,["model"],l);const o=r(n,["endpoint"]);o!=null&&u(e,["endpoint"],o);const a=r(n,["checkpoints"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(m=>YM(m))),u(e,["checkpoints"],f)}return e}function Ic(n){const e={},l=r(n,["name"]);l!=null&&u(e,["name"],l);const o=r(n,["state"]);o!=null&&u(e,["state"],Fg(o));const a=r(n,["createTime"]);a!=null&&u(e,["createTime"],a);const f=r(n,["startTime"]);f!=null&&u(e,["startTime"],f);const m=r(n,["endTime"]);m!=null&&u(e,["endTime"],m);const h=r(n,["updateTime"]);h!=null&&u(e,["updateTime"],h);const y=r(n,["error"]);y!=null&&u(e,["error"],y);const p=r(n,["description"]);p!=null&&u(e,["description"],p);const x=r(n,["baseModel"]);x!=null&&u(e,["baseModel"],x);const C=r(n,["tunedModel"]);C!=null&&u(e,["tunedModel"],ZM(C));const _=r(n,["supervisedTuningSpec"]);_!=null&&u(e,["supervisedTuningSpec"],_);const M=r(n,["tuningDataStats"]);M!=null&&u(e,["tuningDataStats"],M);const D=r(n,["encryptionSpec"]);D!=null&&u(e,["encryptionSpec"],D);const q=r(n,["partnerModelTuningSpec"]);q!=null&&u(e,["partnerModelTuningSpec"],q);const G=r(n,["distillationSpec"]);G!=null&&u(e,["distillationSpec"],G);const Z=r(n,["experiment"]);Z!=null&&u(e,["experiment"],Z);const H=r(n,["labels"]);H!=null&&u(e,["labels"],H);const $=r(n,["pipelineJob"]);$!=null&&u(e,["pipelineJob"],$);const X=r(n,["satisfiesPzi"]);X!=null&&u(e,["satisfiesPzi"],X);const J=r(n,["satisfiesPzs"]);J!=null&&u(e,["satisfiesPzs"],J);const ae=r(n,["serviceAccount"]);ae!=null&&u(e,["serviceAccount"],ae);const ne=r(n,["tunedModelDisplayName"]);return ne!=null&&u(e,["tunedModelDisplayName"],ne),e}function $M(n){const e={},l=r(n,["nextPageToken"]);l!=null&&u(e,["nextPageToken"],l);const o=r(n,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(f=>Ic(f))),u(e,["tuningJobs"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KM extends Ji{constructor(e){super(),this.apiClient=e,this.get=async l=>await this.getInternal(l),this.list=async(l={})=>new ls(Fi.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(l),l),this.tune=async l=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(l);{const o=await this.tuneMldevInternal(l);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:Sc.JOB_STATE_QUEUED}}}}async getInternal(e){var l,o,a,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=VM(e);return h=he("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>Ic(x))}else{const p=NM(e);return h=he("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>my(x))}}async listInternal(e){var l,o,a,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=qM(e);return h=he("tuningJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),m.then(x=>{const C=$M(x),_=new eg;return Object.assign(_,C),_})}else{const p=DM(e);return h=he("tunedModels",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(x=>x.json()),m.then(x=>{const C=FM(x),_=new eg;return Object.assign(_,C),_})}}async tuneInternal(e){var l,o;let a,f="",m={};if(this.apiClient.isVertexAI()){const h=zM(e);return f=he("tuningJobs",h._url),m=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(y=>Ic(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var l,o;let a,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=LM(e);return f=he("tunedModels",h._url),m=h._query,delete h.config,delete h._url,delete h._query,a=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),a.then(y=>JM(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jM{async download(e,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const QM=1024*1024*8,XM=3,WM=1e3,eN=2,ac="x-goog-upload-status";async function tN(n,e,l){var o,a,f;let m=0,h=0,y=new _c(new Response),p="upload";for(m=n.size;h<m;){const C=Math.min(QM,m-h),_=n.slice(h,h+C);h+C>=m&&(p+=", finalize");let M=0,D=WM;for(;M<XM&&(y=await l.request({path:"",body:_,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(h),"Content-Length":String(C)}}}),!(!((o=y==null?void 0:y.headers)===null||o===void 0)&&o[ac]));)M++,await iN(D),D=D*eN;if(h+=C,((a=y==null?void 0:y.headers)===null||a===void 0?void 0:a[ac])!=="active")break;if(m<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const x=await(y==null?void 0:y.json());if(((f=y==null?void 0:y.headers)===null||f===void 0?void 0:f[ac])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return x.file}async function nN(n){return{size:n.size,type:n.type}}function iN(n){return new Promise(e=>setTimeout(e,n))}class lN{async upload(e,l,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await tN(e,l,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nN(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oN{create(e,l,o){return new sN(e,l,o)}}class sN{constructor(e,l,o){this.url=e,this.headers=l,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wg="x-goog-api-key";class aN{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(wg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(wg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rN="gl-node/";class uN{constructor(e){var l;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=e.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=e.apiKey;const o=nT(e,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const a=new aN(this.apiKey);this.apiClient=new _w({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:rN+"web",uploader:new lN,downloader:new jM}),this.models=new Ow(this.apiClient),this.live=new Vw(this.apiClient,a,new oN),this.batches=new RC(this.apiClient),this.chats=new kS(this.models,this.apiClient),this.caches=new DS(this.apiClient),this.files=new ZS(this.apiClient),this.operations=new Xw(this.apiClient),this.authTokens=new MM(this.apiClient),this.tunings=new KM(this.apiClient)}}let es=null;const Uc=n=>{if(n&&n.trim())try{es=new uN({apiKey:n})}catch(e){console.error("Failed to initialize GoogleGenAI with the provided key:",e),es=null}else es=null},Gn=()=>{if(!es)throw new Error("API Key has not been initialized. Please set it on the home screen.");return es},hi=n=>{let e=n.trim();const l=/^```(?:json)?\s*\n?(.*?)\n?\s*```$/s,o=e.match(l);o&&o[2]&&(e=o[2].trim());try{return JSON.parse(e)}catch(a){console.error("Failed to parse JSON response:",a,"Raw text:",`"${n}"`);try{let f=e.replace(/,\s*([}\]])/g,"$1");return JSON.parse(f)}catch(f){return console.error("Failed to parse even after fixing trailing commas.",f),null}}},pi=`You are a machine that returns only raw, valid JSON.
- Your entire response must be a single JSON object or array.
- Do not add any text before or after the JSON.
- Do not use markdown (e.g., \`\`\`json).
- Do not add comments.
- Do not leave trailing commas.
- Ensure all strings are properly quoted and terminated.`,cN=async(n,e,l,o)=>{const a=Gn();let f=`Generate a JSON array of 75 unique TOEIC vocabulary items.
`;f+=`The vocabulary should be sourced from a diverse range of contexts, including recent news, business articles, academic texts, and topics commonly found in past TOEIC tests.
`,f+=`Prioritize less common, more specific vocabulary suitable for the TOEIC test. Avoid overly basic or common words.
`;const m=['"english"','"japanese"','"example_en"','"example_jp"'];n===Gl?(m.push('"level"'),f+=`The items should span various difficulty levels. For each item, you MUST include a "level" key with one of these exact string values: ["${Ln.join('", "')}"].
`):f+=`The items MUST be for a '${n}' learner.
`,e===Bi?(m.push('"category"'),f+=`The items should cover various topics. For each item, you MUST include a "category" key with one of these exact string values: ["${Lt.join('", "')}"].
`):f+=`The items MUST be related to the category '${e}'.
`,l==="all"?(m.push('"type"'),f+=`The items should be a mix of words and idioms. For each item, you MUST include a "type" key with one of these values: "word", "idiom".
`,f+=`If the type is "word", you MUST include a "pos" key with one of these values: ["${ql.join('", "')}"]. If the type is "idiom", do not include the "pos" key.
`,m.push('"pos"'),f+=`The combination of "english" and "pos" for words, and "english" for idioms must be unique. Do not include any of the following existing items:
${JSON.stringify(o)}
`):l==="word"?(m.push('"pos"'),f+=`All items must be of type 'word'.
`,f+=`For each item, you MUST include a "pos" key with one of these exact string values: ["${ql.join('", "')}"].
`,f+=`The combination of the "english" and "pos" values must be unique. DO NOT include any of the following "english-pos" combinations:
${JSON.stringify(o)}
`):(f+=`All items must be of type 'idiom'.
`,f+=`The "english" value for each object must be unique. DO NOT include any of the following existing phrases:
${JSON.stringify(o)}
`),f+=`Each object in the array MUST have exactly these keys: ${[...new Set(m)].join(", ")}. For idioms, "pos" should be omitted.
`,f+=`
The output MUST be a single, raw, valid JSON array. It must start with '[' and end with ']'. ABSOLUTELY NO other text, characters, comments, or markdown should be included in the response.`;try{const h=await a.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:f,config:{systemInstruction:pi,responseMimeType:"application/json"}});return hi(h.text)}catch(h){return console.error("Error generating vocabulary:",h),null}},fN=async(n,e)=>{const l=Gn(),o=`
      Generate a JSON object for a TOEIC Part 7 style reading exercise for a '${n}' learner. The topic MUST be related to '${e}'.
      The JSON object must have exactly four keys: "passage", "idioms", "questions", "key_sentence_indices".
      1. "passage": An array of objects. Each object must have "english" and "japanese" string keys, representing one sentence and its translation. The passage should be about 150-200 words long.
      2. "idioms": An array of 2-3 objects, where each object has "english" and "japanese" string keys for idioms or key vocabulary found in the passage.
      3. "questions": An array of 2-4 objects. Each object represents a multiple-choice comprehension question based on the passage and must have these keys: "question" (string), "options" (array of 4 strings), "correctOptionIndex" (number from 0-3), and "explanation" (string).
      4. "key_sentence_indices": An array of numbers, representing the 0-based indices of the 2-3 most important sentences in the "passage" array.
      The output MUST be a single, raw, valid JSON object.
    `;try{const a=await l.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:o,config:{systemInstruction:pi,responseMimeType:"application/json"}});return hi(a.text)}catch(a){return console.error("Error generating reading passage:",a),null}},dN=async(n,e,l)=>{const o=Gn();let a;switch(n){case kt.Part2:a=`
              Generate a JSON object for a TOEIC Listening Part 2 (Question-Response) exercise for a '${e}' learner.
              The JSON object must have exactly these keys: "part", "question", "options", "correctOptionIndex", "explanation".
              1. "part": The string value "${kt.Part2}".
              2. "question": A single, short question or statement, as would be heard in the test (e.g., "When is the deadline for the report?").
              3. "options": An array of exactly 3 short string responses. One is the correct response, the other two are plausible but incorrect distractors.
              4. "correctOptionIndex": A number from 0 to 2, representing the index of the correct response in the "options" array.
              5. "explanation": A concise explanation of why the correct option is the best response.
              The output MUST be a single, raw, valid JSON object.
            `;break;case kt.Part3:a=`
              Generate a JSON object for a TOEIC Listening Part 3 (Conversation) exercise for a '${e}' learner on the topic of '${l}'.
              The JSON object must have exactly these keys: "part", "title", "passage", "question", "options", "correctOptionIndex", "explanation".
              1. "part": The string value "${kt.Part3}".
              2. "title": A short title (e.g., "Discussing a Project Delay").
              3. "passage": An array of objects representing a conversation between two or three people. Each object must have "english" and "japanese" string keys. The total length should be 4-8 turns.
              4. "question": A comprehension question based on the conversation.
              5. "options": An array of exactly 4 objects. Each object MUST have "en" (English) and "jp" (Japanese translation) keys.
              6. "correctOptionIndex": The 0-based index of the correct option.
              7. "explanation": A concise explanation.
              The output MUST be a single, raw, valid JSON object.
            `;break;case kt.Part4:a=`
              Generate a JSON object for a TOEIC Listening Part 4 (Short Talk) exercise for a '${e}' learner on the topic of '${l}'.
              The JSON object must have exactly these keys: "part", "title", "passage", "question", "options", "correctOptionIndex", "explanation".
              1. "part": The string value "${kt.Part4}".
              2. "title": A short title (e.g., "Weather Forecast" or "Museum Announcement").
              3. "passage": An array of objects representing a short talk by a single speaker. Each object must have "english" and "japanese" string keys. Total length about 100-150 words.
              4. "question": A comprehension question based on the talk.
              5. "options": An array of exactly 4 objects. Each object MUST have "en" (English) and "jp" (Japanese translation) keys.
              6. "correctOptionIndex": The 0-based index of the correct option.
              7. "explanation": A concise explanation.
              The output MUST be a single, raw, valid JSON object.
            `;break}try{const f=await o.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:a,config:{systemInstruction:pi,responseMimeType:"application/json"}});return hi(f.text)}catch(f){return console.error(`Error generating listening exercise for ${n}:`,f),null}},mN=async(n,e)=>{const l=Gn(),o=`
      Generate a JSON object for a TOEIC Part 5 (Incomplete Sentence) exercise for a '${n}' learner. The topic should be related to '${e}'.
      The JSON object must have exactly these keys: "sentence_with_blank", "options", "correctOptionIndex", "explanation_jp".
      1. "sentence_with_blank": A single sentence with a missing word or phrase, indicated by "____".
      2. "options": An array of exactly 4 strings. One correctly fills the blank, the others are common distractors (e.g., wrong tense, wrong part of speech).
      3. "correctOptionIndex": A number from 0 to 3, for the correct option.
      4. "explanation_jp": A concise grammar or vocabulary explanation for the correct answer, written in Japanese.
      The output MUST be a single, raw, valid JSON object.
    `;try{const a=await l.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:o,config:{systemInstruction:pi,responseMimeType:"application/json"}});return hi(a.text)}catch(a){return console.error("Error generating incomplete sentence exercise:",a),null}},hN=async(n,e)=>{const l=Gn(),o=`
      Generate a JSON object for a TOEIC Part 6 (Text Completion) exercise for a '${n}' learner. The topic should be related to '${e}'.
      The JSON object must have exactly these keys: "passage", "questions".
      1. "passage": A single string of text (e.g., an email, notice, or article) containing exactly 4 numbered blanks, like "[1]", "[2]", "[3]", and "[4]".
      2. "questions": An array of exactly 4 objects, one for each blank. Each object must have these keys: "blank_number" (1-4), "options" (array of 4 strings), "correctOptionIndex" (0-3), and "explanation_jp". The explanation must be in Japanese.
      The output MUST be a single, raw, valid JSON object. Ensure the 'questions' array has exactly 4 items.
    `;try{const a=await l.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:o,config:{systemInstruction:pi,responseMimeType:"application/json"}});return hi(a.text)}catch(a){return console.error("Error generating text completion exercise:",a),null}},pN=async n=>{const e=Gn(),l=`
      「${n}」に関する英語の文法ルールを、英語を久しぶりに再学習する日本人向けに、非常に分かりやすく詳しく解説してください。
      初心者がつまずきやすいポイント、基本的な使い方、応用的な使い方、よくある間違いや例外的な用法なども含めて、豊富な例文（英語と日本語訳を併記）を交えながら説明してください。
      応答は、マークダウン形式ではなく、改行を活かしたプレーンテキストで、人間が読みやすいように整形してください。
    `;try{return(await e.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:l})).text}catch(o){return console.error(`Error generating grammar explanation for ${n}:`,o),null}},Mg=async(n,e,l)=>{const o=Gn();let a;const f=e?5:50;if(e&&n.length===1){const m=n[0];a=`
        以下の文法解説を元に、学習者の理解度を確認するためのTOEIC Part 5形式の選択問題を${f}問生成してください。
        解説のトピック: 「${m}」

        ---
        ${e.substring(0,2e3)}
        ---

        問題は「${m}」の知識を問うものにしてください。JSONオブジェクトの配列として、以下のキーを持つオブジェクトを${f}個生成してください:
        - "question_jp": 問題の指示や文脈を日本語で記述 (例: 「空欄に最も適切な単語を選びなさい。」)
        - "sentence_with_blank": "____" を含む、空欄付きの英文
        - "options": 4つの選択肢の配列
        - "correctOptionIndex": 0から3の正解のインデックス番号
        - "explanation_jp": 正解の選択肢がなぜ正しいか、他の選択肢がなぜ間違いかを日本語で簡潔に解説

        The output MUST be a single, raw, valid JSON array.
      `}else{const m=n.join(`
- `);a=`
        TOEIC Part 5形式の文法選択問題を${f}問、生成してください。
        ${l?`問題の難易度は「${l}」レベルに調整してください。`:""}

        問題は、以下の基本的な英文法のトピックからランダムに組み合わせて出題してください:
        - ${m}

        JSONオブジェクトの配列として、以下のキーを持つオブジェクトを${f}個生成してください:
        - "question_jp": 問題の指示や文脈を日本語で記述 (例: 「空欄に最も適切な単語を選びなさい。」)
        - "sentence_with_blank": "____" を含む、空欄付きの英文
        - "options": 4つの選択肢の配列
        - "correctOptionIndex": 0から3の正解のインデックス番号
        - "explanation_jp": 正解の選択肢がなぜ正しいか、他の選択肢がなぜ間違いかを日本語で簡潔に解説

        The output MUST be a single, raw, valid JSON array.
      `}try{const m=await o.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:a,config:{systemInstruction:pi,responseMimeType:"application/json"}});return hi(m.text)}catch(m){return console.error(`Error generating grammar quiz for topics ${n.join(", ")}:`,m),null}},gN=async n=>{const e=Gn(),l=`
        You are an expert English grammar checker for Japanese learners.
        Analyze the following English sentence for any grammatical errors, awkward phrasing, or typos.
        Provide a corrected version of the sentence and a concise, easy-to-understand explanation in Japanese.

        The user's sentence is: "${n}"

        If the sentence is already grammatically perfect and natural, the "correctedSentence" should be the same as the original, and the "explanation_jp" should simply state that the sentence is correct (e.g., "この文は文法的に正しく、自然です。").

        The JSON object must have exactly these three keys:
        1. "originalSentence": The original sentence provided by the user.
        2. "correctedSentence": The corrected, natural-sounding English sentence.
        3. "explanation_jp": The explanation of the corrections in Japanese.

        The output MUST be a single, raw, valid JSON object.
    `;try{const o=await e.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:l,config:{systemInstruction:pi,responseMimeType:"application/json"}});return hi(o.text)}catch(o){return console.error("Error generating grammar check:",o),null}},yN=async n=>{const e=Gn(),l=`
        You are an expert TOEIC test analyst. I will provide you with a list of English words and idioms.
        For each item, classify its frequency of appearance on the TOEIC test into one of three levels: "High", "Medium", or "Low".
        - "High": Very common, essential vocabulary. Appears frequently.
        - "Medium": Appears regularly, good to know for a solid score.
        - "Low": Less common, but could appear in higher-level questions. Important for advanced scores.
        
        The list of items to classify is:
        ${JSON.stringify(n)}

        Your response MUST be a single, raw, valid JSON array. Each object in the array must correspond to an item in the input list and MUST have exactly these three keys:
        1. "id": The original integer ID of the item.
        2. "type": The original type of the item ("word" or "idiom").
        3. "frequency": Your classification as a string ("High", "Medium", or "Low").
    `;try{const o=await e.models.generateContent({model:"gemini-2.5-flash-preview-04-17",contents:l,config:{systemInstruction:pi,responseMimeType:"application/json"}}),a=hi(o.text);if(!a)return console.error("AI returned null or unparsable response for frequency levels."),null;const f={High:3,Medium:2,Low:1};return a.map(m=>({id:m.id,type:m.type,frequencyLevel:f[m.frequency]||2}))}catch(o){return console.error("Error assigning frequency levels:",o),null}},vN=({onStartVocabulary:n,onStartReading:e,onStartDrive:l,onStartListening:o,onStartPart5:a,onStartPart6:f,onStartBasicGrammar:m,onStartGrammarCheck:h,onViewWordList:y,onImportJson:p,onAiCollect:x,dbWordCount:C,isInitializing:_,initStatus:M,isApiKeySet:D,onApiKeyUpdate:q})=>{const[G,Z]=L.useState(qi.Beginner),[H,$]=L.useState(Gl),[X,J]=L.useState(Bi),[ae,ne]=L.useState("word"),[O,j]=L.useState(20),[ie,le]=L.useState(!1),[ue,Me]=L.useState(""),[Ne,ge]=L.useState(""),[A,K]=L.useState(!1),[oe,V]=L.useState(""),[b,R]=L.useState(!1);L.useEffect(()=>{const Te=localStorage.getItem("gemini-api-key");Te&&ge(Te)},[]);const Y=()=>{if(!Ne.trim()){V("API Key cannot be empty."),setTimeout(()=>V(""),3e3);return}localStorage.setItem("gemini-api-key",Ne),Uc(Ne),q(!0),V("API Key saved successfully!"),R(!1),setTimeout(()=>V(""),3e3)},Q=()=>{localStorage.removeItem("gemini-api-key"),Uc(""),q(!1),ge(""),R(!0),V("API Key cleared."),setTimeout(()=>V(""),3e3)},W=C>0&&!_,de=D&&!_,ee=_?"Please wait for initialization to complete.":"Add vocabulary using the AI Generator or Import JSON to enable this mode.",Ce=_?"Please wait for initialization to complete.":"Please set your Gemini API Key to use this feature.",Ue=async(Te,mt)=>{var Yi;const rt=(Yi=Te.target.files)==null?void 0:Yi[0];if(!rt)return;const rn=new FileReader;rn.onload=async jl=>{var _t;try{const Bn=(_t=jl.target)==null?void 0:_t.result;if(typeof Bn!="string")throw new Error("File could not be read");const ln=JSON.parse(Bn);if(!ln.vocabulary||!Array.isArray(ln.vocabulary)){alert('Invalid JSON format. Expected an object with a "vocabulary" array.');return}const se=ln.vocabulary.map(yt=>({...yt,type:mt})),qe=await Ug(se);alert(`Imported ${qe} new ${mt}s. ${se.length-qe} duplicates were skipped.`),await p()}catch(Bn){console.error(`Error importing ${mt} JSON:`,Bn),alert(`Failed to import ${mt} JSON. Please check the file format and console for errors.`)}},rn.readAsText(rt),Te.target.value=""},Vt=async()=>{le(!0);let Te=0;for(let mt=1;mt<=O;mt++){Me(`Batch ${mt}/${O}: Generating new items with AI...`);try{const rt=await x(H,X,ae);Te+=rt,Me(`Batch ${mt}/${O}: Success! Added ${rt} new items. Total so far: ${Te}`)}catch(rt){console.error(`AI collection failed on batch ${mt}:`,rt);const rn=rt.message||"An error occurred.";Me(`Batch ${mt}/${O}: Error - ${rn}. Total added before error: ${Te}`),le(!1);return}}Me(`Finished! Added a total of ${Te} new items across ${O} batches.`),le(!1)},gi=()=>D&&!b?v.jsxs("div",{className:"bg-slate-900 text-white p-4 rounded-2xl shadow-lg w-full mb-8 border border-slate-700 flex justify-between items-center",children:[v.jsxs("p",{className:"text-slate-300",children:[v.jsx("span",{className:"font-bold text-green-400",children:"✓"})," APIキーは設定済みです。"]}),v.jsxs("button",{onClick:()=>R(!0),className:"bg-slate-700 hover:bg-slate-600 text-white font-bold py-2 px-4 rounded-lg text-sm flex items-center gap-2",children:[v.jsx(vx,{className:"w-5 h-5"}),"管理"]})]}):v.jsxs("div",{className:"bg-slate-900 text-white p-6 rounded-2xl shadow-lg w-full mb-8 border border-slate-700",children:[v.jsx("h2",{className:"text-xl font-bold mb-3 flex items-center gap-2 justify-center",children:"API Key Setup"}),v.jsx("p",{className:"text-slate-400 mb-4 text-sm",children:D?"Your Google Gemini API Key is set.":"Please enter your Google Gemini API Key. Your key is stored locally and never sent to our servers."}),v.jsxs("div",{className:"flex items-stretch gap-2 mb-3",children:[v.jsx("input",{type:A?"text":"password",value:Ne,onChange:Te=>ge(Te.target.value),placeholder:"Enter your Gemini API Key",className:"flex-grow p-3 border border-slate-600 bg-slate-800 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition text-white","aria-label":"API Key Input"}),v.jsx("button",{onClick:()=>K(!A),className:"p-3 bg-slate-700 hover:bg-slate-600 rounded-md text-sm w-20","aria-label":A?"Hide API Key":"Show API Key",children:A?"Hide":"Show"})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[v.jsx("button",{onClick:Y,className:"flex-1 bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition shadow-md disabled:bg-slate-400 disabled:cursor-not-allowed",disabled:!Ne.trim(),children:"Save & Initialize"}),D&&v.jsx("button",{onClick:Q,className:"flex-1 bg-rose-800 text-white font-bold py-3 px-6 rounded-lg hover:bg-rose-700 transition shadow-md",children:"Clear Key"})]}),oe&&v.jsx("p",{className:"text-sm text-center mt-3 text-yellow-300",children:oe})]});return v.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-4rem)] p-4",children:[v.jsx(Tx,{}),v.jsxs("div",{className:"w-full max-w-2xl text-center",children:[v.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-slate-800 mb-2",children:"TOEIC AI Tutor"}),v.jsx("p",{className:"text-lg text-slate-600 mb-8",children:"Your personal AI-powered TOEIC study partner."}),gi(),v.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-2xl shadow-lg w-full mb-8",children:[v.jsxs("div",{className:"mb-6",children:[v.jsx("label",{htmlFor:"level-select",className:"block text-xl font-medium text-slate-700 mb-3",children:"1. Choose Your Level (For Practice Modes)"}),v.jsx("select",{id:"level-select",value:G,onChange:Te=>Z(Te.target.value),className:"w-full p-4 border border-slate-300 rounded-lg bg-slate-50 text-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",children:zh.filter(Te=>Te!==Gl).map(Te=>v.jsx("option",{value:Te,children:Te},Te))})]}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-medium text-slate-700 mb-4",children:"2. Choose Your Mode"}),v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[v.jsxs("button",{onClick:()=>n(G),className:"bg-blue-600 text-white font-bold py-3 px-4 rounded-lg text-base hover:bg-blue-700 transition-transform transform hover:scale-105 shadow-md disabled:bg-slate-400 disabled:cursor-not-allowed flex flex-col items-center justify-center gap-1",disabled:!W,title:W?"":ee,children:[v.jsx(yx,{className:"w-7 h-7 mb-1"}),"Vocabulary & Idioms"]}),v.jsxs("button",{onClick:m,className:"bg-rose-500 text-white font-bold py-3 px-4 rounded-lg text-base hover:bg-rose-600 transition-transform transform hover:scale-105 shadow-md flex flex-col items-center justify-center gap-1 disabled:bg-slate-400 disabled:cursor-not-allowed",disabled:!de,title:de?"":Ce,children:[v.jsx(px,{className:"w-7 h-7 mb-1"}),"基礎文法"]}),v.jsxs("button",{onClick:h,className:"bg-emerald-500 text-white font-bold py-3 px-4 rounded-lg text-base hover:bg-emerald-600 transition-transform transform hover:scale-105 shadow-md flex flex-col items-center justify-center gap-1 disabled:bg-slate-400 disabled:cursor-not-allowed",disabled:!de,title:de?"":Ce,children:[v.jsx(kg,{className:"w-7 h-7 mb-1"}),"AI Grammar Check"]}),v.jsxs("button",{onClick:()=>o(G),className:"bg-teal-500 text-white font-bold py-3 px-4 rounded-lg text-base hover:bg-teal-600 transition-transform transform hover:scale-105 shadow-md flex flex-col items-center justify-center gap-1 disabled:bg-slate-400 disabled:cursor-not-allowed",disabled:!de,title:de?"":Ce,children:[v.jsx(Y0,{className:"w-7 h-7 mb-1"}),"Listening Practice"]}),v.jsxs("button",{onClick:()=>a(G),className:"bg-amber-500 text-white font-bold py-3 px-4 rounded-lg text-base hover:bg-amber-600 transition-transform transform hover:scale-105 shadow-md flex flex-col items-center justify-center gap-1 disabled:bg-slate-400 disabled:cursor-not-allowed",disabled:!de,title:de?"":Ce,children:[v.jsx(mx,{className:"w-7 h-7 mb-1"}),"Part 5: Completion"]}),v.jsxs("button",{onClick:()=>f(G),className:"bg-orange-500 text-white font-bold py-3 px-4 rounded-lg text-base hover:bg-orange-600 transition-transform transform hover:scale-105 shadow-md flex flex-col items-center justify-center gap-1 disabled:bg-slate-400 disabled:cursor-not-allowed",disabled:!de,title:de?"":Ce,children:[v.jsx(hx,{className:"w-7 h-7 mb-1"}),"Part 6: Completion"]}),v.jsxs("button",{onClick:()=>e(G),className:"bg-violet-500 text-white font-bold py-3 px-4 rounded-lg text-base hover:bg-violet-600 transition-transform transform hover:scale-105 shadow-md flex flex-col items-center justify-center gap-1 disabled:bg-slate-400 disabled:cursor-not-allowed",disabled:!de,title:de?"":Ce,children:[v.jsx(gx,{className:"w-7 h-7 mb-1"}),"Part 7: Reading"]}),v.jsxs("button",{onClick:()=>l(G),className:"bg-sky-500 text-white font-bold py-3 px-4 rounded-lg text-base hover:bg-sky-600 transition-transform transform hover:scale-105 shadow-md disabled:bg-slate-400 disabled:cursor-not-allowed flex flex-col items-center justify-center gap-1",disabled:!W,title:W?"":ee,children:[v.jsx(J0,{className:"w-7 h-7 mb-1"}),"Vocabulary Drive"]})]})]})]}),v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg w-full mb-8",children:[v.jsx("h2",{className:"text-xl font-bold text-slate-700 mb-3",children:"AI Vocabulary Generator"}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 mb-4 items-center",children:[v.jsx("select",{value:H,onChange:Te=>$(Te.target.value),className:"p-2 border rounded-md bg-slate-50",children:zh.map(Te=>v.jsx("option",{value:Te,children:Te},Te))}),v.jsx("select",{value:X,onChange:Te=>J(Te.target.value),className:"p-2 border rounded-md bg-slate-50",children:Rg.map(Te=>v.jsx("option",{value:Te,children:Te},Te))}),v.jsxs("select",{value:ae,onChange:Te=>ne(Te.target.value),className:"p-2 border rounded-md bg-slate-50",children:[v.jsx("option",{value:"word",children:"Word"}),v.jsx("option",{value:"idiom",children:"Idiom"}),v.jsx("option",{value:"all",children:"All"})]}),v.jsx("input",{type:"number",value:O,onChange:Te=>j(Math.max(1,parseInt(Te.target.value)||1)),className:"p-2 border rounded-md bg-slate-50",title:"Number of batches (75 items per batch)"})]}),v.jsx("button",{onClick:Vt,className:"w-full bg-indigo-600 text-white font-bold py-3 px-6 rounded-lg text-lg hover:bg-indigo-700 transition shadow-md disabled:bg-slate-400 disabled:cursor-not-allowed",disabled:ie||_||!D,children:ie?v.jsx(Et,{}):D?`Generate ${O*75} New Items`:"Set API Key to Generate"}),ue&&v.jsx("p",{className:"text-sm text-slate-600 mt-3",children:ue})]}),v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg w-full",children:[v.jsx("h2",{className:"text-xl font-bold text-slate-700 mb-2",children:"Database Status"}),_?v.jsx("p",{className:"text-blue-600 bg-blue-100 p-3 rounded-md",children:M}):v.jsxs("p",{className:"text-lg",children:["Total items in database: ",v.jsx("span",{className:"font-bold text-blue-600",children:C})]}),v.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-4",children:[v.jsx("button",{onClick:y,className:"flex-1 bg-slate-600 text-white font-bold py-3 px-6 rounded-lg text-lg hover:bg-slate-700 transition shadow-md disabled:bg-slate-400",disabled:!W,title:W?"":ee,children:"View Word List"}),v.jsxs("label",{className:`flex-1 text-white font-bold py-3 px-6 rounded-lg text-lg text-center transition shadow-md ${_?"bg-slate-400 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700 cursor-pointer"}`,children:["Import Words",v.jsx("input",{type:"file",onChange:Te=>Ue(Te,"word"),className:"hidden",accept:".json",disabled:_})]}),v.jsxs("label",{className:`flex-1 text-white font-bold py-3 px-6 rounded-lg text-lg text-center transition shadow-md ${_?"bg-slate-400 cursor-not-allowed":"bg-fuchsia-600 hover:bg-fuchsia-700 cursor-pointer"}`,children:["Import Idioms",v.jsx("input",{type:"file",onChange:Te=>Ue(Te,"idiom"),className:"hidden",accept:".json",disabled:_})]})]})]})]})]})};class Jl extends Error{constructor(e){super(e),this.name="SpeechCancellationError"}}const qa=()=>{const[n,e]=L.useState(!1),l=L.useRef(null);L.useEffect(()=>{typeof window<"u"&&window.speechSynthesis&&window.speechSynthesis.getVoices()},[]),L.useEffect(()=>()=>{typeof window<"u"&&window.speechSynthesis&&(l.current&&(l.current.onend=null,l.current.onerror=null,l.current.onstart=null),window.speechSynthesis.cancel())},[]);const o=L.useCallback((f,m)=>new Promise((h,y)=>{if(!f||typeof window>"u"||!window.speechSynthesis)return h();const p=()=>{const C=window.speechSynthesis.getVoices();let _;const M=m.split("-")[0];m==="en-US"&&(_=C.find(q=>q.name==="Samantha"&&q.lang==="en-US")),_||(_=C.find(q=>q.lang===m)),_||(_=C.find(q=>q.lang.startsWith(M))),window.speechSynthesis.cancel();const D=new SpeechSynthesisUtterance(f);l.current=D,D.lang=m,_?D.voice=_:console.warn(`No specific voice found for lang '${m}'. Attempting to use browser default.`),D.onstart=()=>e(!0),D.onend=()=>{l.current=null,e(!1),h()},D.onerror=q=>{l.current=null,e(!1),q.error==="canceled"||q.error==="interrupted"?y(new Jl("Speech was cancelled")):(console.error("SpeechSynthesisUtterance.onerror",q),y(new Error(`Speech synthesis error: ${q.error}`)))},window.speechSynthesis.speak(D)};window.speechSynthesis.getVoices().length===0&&"onvoiceschanged"in window.speechSynthesis?window.speechSynthesis.addEventListener("voiceschanged",p,{once:!0}):p()}),[]),a=L.useCallback(()=>{typeof window<"u"&&window.speechSynthesis&&(window.speechSynthesis.cancel(),e(!1))},[]);return{speak:o,stop:a,isSpeaking:n}},is=({className:n="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})}),kc=({className:n="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 9l3 3m0 0l-3 3m3-3H8m13 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),rc=n=>{const e=[...n];for(let l=e.length-1;l>0;l--){const o=Math.floor(Math.random()*(l+1));[e[l],e[o]]=[e[o],e[l]]}return e},xN=({level:n,onGoHome:e})=>{const[l,o]=L.useState(Pi.Business),[a,f]=L.useState([]),[m,h]=L.useState(0),[y,p]=L.useState(!1),[x,C]=L.useState(null),[_,M]=L.useState("listening"),[D,q]=L.useState("word"),[G,Z]=L.useState(""),[H,$]=L.useState("idle"),[X,J]=L.useState("all"),[ae,ne]=L.useState("Random"),[O,j]=L.useState(),[ie,le]=L.useState([]),[ue,Me]=L.useState(null),[Ne,ge]=L.useState(new Set),[A,K]=L.useState(new Set),[oe,V]=L.useState("db"),[b,R]=L.useState(null),Y=L.useRef(null),{speak:Q,stop:W,isSpeaking:de}=qa(),ee=L.useMemo(()=>a[m],[a,m]),Ce=L.useCallback(async()=>{p(!0),C(null),f([]),h(0),Z(""),$("idle"),le([]),Me(null);try{const se=await ax(n,l,D,X,ae,30,O);se.length<4&&(_==="en-jp-quiz"||_==="jp-en-quiz")?(C("Not enough vocabulary for a quiz. Need at least 4 items. Try changing filters or adding more words."),f([])):se.length===0?(C("No vocabulary found for this selection. Try changing the category or filters, or wait for the database to populate more words."),f([])):f(se)}catch(se){C("An error occurred while fetching vocabulary from the local database."),console.error(se)}finally{p(!1)}},[n,l,D,X,ae,_,O]);L.useEffect(()=>{oe==="db"&&Ce()},[Ce,oe]),L.useEffect(()=>{if((_==="en-jp-quiz"||_==="jp-en-quiz")&&ee&&a.length>=4){const se=a.filter(Ye=>Ye.id!==ee.id),qe=rc(se).slice(0,3),yt=rc([ee,...qe]);le(yt)}Me(null),$("idle")},[m,ee,_,a]);const Ue=L.useCallback(()=>{W(),oe==="file"?a.length>0&&h(se=>(se+1)%a.length):m<a.length-1?h(se=>se+1):Ce(),Z(""),$("idle")},[m,a.length,Ce,W,oe]),Vt=L.useCallback(async()=>{if(ee)try{await Q(ee.english,"en-US"),await new Promise(se=>setTimeout(se,500)),await Q(ee.japanese,"ja-JP"),await new Promise(se=>setTimeout(se,500)),await Q(ee.example_en,"en-US"),await new Promise(se=>setTimeout(se,500)),await Q(ee.example_jp,"ja-JP")}catch(se){se instanceof Jl?console.log("Speech sequence cancelled."):console.error("Speech error:",se)}},[ee,Q]),gi=async()=>{if(!ee)return;const se=G.trim().toLowerCase()===ee.english.toLowerCase();if($(se?"correct":"incorrect"),se){rt(ee.id,!0);try{await Q("Correct!","en-US"),setTimeout(Ue,1500)}catch(qe){console.error(qe)}}else{rt(ee.id,!1);try{await Q("Try again.","en-US")}catch(qe){console.error(qe)}}},Te=se=>{se.preventDefault(),gi()},mt=se=>{if(H!=="idle")return;Me(se);const qe=se.id===ee.id;$(qe?"correct":"incorrect"),rt(ee.id,qe)},rt=(se,qe)=>{ge(yt=>{const Ye=new Set(yt);return qe?Ye.add(se):Ye.delete(se),Ye}),K(yt=>{const Ye=new Set(yt);return qe?Ye.delete(se):Ye.add(se),Ye})},rn=()=>{const se=a.filter(On=>A.has(On.id));if(se.length===0){alert("No items marked for review in this session.");return}const qe=JSON.stringify({vocabulary:se},null,2),yt="data:application/json;charset=utf-8,"+encodeURIComponent(qe),Ye="toeic_review_list.json",vn=document.createElement("a");vn.setAttribute("href",yt),vn.setAttribute("download",Ye),vn.click()},Yi=se=>{var Ye;const qe=(Ye=se.target.files)==null?void 0:Ye[0];if(!qe)return;const yt=new FileReader;yt.onload=async vn=>{var On;try{const vt=(On=vn.target)==null?void 0:On.result;if(typeof vt!="string")throw new Error("File could not be read");const ot=JSON.parse(vt);if(!ot.vocabulary||!Array.isArray(ot.vocabulary)||ot.vocabulary.length===0){alert('Invalid JSON format or empty list. Expected an object with a non-empty "vocabulary" array.');return}const Jt=ot.vocabulary[0];if(!Jt.english||!Jt.japanese||!Jt.example_en){alert("The items in the vocabulary list seem to be in the wrong format.");return}W(),f(rc(ot.vocabulary)),V("file"),R(qe.name),h(0),Z(""),$("idle"),C(null),ge(new Set),K(new Set)}catch(vt){console.error("Error importing review list:",vt),alert("Failed to import review list. Please check the file format and console for errors.")}finally{se.target&&(se.target.value="")}},yt.readAsText(qe)},jl=()=>{V("db"),R(null),f([]),p(!0)},_t=()=>{if(!ee||ie.length===0)return v.jsx(Et,{});const se=_==="en-jp-quiz",qe=se?ee.english:ee.japanese,yt=Ye=>se?Ye.japanese:Ye.english;return v.jsxs("div",{className:"w-full bg-white p-6 rounded-2xl shadow-xl transition-all duration-500",children:[v.jsxs("p",{className:"text-right text-slate-500 mb-4",children:[m+1," / ",a.length]}),v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-sm font-semibold text-slate-500 mb-2",children:se?"What is the Japanese meaning of:":"What is the English word/idiom for:"}),v.jsx("h2",{className:"text-3xl font-bold mb-6",children:qe})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:ie.map(Ye=>{const vn=(ue==null?void 0:ue.id)===Ye.id,On=Ye.id===ee.id;let vt="w-full text-left p-4 rounded-lg border-2 transition text-base ";return H!=="idle"?On?vt+="bg-green-100 border-green-500 text-green-900 font-bold":vn?vt+="bg-red-100 border-red-500 text-red-900 font-bold":vt+="bg-slate-50 border-slate-200 text-slate-600":vt+="bg-white border-slate-300 hover:bg-blue-50 hover:border-blue-400",v.jsx("button",{onClick:()=>mt(Ye),className:vt,disabled:H!=="idle",children:yt(Ye)},Ye.id)})}),H!=="idle"&&v.jsxs("div",{className:"mt-4 text-center p-4 rounded-lg bg-slate-50",children:[v.jsx("p",{className:"text-lg font-bold",children:ee.english}),v.jsx("p",{className:"text-md text-slate-600",children:ee.japanese}),v.jsxs("div",{className:"mt-3 flex justify-center gap-4",children:[v.jsx("button",{onClick:()=>rt(ee.id,!0),className:`px-3 py-1 text-sm rounded-full ${Ne.has(ee.id)?"bg-green-600 text-white":"bg-green-200 text-green-800"}`,children:"I know this 👍"}),v.jsx("button",{onClick:()=>rt(ee.id,!1),className:`px-3 py-1 text-sm rounded-full ${A.has(ee.id)?"bg-red-600 text-white":"bg-red-200 text-red-800"}`,children:"Needs review 👎"})]})]})]})},Bn=()=>y?v.jsx(Et,{}):x?v.jsxs("div",{className:"text-center p-8 bg-yellow-100 border border-yellow-300 rounded-lg",children:[v.jsx("p",{className:"text-yellow-800 font-semibold",children:"Heads up!"}),v.jsx("p",{className:"text-yellow-700 mt-2",children:x}),v.jsx("button",{onClick:e,className:"mt-4 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition",children:"← Back to Home"})]}):ee?_==="en-jp-quiz"||_==="jp-en-quiz"?v.jsxs("div",{className:"w-full flex flex-col items-center",children:[_t(),v.jsxs("button",{onClick:Ue,className:"mt-8 flex items-center gap-2 text-slate-600 font-semibold py-3 px-6 rounded-lg hover:bg-slate-200 transition",children:[oe==="file"?"Next Word":"Next Word/Batch"," ",v.jsx(kc,{})]})]}):v.jsxs("div",{className:"w-full flex flex-col items-center",children:[v.jsxs("div",{className:"w-full bg-white p-8 rounded-2xl shadow-xl transition-all duration-500",children:[v.jsxs("div",{className:"flex justify-between items-baseline mb-4",children:[v.jsxs("div",{className:"flex gap-2 items-center",children:[v.jsx("span",{className:`capitalize text-sm font-semibold py-1 px-3 rounded-full ${ee.type==="idiom"?"bg-purple-200 text-purple-800":"bg-green-200 text-green-800"}`,children:ee.type}),ee.pos&&v.jsx("span",{className:"capitalize text-sm font-semibold py-1 px-3 rounded-full bg-blue-200 text-blue-800",children:ee.pos.toLowerCase()})]}),v.jsxs("p",{className:"text-center text-slate-500",children:[m+1," / ",a.length]}),v.jsx("div",{})]}),_==="listening"?v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-4xl font-bold mb-2",children:ee.english}),v.jsx("p",{className:"text-2xl text-slate-600 mb-6",children:ee.japanese}),v.jsxs("p",{className:"text-xl text-slate-800 mb-2",children:['"',ee.example_en,'"']}),v.jsx("p",{className:"text-lg text-slate-500 mb-8",children:ee.example_jp}),v.jsx("button",{onClick:()=>Vt(),disabled:de,className:"bg-blue-500 text-white rounded-full p-4 hover:bg-blue-600 transition disabled:bg-slate-300",children:v.jsx(is,{className:"w-8 h-8"})})]}):v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-2xl text-slate-600 mb-4",children:ee.japanese}),v.jsx("p",{className:"text-lg text-slate-500 mb-6",children:ee.example_jp}),v.jsxs("button",{onClick:()=>Q(ee.example_en,"en-US").catch(se=>{se instanceof Jl||console.error("Speech error:",se)}),disabled:de,className:"mb-4 text-blue-500 hover:text-blue-700 flex items-center gap-2 mx-auto disabled:text-slate-400",children:[v.jsx(is,{className:"w-5 h-5"})," Hear Example"]}),v.jsxs("form",{onSubmit:Te,className:"flex flex-col items-center gap-4",children:[v.jsx("input",{type:"text",value:G,onChange:se=>Z(se.target.value),className:`w-full max-w-md p-4 border-2 rounded-lg text-lg text-center transition ${H==="correct"?"border-green-500 bg-green-50":H==="incorrect"?"border-red-500 bg-red-50":"border-slate-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}`,placeholder:"Type the English word/idiom"}),v.jsx("button",{type:"submit",className:"bg-blue-600 text-white font-bold py-3 px-8 rounded-lg text-lg hover:bg-blue-700 transition",children:"Check"})]}),H==="incorrect"&&v.jsx("button",{onClick:()=>Z(ee.english),className:"mt-4 text-sm text-slate-500 hover:text-slate-700",children:"Show Answer"})]})]}),v.jsxs("button",{onClick:Ue,className:"mt-8 flex items-center gap-2 text-slate-600 font-semibold py-3 px-6 rounded-lg hover:bg-slate-200 transition",children:[oe==="file"?"Next Word":"Next Word/Batch"," ",v.jsx(kc,{})]})]}):oe==="file"?v.jsxs("div",{className:"text-center p-8 bg-blue-100 border border-blue-300 rounded-lg",children:[v.jsx("p",{className:"text-blue-800 font-semibold",children:"Review list loaded!"}),v.jsx("p",{className:"text-blue-700 mt-2",children:"Ready to start your focused review session."})]}):v.jsx("p",{className:"text-center text-slate-500",children:"No vocabulary loaded."}),ln=({mode:se,children:qe})=>v.jsx("button",{onClick:()=>M(se),className:`px-3 py-2 text-sm font-semibold rounded-lg transition ${_===se?"bg-blue-600 text-white shadow-md":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:qe});return v.jsxs("div",{className:"w-full max-w-3xl mx-auto p-4",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("button",{onClick:e,className:"text-blue-600 hover:text-blue-800",children:"← Back to Home"}),v.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Vocabulary Mode"}),v.jsx("div",{})]}),v.jsxs("div",{className:"mb-6 p-4 bg-white rounded-lg shadow-md flex flex-col gap-4",children:[oe==="file"&&v.jsxs("div",{className:"p-3 bg-indigo-50 border border-indigo-200 rounded-lg flex flex-col sm:flex-row justify-between items-center gap-2",children:[v.jsxs("div",{className:"text-sm text-indigo-800 text-center sm:text-left",children:[v.jsx("p",{children:v.jsx("strong",{children:"Review Session Active:"})}),v.jsx("p",{className:"font-medium break-all",children:b})]}),v.jsx("button",{onClick:jl,className:"bg-indigo-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-indigo-600 transition text-sm whitespace-nowrap",children:"← Return to Standard Mode"})]}),v.jsx("fieldset",{disabled:oe==="file"||y,className:"flex flex-col gap-4",children:v.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:[v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Category:"}),v.jsx("select",{value:l,onChange:se=>o(se.target.value),className:"p-2 border rounded-md bg-slate-50 w-full disabled:opacity-70 disabled:cursor-not-allowed",children:Lt.map(se=>v.jsx("option",{value:se,children:se},se))})]}),v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Practice:"}),v.jsxs("select",{value:D,onChange:se=>q(se.target.value),className:"p-2 border rounded-md bg-slate-50 w-full disabled:opacity-70 disabled:cursor-not-allowed",children:[v.jsx("option",{value:"word",children:"Words"}),v.jsx("option",{value:"idiom",children:"Idioms"}),v.jsx("option",{value:"all",children:"All"})]})]}),v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Order:"}),v.jsxs("select",{value:ae,onChange:se=>ne(se.target.value),className:"p-2 border rounded-md bg-slate-50 w-full disabled:opacity-70 disabled:cursor-not-allowed",children:[v.jsx("option",{value:"Random",children:"Random"}),v.jsx("option",{value:"Alphabetical",children:"Alphabetical"})]})]}),D==="word"&&v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Part of Speech:"}),v.jsxs("select",{value:X,onChange:se=>J(se.target.value),className:"p-2 border rounded-md bg-slate-50 w-full disabled:opacity-70 disabled:cursor-not-allowed",children:[v.jsx("option",{value:"all",children:"All"}),ql.map(se=>v.jsx("option",{value:se,children:se},se))]})]}),v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Frequency:"}),v.jsxs("select",{value:O||"",onChange:se=>j(se.target.value?Number(se.target.value):void 0),className:"p-2 border rounded-md bg-slate-50 w-full disabled:opacity-70 disabled:cursor-not-allowed",children:[v.jsx("option",{value:"",children:"All"}),v.jsx("option",{value:"3",children:"High (★★★)"}),v.jsx("option",{value:"2",children:"Medium (★★☆)"}),v.jsx("option",{value:"1",children:"Low (★☆☆)"})]})]})]})}),v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx("label",{className:"text-sm font-semibold text-slate-600",children:"Mode:"}),v.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2",children:[v.jsx(ln,{mode:"listening",children:"Listening"}),v.jsx(ln,{mode:"writing",children:"Writing"}),v.jsx(ln,{mode:"en-jp-quiz",children:"EN → JP Quiz"}),v.jsx(ln,{mode:"jp-en-quiz",children:"JP → EN Quiz"})]})]}),(_==="en-jp-quiz"||_==="jp-en-quiz")&&v.jsxs("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg flex flex-col sm:flex-row justify-between items-center gap-2",children:[v.jsxs("div",{className:"text-sm text-blue-800",children:[v.jsx("p",{children:v.jsx("strong",{children:"Session Stats:"})}),v.jsxs("p",{children:["Learned: ",v.jsx("span",{className:"font-bold",children:Ne.size})," | For Review: ",v.jsx("span",{className:"font-bold",children:A.size})]})]}),v.jsx("button",{onClick:rn,className:"bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 transition text-sm whitespace-nowrap",disabled:A.size===0,children:"Export Review List"})]}),v.jsxs("div",{className:"border-t border-slate-200 mt-2 pt-4",children:[v.jsx("h3",{className:"text-sm font-semibold text-slate-600 mb-2",children:"Or, start a focused review session:"}),v.jsx("input",{type:"file",ref:Y,onChange:Yi,className:"hidden",accept:".json"}),v.jsx("button",{onClick:()=>{var se;return(se=Y.current)==null?void 0:se.click()},className:"w-full bg-purple-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-purple-700 transition disabled:bg-slate-400 disabled:cursor-not-allowed",disabled:oe==="file"||y,children:"Upload Review List (.json)"})]})]}),Bn()]})},hy=({className:n="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),TN=({idioms:n,isOpen:e,onClose:l})=>{const{speak:o,stop:a,isSpeaking:f}=qa();if(!e)return null;const m=(h,y)=>{a(),o(h,y)};return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:l,children:v.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-lg h-auto max-h-[80vh] flex flex-col",onClick:h=>h.stopPropagation(),children:[v.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-200 flex-shrink-0",children:[v.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Key Idioms & Phrases"}),v.jsx("button",{onClick:l,className:"text-slate-500 hover:text-slate-800",children:v.jsx(hy,{className:"w-7 h-7"})})]}),v.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[n.map((h,y)=>v.jsx("div",{className:"p-4 border rounded-lg bg-slate-50",children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-lg font-semibold text-slate-800",children:h.english}),v.jsx("p",{className:"text-md text-slate-600",children:h.japanese})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>m(h.english,"en-US"),className:"text-blue-500 hover:text-blue-700 disabled:text-slate-400",disabled:f,children:v.jsx(is,{className:"w-6 h-6"})}),v.jsx("button",{onClick:()=>m(h.japanese,"ja-JP"),className:"text-green-500 hover:text-green-700 disabled:text-slate-400",disabled:f,children:v.jsx(is,{className:"w-6 h-6"})})]})]})},y)),n.length===0&&v.jsx("p",{className:"text-slate-500 text-center py-4",children:"No specific idioms or key phrases were highlighted for this passage."})]}),v.jsx("div",{className:"p-4 border-t border-slate-200 text-right flex-shrink-0",children:v.jsx("button",{onClick:l,className:"bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition",children:"Close"})})]})})},CN=({onGoHome:n,initialCategory:e,level:l})=>{const[o,a]=L.useState(null),[f,m]=L.useState(!0),[h,y]=L.useState(null),[p,x]=L.useState(l),[C,_]=L.useState([]),[M,D]=L.useState(!1),[q,G]=L.useState(!1),[Z,H]=L.useState(!1),$=L.useCallback(async()=>{m(!0),y(null),a(null),_([]),D(!1),H(!1);try{const O=e==="Random"?Lt[Math.floor(Math.random()*Lt.length)]:e,j=await fN(p,O);!j||!j.questions||j.questions.length===0?y("Could not generate a reading passage with questions. Please try again."):(a(j),_(new Array(j.questions.length).fill(null)))}catch(O){y("An error occurred while fetching the passage."),console.error(O)}finally{m(!1)}},[p,e]);L.useEffect(()=>{$()},[$]);const X=(O,j)=>{if(M)return;const ie=[...C];ie[O]=j,_(ie)},J=()=>{D(!0)},ae=()=>{$()},ne=()=>{if(f)return v.jsx(Et,{});if(h)return v.jsx("p",{className:"text-center text-red-500 bg-red-100 p-4 rounded-lg",children:h});if(!o)return v.jsx("p",{className:"text-center text-slate-500",children:"No passage loaded."});const O=C.every(ie=>ie!==null),j=C.filter((ie,le)=>ie===o.questions[le].correctOptionIndex).length;return v.jsx("div",{className:"w-full",children:v.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[v.jsx("div",{className:"md:w-1/2 lg:w-3/5",children:v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl sticky top-4",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h2",{className:"text-2xl font-bold",children:"Reading Passage"}),M&&v.jsx("button",{onClick:()=>H(ie=>!ie),className:"bg-cyan-600 text-white font-bold py-2 px-3 rounded-lg hover:bg-cyan-700 transition text-sm",children:Z?"日本語訳を隠す":"日本語訳を表示"})]}),v.jsx("div",{className:"space-y-4 text-base leading-relaxed max-h-[65vh] overflow-y-auto pr-2",children:o.passage.map((ie,le)=>v.jsxs("div",{className:"pb-2",children:[v.jsx("p",{className:"text-slate-800 font-medium leading-relaxed",children:ie.english}),Z&&v.jsx("p",{className:"text-slate-500 mt-1 leading-relaxed",children:ie.japanese})]},le))})]})}),v.jsx("div",{className:"md:w-1/2 lg:w-2/5",children:v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl",children:[v.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Questions"}),v.jsx("div",{className:"space-y-6",children:o.questions.map((ie,le)=>{const ue=C[le];return v.jsxs("div",{className:"border-t border-slate-200 pt-4 first:border-t-0 first:pt-0",children:[v.jsxs("p",{className:"font-semibold text-slate-800 mb-3",children:[le+1,". ",ie.question]}),v.jsx("div",{className:"space-y-2",children:ie.options.map((Me,Ne)=>{const ge=ue===Ne,A=ie.correctOptionIndex===Ne;let K="w-full text-left p-3 rounded-lg border-2 transition text-sm ";return M?ge?K+=A?"bg-green-100 border-green-500 text-green-900 font-bold":"bg-red-100 border-red-500 text-red-900 font-bold":A?K+="bg-green-100 border-green-500":K+="bg-slate-50 border-slate-200 text-slate-600":K+=ge?"bg-blue-100 border-blue-500":"bg-white border-slate-300 hover:bg-blue-50 hover:border-blue-400",v.jsxs("button",{onClick:()=>X(le,Ne),disabled:M,className:K,children:["(",String.fromCharCode(65+Ne),") ",Me]},Ne)})}),M&&v.jsxs("div",{className:"mt-3 p-3 rounded-lg bg-slate-50 text-sm",children:[v.jsx("p",{className:"font-bold text-slate-700",children:"Explanation:"}),v.jsx("p",{className:"text-slate-600",children:ie.explanation})]})]},le)})}),v.jsx("div",{className:"mt-8 pt-6 border-t border-slate-200",children:M?v.jsxs("div",{className:"text-center space-y-4",children:[v.jsxs("p",{className:"text-xl font-bold",children:["Score: ",j," / ",o.questions.length]}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[v.jsx("button",{onClick:()=>G(!0),className:"bg-purple-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-purple-700 transition",children:"重要単語・熟語"}),v.jsx("button",{onClick:ae,className:"bg-slate-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-slate-700 transition",children:"新しい問題に挑戦"})]})]}):v.jsx("button",{onClick:J,disabled:!O,className:"w-full bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition disabled:bg-slate-400 disabled:cursor-not-allowed",children:O?"Check Answers":"Please answer all questions"})})]})})]})})};return v.jsxs("div",{className:"w-full max-w-7xl mx-auto p-4",children:[o&&v.jsx(TN,{idioms:o.idioms,isOpen:q,onClose:()=>G(!1)}),v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("button",{onClick:n,className:"text-blue-600 hover:text-blue-800",children:"← Back to Home"}),v.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Part 7: Reading Comprehension"}),v.jsx("div",{})]}),v.jsx("p",{className:"text-center text-slate-600 -mt-4 mb-6",children:"AIが生成した長文読解問題（パート7形式）です。"}),v.jsxs("div",{className:"mb-6 p-4 bg-white rounded-lg shadow-md flex flex-col sm:flex-row flex-wrap gap-4 justify-center items-center",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"font-semibold text-slate-600",children:"Level:"}),v.jsx("select",{value:p,onChange:O=>x(O.target.value),className:"p-2 border rounded-md bg-white text-slate-800 focus:ring-2 focus:ring-blue-500",disabled:f,children:Ln.map(O=>v.jsx("option",{value:O,children:O},O))})]}),v.jsx("button",{onClick:$,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition",disabled:f,children:f?"Generating...":"New Passage"})]}),ne()]})},py=({className:n="w-6 h-6"})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),SN=({className:n="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),_N=({level:n,onGoHome:e})=>{const[l,o]=L.useState(n),[a,f]=L.useState(Bi),[m,h]=L.useState([]),[y,p]=L.useState(0),[x,C]=L.useState(!1),[_,M]=L.useState(null),[D,q]=L.useState("paused"),[G,Z]=L.useState(null),[H,$]=L.useState("word"),[X,J]=L.useState("all"),[ae,ne]=L.useState("Random"),[O,j]=L.useState(),{speak:ie,stop:le}=qa();L.useEffect(()=>{o(n)},[n]);const ue=L.useMemo(()=>m[y],[m,y]),Me=L.useCallback(async()=>{C(!0),M(null),h([]),p(0),q("paused"),Z(null),le();try{let V=[];if(a===Bi){const b=Lt.map(Y=>$h(l,Y,H,X,"Random",O));V=(await Promise.all(b)).flat()}else V=await $h(l,a,H,X,ae,O);if(V.length===0)M("No vocabulary found for this selection. Try changing filters or wait for more words to be generated.");else{if(ae==="Random")for(let b=V.length-1;b>0;b--){const R=Math.floor(Math.random()*(b+1));[V[b],V[R]]=[V[R],V[b]]}h(V)}}catch(V){M("An error occurred while fetching vocabulary."),console.error(V)}finally{C(!1)}},[l,a,H,X,ae,le,O]);L.useEffect(()=>(Me(),()=>le()),[Me]);const Ne=L.useCallback(()=>{le(),Z(null),p(V=>(V+1)%(m.length||1))},[le,m.length]),ge=L.useCallback(()=>{D==="playing"?q("paused"):m.length>0&&q("playing")},[D,m.length]);L.useEffect(()=>{if(D!=="playing"||!ue)return;let V=!1;return(async()=>{try{const R=ue;if(await new Promise(Y=>setTimeout(Y,2e3)),V||(Z("english"),await ie(R.english,"en-US"),V)||(await new Promise(Y=>setTimeout(Y,2e3)),V)||(Z("japanese"),await ie(R.japanese,"ja-JP"),V)||(await new Promise(Y=>setTimeout(Y,2e3)),V)||(Z("example_en"),await ie(R.example_en,"en-US"),V)||(await new Promise(Y=>setTimeout(Y,2e3)),V)||(Z("example_jp"),await ie(R.example_jp,"ja-JP"),V)||(await new Promise(Y=>setTimeout(Y,2e3)),V))return;Ne()}catch(R){R instanceof Jl?console.log("Playback cancelled."):(console.error("An error occurred during speech playback:",R),q("paused"))}})(),()=>{V=!0,le()}},[D,ue,Ne,ie,le]);const A=()=>{if(!ue)return null;const V=({text:b,highlight:R,sizeClass:Y})=>v.jsx("p",{className:`${Y} break-words transition-colors duration-300 ${R?"text-blue-600 font-bold":"text-slate-800"}`,children:b});return v.jsxs("div",{className:"text-left mb-8 bg-white p-6 rounded-xl shadow-md w-full space-y-3",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("p",{className:"text-sm text-slate-500",children:[y+1," / ",m.length]}),v.jsxs("div",{className:"flex gap-2 items-center",children:[ue.pos&&v.jsx("span",{className:"capitalize text-xs font-semibold py-1 px-2 rounded-full bg-blue-200 text-blue-800",children:ue.pos.toLowerCase()}),v.jsx("span",{className:`capitalize text-xs font-semibold py-1 px-2 rounded-full ${ue.type==="idiom"?"bg-purple-200 text-purple-800":"bg-green-200 text-green-800"}`,children:ue.type})]})]}),v.jsx(V,{text:ue.english,highlight:G==="english",sizeClass:"text-2xl md:text-3xl font-bold"}),v.jsx(V,{text:ue.japanese,highlight:G==="japanese",sizeClass:"text-xl md:text-2xl"}),v.jsx("hr",{className:"my-2 border-slate-200"}),v.jsx(V,{text:ue.example_en,highlight:G==="example_en",sizeClass:"text-lg"}),v.jsx(V,{text:ue.example_jp,highlight:G==="example_jp",sizeClass:"text-base text-slate-600"})]})},K=()=>x?v.jsx(Et,{}):_?v.jsx("p",{className:"text-center text-red-500 p-4",children:_}):m.length===0?v.jsx("p",{className:"text-center text-slate-500 p-4",children:"Select filters and start learning."}):v.jsx("div",{className:"flex flex-col items-center gap-8",children:v.jsxs("div",{className:"flex items-center justify-center gap-8",children:[v.jsx("button",{onClick:ge,className:"text-blue-600 bg-white rounded-full p-2 shadow-lg hover:bg-slate-100 transition focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:D==="playing"?v.jsx(SN,{className:"w-16 h-16"}):v.jsx(py,{className:"w-16 h-16"})}),v.jsx("button",{onClick:Ne,disabled:D==="playing",className:"text-slate-700 bg-white rounded-full p-2 shadow-lg hover:bg-slate-100 transition disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500",children:v.jsx(kc,{className:"w-12 h-12"})})]})}),oe=({type:V,children:b})=>v.jsx("button",{onClick:()=>$(V),disabled:D==="playing"||x,className:`flex-1 px-4 py-2 rounded-md text-sm font-semibold transition ${H===V?"bg-white shadow":"disabled:opacity-50"}`,children:b});return v.jsxs("div",{className:"w-full max-w-3xl mx-auto p-4 flex flex-col h-[calc(100vh-2rem)]",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6 flex-shrink-0",children:[v.jsx("button",{onClick:e,className:"text-blue-600 hover:text-blue-800",children:"← Back to Home"}),v.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Drive Mode"}),v.jsx("div",{})]}),v.jsx("div",{className:"mb-6 p-4 bg-white rounded-lg shadow-md flex flex-col gap-4 flex-shrink-0",children:v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 items-end",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"level-select",className:"block text-sm font-semibold text-slate-600 mb-1",children:"Level:"}),v.jsx("select",{id:"level-select",value:l,onChange:V=>o(V.target.value),disabled:D==="playing"||x,className:"w-full p-2 border rounded-md bg-slate-50 focus:ring-2 focus:ring-blue-500",children:Ln.map(V=>v.jsx("option",{value:V,children:V},V))})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"category-select",className:"block text-sm font-semibold text-slate-600 mb-1",children:"Category:"}),v.jsx("select",{id:"category-select",value:a,onChange:V=>f(V.target.value),disabled:D==="playing"||x,className:"w-full p-2 border rounded-md bg-slate-50 focus:ring-2 focus:ring-blue-500",children:Rg.map(V=>v.jsx("option",{value:V,children:V},V))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-600 mb-1",children:"Practice:"}),v.jsxs("div",{className:"flex-1 flex gap-1 rounded-lg p-1 bg-slate-200",children:[v.jsx(oe,{type:"word",children:"Words"}),v.jsx(oe,{type:"idiom",children:"Idioms"}),v.jsx(oe,{type:"all",children:"All"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-600 mb-1",children:"Order:"}),v.jsxs("select",{value:ae,onChange:V=>ne(V.target.value),className:"p-2 border rounded-md bg-slate-50 w-full",disabled:D==="playing"||x,children:[v.jsx("option",{value:"Random",children:"Random"}),v.jsx("option",{value:"Alphabetical",children:"Alphabetical"})]})]}),H==="word"&&v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-600 mb-1",children:"Part of Speech:"}),v.jsxs("select",{value:X,onChange:V=>J(V.target.value),className:"p-2 border rounded-md bg-slate-50 w-full",disabled:D==="playing"||x,children:[v.jsx("option",{value:"all",children:"All Parts of Speech"}),ql.map(V=>v.jsx("option",{value:V,children:V},V))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-slate-600 mb-1",children:"Frequency:"}),v.jsxs("select",{value:O||"",onChange:V=>j(V.target.value?Number(V.target.value):void 0),disabled:D==="playing"||x,className:"p-2 border rounded-md bg-slate-50 w-full",children:[v.jsx("option",{value:"",children:"All Frequencies"}),v.jsx("option",{value:"3",children:"High (★★★)"}),v.jsx("option",{value:"2",children:"Medium (★★☆)"}),v.jsx("option",{value:"1",children:"Low (★☆☆)"})]})]})]})}),v.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center bg-slate-200 rounded-2xl p-4 md:p-8",children:[A(),K()]})]})},bN=({passage:n,title:e,onClose:l})=>v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:l,children:v.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl h-[80vh] flex flex-col",onClick:o=>o.stopPropagation(),children:[v.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-200 flex-shrink-0",children:[v.jsxs("h2",{className:"text-xl font-bold text-slate-800",children:[e," - Full Script"]}),v.jsx("button",{onClick:l,className:"text-slate-500 hover:text-slate-800",children:v.jsx(hy,{className:"w-7 h-7"})})]}),v.jsx("div",{className:"p-6 overflow-y-auto space-y-4",children:n.map((o,a)=>v.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg",children:[v.jsx("p",{className:"text-slate-800 font-medium leading-relaxed",children:o.english}),v.jsx("p",{className:"text-slate-500 mt-1 leading-relaxed",children:o.japanese})]},a))}),v.jsx("div",{className:"p-4 border-t border-slate-200 text-right flex-shrink-0",children:v.jsx("button",{onClick:l,className:"bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition",children:"Close"})})]})}),EN=({onGoHome:n,initialCategory:e,level:l,part:o})=>{const[a,f]=L.useState(null),[m,h]=L.useState("loading"),[y,p]=L.useState(null),[x,C]=L.useState(null),[_,M]=L.useState(l),[D,q]=L.useState(!1),{speak:G,stop:Z,isSpeaking:H}=qa(),$=L.useCallback(async()=>{h("loading"),p(null),f(null),C(null),q(!1),Z();try{const O=e==="Random"?Lt[Math.floor(Math.random()*Lt.length)]:e,j=await dN(o,_,O);if(!j)throw new Error("AI failed to generate a valid exercise. Please try again.");f(j),h("ready")}catch(O){p(O.message||"An error occurred while fetching the exercise."),h("ready"),console.error(O)}},[_,e,o,Z]);L.useEffect(()=>($(),()=>Z()),[$]);const X=L.useCallback(async()=>{if(!(!a||H)){h("listening");try{if(a.part===kt.Part2){await G(a.question,"en-US"),await new Promise(O=>setTimeout(O,500));for(const O of a.options)await G(O,"en-US"),await new Promise(j=>setTimeout(j,400))}else for(const O of a.passage)await G(O.english,"en-US"),await new Promise(j=>setTimeout(j,300));h("answering")}catch(O){O instanceof Jl?console.log("Playback was cancelled."):p("An audio playback error occurred."),h("ready")}}},[a,H,G]),J=L.useCallback(async()=>{if(!(!a||H))try{if(a.part===kt.Part2)await G(a.question,"en-US");else for(const O of a.passage)await G(O.english,"en-US"),await new Promise(j=>setTimeout(j,300))}catch(O){O instanceof Jl||console.error("Replay error:",O)}},[a,H,G]),ae=O=>{m==="answering"&&(C(O),h("answered"))},ne=()=>{if(m==="loading")return v.jsx(Et,{});if(y)return v.jsx("p",{className:"text-center text-red-500 bg-red-100 p-4 rounded-lg",children:y});if(!a)return v.jsx("p",{className:"text-center text-slate-500",children:"No exercise loaded."});const O=x===a.correctOptionIndex,j=a.part===kt.Part2;return v.jsxs("div",{className:"w-full bg-white p-6 md:p-8 rounded-2xl shadow-xl flex flex-col items-center",children:[v.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4 text-center",children:j?"Question-Response":a.title}),m==="ready"&&v.jsxs("button",{onClick:X,className:"bg-blue-600 text-white font-bold py-4 px-8 rounded-lg text-xl hover:bg-blue-700 transition flex items-center gap-3",children:[v.jsx(py,{className:"w-8 h-8"})," Start Listening"]}),m==="listening"&&v.jsxs("div",{className:"text-center my-8",children:[v.jsx(is,{className:"w-16 h-16 text-blue-500 animate-pulse"}),v.jsx("p",{className:"mt-4 text-slate-600 font-semibold",children:"Listen carefully..."})]}),(m==="answering"||m==="answered")&&v.jsxs("div",{className:"w-full text-left mt-4",children:[!j&&v.jsx("p",{className:"text-lg font-semibold text-slate-700 mb-4",children:a.question}),v.jsx("div",{className:"space-y-3",children:a.options.map((ie,le)=>{const ue=x===le;let Me="w-full text-left p-4 rounded-lg border-2 transition-all duration-300 ";m==="answered"?ue?Me+=O?"bg-green-100 border-green-500 text-green-900 font-bold":"bg-red-100 border-red-500 text-red-900 font-bold":le===a.correctOptionIndex?Me+="bg-green-100 border-green-500":Me+="bg-slate-50 border-slate-200 text-slate-600":Me+="bg-white border-slate-300 hover:bg-blue-50 hover:border-blue-400";const Ne=j?`(${String.fromCharCode(65+le)}) ${ie}`:ie.en,ge=j?null:ie.jp;return v.jsxs("button",{onClick:()=>ae(le),disabled:m==="answered",className:Me,children:[v.jsx("p",{children:Ne}),m==="answered"&&ge&&v.jsx("p",{className:"text-sm text-slate-500 mt-1",children:ge})]},le)})})]}),m==="answered"&&v.jsxs("div",{className:"w-full mt-6 space-y-4",children:[v.jsxs("div",{className:"p-4 rounded-lg bg-slate-50 border border-slate-200",children:[v.jsx("h3",{className:`text-xl font-bold mb-2 ${O?"text-green-600":"text-red-600"}`,children:O?"Correct!":"Incorrect"}),v.jsx("p",{className:"text-slate-700",children:a.explanation})]}),!j&&v.jsx("button",{onClick:()=>q(!0),className:"w-full bg-slate-100 text-slate-700 font-bold py-3 px-6 rounded-lg hover:bg-slate-200 border border-slate-300 transition",children:"View Full Script & Translation"}),v.jsxs("div",{className:"flex justify-center items-center gap-4 pt-2",children:[v.jsx("button",{onClick:J,disabled:H,className:"flex-1 bg-sky-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-sky-600 transition disabled:bg-slate-400",children:"Replay Audio"}),v.jsx("button",{onClick:$,className:"flex-1 bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition",children:"Next Exercise"})]})]})]})};return v.jsxs("div",{className:"w-full max-w-3xl mx-auto p-4",children:[D&&a&&a.part!==kt.Part2&&v.jsx(bN,{passage:a.passage,title:a.title,onClose:()=>q(!1)}),v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("button",{onClick:n,className:"text-blue-600 hover:text-blue-800",children:"← Back to Home"}),v.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:o}),v.jsx("div",{})]}),v.jsxs("div",{className:"mb-6 p-4 bg-white rounded-lg shadow-md flex gap-4 justify-center items-center",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"font-semibold text-slate-600",children:"Level:"}),v.jsx("select",{value:_,onChange:O=>M(O.target.value),className:"p-2 border rounded-md bg-white text-slate-800 focus:ring-2 focus:ring-blue-500",disabled:m==="loading"||m==="listening",children:Ln.map(O=>v.jsx("option",{value:O,children:O},O))})]}),v.jsx("button",{onClick:$,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition",disabled:m==="loading"||m==="listening",children:"New Exercise"})]}),ne()]})},AN=({onGoHome:n,initialCategory:e,level:l})=>{const[o,a]=L.useState(null),[f,m]=L.useState("loading"),[h,y]=L.useState(null),[p,x]=L.useState(null),[C,_]=L.useState(l),M=L.useCallback(async()=>{m("loading"),y(null),a(null),x(null);try{const G=e==="Random"?Lt[Math.floor(Math.random()*Lt.length)]:e,Z=await mN(C,G);if(!Z||!Z.options||Z.options.length!==4)throw new Error("AI failed to generate a valid exercise. Please try again.");a(Z),m("answering")}catch(G){y(G.message||"An error occurred while fetching the exercise."),m("answering"),console.error(G)}},[C,e]);L.useEffect(()=>{M()},[M]);const D=G=>{f==="answering"&&(x(G),m("answered"))},q=()=>{if(f==="loading")return v.jsx(Et,{});if(h)return v.jsx("p",{className:"text-center text-red-500 bg-red-100 p-4 rounded-lg",children:h});if(!o)return v.jsx("p",{className:"text-center text-slate-500",children:"No exercise loaded."});const G=p===o.correctOptionIndex,Z=o.sentence_with_blank.replace("____",`[ ${o.options[o.correctOptionIndex]} ]`);return v.jsxs("div",{className:"w-full bg-white p-6 md:p-8 rounded-2xl shadow-xl flex flex-col items-center",children:[v.jsx("p",{className:"text-lg md:text-xl font-medium text-slate-700 mb-6 text-center leading-relaxed",children:f==="answered"?v.jsx("span",{className:"p-1 bg-yellow-100 rounded",children:Z}):o.sentence_with_blank}),v.jsx("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 gap-3",children:o.options.map((H,$)=>{const X=p===$;let J="w-full text-left p-4 rounded-lg border-2 transition-all duration-300 ";return f==="answered"?X?J+=G?"bg-green-100 border-green-500 text-green-900 font-bold":"bg-red-100 border-red-500 text-red-900 font-bold":$===o.correctOptionIndex?J+="bg-green-100 border-green-500":J+="bg-slate-50 border-slate-200 text-slate-600":J+="bg-white border-slate-300 hover:bg-blue-50 hover:border-blue-400",v.jsxs("button",{onClick:()=>D($),disabled:f==="answered",className:J,children:["(",String.fromCharCode(65+$),") ",H]},$)})}),f==="answered"&&v.jsxs("div",{className:"w-full mt-6 space-y-4",children:[v.jsxs("div",{className:"p-4 rounded-lg bg-slate-50 border border-slate-200",children:[v.jsx("h3",{className:`text-xl font-bold mb-2 ${G?"text-green-600":"text-red-600"}`,children:G?"Correct! (正解)":"Incorrect (不正解)"}),v.jsx("p",{className:"font-bold text-slate-700 mt-3",children:"解説 (Explanation):"}),v.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:o.explanation_jp})]}),v.jsx("button",{onClick:M,className:"w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition",children:"Next Question"})]})]})};return v.jsxs("div",{className:"w-full max-w-3xl mx-auto p-4",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("button",{onClick:n,className:"text-blue-600 hover:text-blue-800",children:"← Back to Home"}),v.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Part 5: Sentence Completion"}),v.jsx("div",{})]}),v.jsxs("div",{className:"mb-6 p-4 bg-white rounded-lg shadow-md flex gap-4 justify-center items-center",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"font-semibold text-slate-600",children:"Level:"}),v.jsx("select",{value:C,onChange:G=>_(G.target.value),className:"p-2 border rounded-md bg-white text-slate-800 focus:ring-2 focus:ring-blue-500",disabled:f==="loading",children:Ln.map(G=>v.jsx("option",{value:G,children:G},G))})]}),v.jsx("button",{onClick:M,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition",disabled:f==="loading",children:"New Question"})]}),q()]})},wN=({onGoHome:n,initialCategory:e,level:l})=>{const[o,a]=L.useState(null),[f,m]=L.useState(0),[h,y]=L.useState("loading"),[p,x]=L.useState(null),[C,_]=L.useState(null),[M,D]=L.useState([]),[q,G]=L.useState(l),Z=L.useCallback(async()=>{y("loading"),x(null),a(null),m(0),_(null),D([]);try{const ne=e==="Random"?Lt[Math.floor(Math.random()*Lt.length)]:e,O=await hN(q,ne);if(!O||!O.questions||O.questions.length===0)throw new Error("AI failed to generate a valid exercise. Please try again.");a(O),D(new Array(O.questions.length).fill(null)),y("answering")}catch(ne){x(ne.message||"An error occurred while fetching the exercise."),y("answering"),console.error(ne)}},[q,e]);L.useEffect(()=>{Z()},[Z]);const H=o==null?void 0:o.questions[f],$=ne=>{if(h!=="answering"||!H)return;_(ne),y("answered");const O=[...M];O[f]=H.options[ne],D(O)},X=()=>{o&&(_(null),f<o.questions.length-1?(m(ne=>ne+1),y("answering")):y("answered"))},J=()=>{if(!o)return null;let ne=o.passage;return o.questions.forEach((O,j)=>{const ie=O.blank_number;let le,ue;j<f||j===f&&h==="answered"?(le=M[j]||`[${ie}]`,ue=M[j]===O.options[O.correctOptionIndex]?"bg-green-200 text-green-900 font-bold":"bg-red-200 text-red-900 font-bold"):j===f&&h==="answering"?(le=`[${ie}]`,ue="bg-yellow-300 font-bold animate-pulse"):(le=`[${ie}]`,ue="bg-slate-200 font-bold"),ne=ne.replace(`[${ie}]`,`<span class="px-2 py-1 rounded-md ${ue}">${le}</span>`)}),v.jsx("p",{className:"text-base md:text-lg text-slate-800 mb-6 leading-relaxed whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:ne}})},ae=()=>{if(h==="loading")return v.jsx(Et,{});if(p)return v.jsx("p",{className:"text-center text-red-500 bg-red-100 p-4 rounded-lg",children:p});if(!o||!H)return v.jsx("p",{className:"text-center text-slate-500",children:"No exercise loaded."});const ne=C===H.correctOptionIndex,O=f===o.questions.length-1&&h==="answered";return v.jsxs("div",{className:"w-full bg-white p-6 md:p-8 rounded-2xl shadow-xl flex flex-col items-center",children:[J(),v.jsxs("div",{className:"w-full border-t border-slate-200 pt-6",children:[v.jsxs("p",{className:"text-lg font-semibold text-slate-700 mb-4",children:["Question for blank [",H.blank_number,"]"]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:H.options.map((j,ie)=>{const le=C===ie;let ue="w-full text-left p-4 rounded-lg border-2 transition-all duration-300 ";return h==="answered"?le?ue+=ne?"bg-green-100 border-green-500 font-bold":"bg-red-100 border-red-500 font-bold":ie===H.correctOptionIndex?ue+="bg-green-100 border-green-500":ue+="bg-slate-50 border-slate-200 text-slate-600":ue+="bg-white border-slate-300 hover:bg-blue-50 hover:border-blue-400",v.jsxs("button",{onClick:()=>$(ie),disabled:h==="answered",className:ue,children:["(",String.fromCharCode(65+ie),") ",j]},ie)})})]}),h==="answered"&&v.jsxs("div",{className:"w-full mt-6 space-y-4",children:[v.jsxs("div",{className:"p-4 rounded-lg bg-slate-50 border border-slate-200",children:[v.jsx("h3",{className:`text-xl font-bold mb-2 ${ne?"text-green-600":"text-red-600"}`,children:ne?"Correct! (正解)":"Incorrect (不正解)"}),v.jsx("p",{className:"font-bold text-slate-700 mt-3",children:"解説 (Explanation):"}),v.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:H.explanation_jp})]}),v.jsx("button",{onClick:O?Z:X,className:"w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition",children:O?"New Passage":"Next Question"})]})]})};return v.jsxs("div",{className:"w-full max-w-4xl mx-auto p-4",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("button",{onClick:n,className:"text-blue-600 hover:text-blue-800",children:"← Back to Home"}),v.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Part 6: Text Completion"}),v.jsx("div",{})]}),v.jsxs("div",{className:"mb-6 p-4 bg-white rounded-lg shadow-md flex gap-4 justify-center items-center",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"font-semibold text-slate-600",children:"Level:"}),v.jsx("select",{value:q,onChange:ne=>G(ne.target.value),className:"p-2 border rounded-md bg-white text-slate-800 focus:ring-2 focus:ring-blue-500",disabled:h==="loading",children:Ln.map(ne=>v.jsx("option",{value:ne,children:ne},ne))})]}),v.jsx("button",{onClick:Z,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition",disabled:h==="loading",children:"New Passage"})]}),ae()]})},MN=({onGoHome:n})=>{const[e,l]=L.useState([]),[o,a]=L.useState(!0),[f,m]=L.useState(null),[h,y]=L.useState(1),[p,x]=L.useState(20),[C,_]=L.useState(1),[M,D]=L.useState(0),[q,G]=L.useState({sortOrder:"default"}),[Z,H]=L.useState(!1),[$,X]=L.useState(""),[J,ae]=L.useState(0),ne=L.useCallback(async()=>{a(!0),m(null);try{const{items:A,total:K}=await cx(h,p,q);l(A),_(Math.ceil(K/p)),D(K)}catch(A){console.error("Failed to fetch word list:",A),m("Could not retrieve word list from the database.")}finally{a(!1)}},[h,p,q]),O=L.useCallback(async()=>{try{const A=await Kh();ae(A.length)}catch(A){console.error("Failed to fetch uncategorized count:",A)}},[]);L.useEffect(()=>{O()},[O]),L.useEffect(()=>{const A=setTimeout(()=>{ne()},300);return()=>clearTimeout(A)},[ne]);const j=(A,K)=>{if(y(1),A==="frequencyLevel"){const oe=K?parseInt(K,10):void 0;G(V=>({...V,[A]:oe}))}else G(oe=>({...oe,[A]:K||void 0}))},ie=A=>{x(Number(A)),y(1)},le=async A=>{alert(`Preparing all ${A}s for download. This might take a moment for large databases.`);try{const V=(await fx()).filter(W=>W.type===A).filter(W=>{const de=W&&typeof W.english=="string"&&W.english.length>0&&typeof W.japanese=="string"&&typeof W.example_en=="string"&&typeof W.example_jp=="string"&&typeof W.level=="string"&&typeof W.category=="string"&&typeof W.type=="string"&&(W.type==="word"||W.type==="idiom");return de||console.warn("Skipping potentially malformed item during JSON export:",W),de}).map(W=>({english:W.english,japanese:W.japanese,pos:W.pos??null,example_en:W.example_en,example_jp:W.example_jp,level:W.level,category:W.category,type:W.type}));if(V.length===0){alert(`No ${A}s found in the database to export.`);return}const b=JSON.stringify({vocabulary:V},null,2),R="data:application/json;charset=utf-8,"+encodeURIComponent(b),Y=`toeic_${A}s_export.json`,Q=document.createElement("a");Q.setAttribute("href",R),Q.setAttribute("download",Y),Q.click()}catch(K){alert(`Failed to export ${A}s. Please check the console for errors.`),console.error(`Export for ${A} failed:`,K)}},ue=L.useCallback(async()=>{H(!0),X("Fetching uncategorized items...");try{const A=await Kh();if(A.length===0){X("All items are already categorized. Nothing to do!"),H(!1);return}const K=100,oe=Math.ceil(A.length/K);let V=0;for(let b=0;b<oe;b++){const R=A.slice(b*K,(b+1)*K);X(`Analyzing batch ${b+1} of ${oe}... (${R.length} items)`);const Y=R.map(W=>({id:W.id,type:W.type,english:W.english})),Q=await yN(Y);if(Q)await dx(Q),V+=R.length,await O();else throw new Error(`AI analysis failed for batch ${b+1}. No results returned.`)}X(`Analysis complete! Processed ${V} items.`),H(!1),ne()}catch(A){console.error(A),X(`Error during analysis: ${A.message}. Process stopped.`),H(!1)}},[O,ne]),Me=A=>{if(A===void 0)return v.jsx("span",{className:"text-slate-400",children:"-"});const K="★".repeat(A)+"☆".repeat(3-A),oe=["text-slate-400","text-yellow-500","text-orange-500","text-red-500"],V=["N/A","低","中","高"];return v.jsx("span",{className:`${oe[A]} font-bold`,title:`頻出度: ${V[A]}`,children:K})},Ne=()=>C<=1?null:v.jsxs("div",{className:"flex justify-center items-center gap-2 mt-6",children:[v.jsx("button",{onClick:()=>y(A=>Math.max(1,A-1)),disabled:h===1,className:"px-4 py-2 bg-white border rounded-md shadow-sm disabled:opacity-50",children:"← Prev"}),v.jsxs("span",{className:"text-slate-600",children:["Page ",h," of ",C]}),v.jsx("button",{onClick:()=>y(A=>Math.min(C,A+1)),disabled:h===C,className:"px-4 py-2 bg-white border rounded-md shadow-sm disabled:opacity-50",children:"Next →"})]}),ge="w-full p-2 border rounded-md bg-white text-slate-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500";return v.jsxs("div",{className:"w-full max-w-5xl mx-auto p-4",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("button",{onClick:n,className:"text-blue-600 hover:text-blue-800",children:"← Back to Home"}),v.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Vocabulary List"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>le("word"),className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition text-sm",children:"Export Words"}),v.jsx("button",{onClick:()=>le("idiom"),className:"bg-purple-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-purple-700 transition text-sm",children:"Export Idioms"})]})]}),v.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md mb-6",children:[v.jsx("h2",{className:"text-xl font-bold text-slate-700 mb-2",children:"AI 頻出度分析"}),v.jsx("p",{className:"text-slate-600 mb-3",children:"データベース内の未分類の単語・熟語のTOEICでの頻出度をAIが分析し、高・中・低の3段階でレベルを割り振ります。"}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[v.jsx("button",{onClick:ue,disabled:Z||J===0,className:"bg-indigo-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-indigo-700 transition disabled:bg-slate-400 disabled:cursor-not-allowed flex-grow",children:Z?"分析中...":`頻出度の振り分けを開始 (${J}件)`}),Z&&v.jsxs("div",{className:"w-full sm:w-auto flex items-center gap-3",children:[v.jsx(Et,{}),v.jsx("span",{className:"text-indigo-700 font-semibold",children:$})]})]}),!Z&&$&&v.jsx("p",{className:"text-sm text-slate-600 mt-2",children:$})]}),v.jsx("div",{className:"p-4 bg-white rounded-lg shadow-md mb-6",children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[v.jsx("input",{type:"text",placeholder:"Search English/Japanese...",onChange:A=>j("search",A.target.value),className:`${ge} lg:col-span-4`}),v.jsxs("select",{onChange:A=>j("level",A.target.value),className:ge,children:[v.jsx("option",{value:"",children:"All Levels"}),Ln.map(A=>v.jsx("option",{value:A,children:A},A))]}),v.jsxs("select",{onChange:A=>j("category",A.target.value),className:ge,children:[v.jsx("option",{value:"",children:"All Categories"}),Lt.map(A=>v.jsx("option",{value:A,children:A},A))]}),v.jsxs("select",{onChange:A=>j("type",A.target.value),className:ge,children:[v.jsx("option",{value:"",children:"All Types"}),v.jsx("option",{value:"word",children:"Word"}),v.jsx("option",{value:"idiom",children:"Idiom"})]}),v.jsxs("select",{onChange:A=>j("frequencyLevel",A.target.value),className:ge,children:[v.jsx("option",{value:"",children:"All Frequencies"}),v.jsx("option",{value:"3",children:"高 (★★★)"}),v.jsx("option",{value:"2",children:"中 (★★☆)"}),v.jsx("option",{value:"1",children:"低 (★☆☆)"})]}),v.jsxs("select",{value:q.sortOrder,onChange:A=>j("sortOrder",A.target.value),className:ge,children:[v.jsx("option",{value:"default",children:"Default Order"}),v.jsx("option",{value:"alphabetical",children:"Alphabetical (A-Z)"})]}),v.jsxs("select",{value:p,onChange:A=>ie(A.target.value),className:ge,children:[v.jsx("option",{value:"20",children:"20 / page"}),v.jsx("option",{value:"40",children:"40 / page"}),v.jsx("option",{value:"100",children:"100 / page"})]})]})}),o?v.jsx(Et,{}):f?v.jsx("p",{className:"text-red-500 text-center",children:f}):v.jsxs("div",{children:[v.jsxs("div",{className:"mb-4 text-slate-600",children:["Found ",v.jsx("span",{className:"font-bold",children:M})," matching items."]}),v.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[v.jsx("thead",{className:"bg-slate-50",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"English"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Japanese"}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider hidden md:table-cell",children:"Details"}),v.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider hidden lg:table-cell",children:"Frequency"})]})}),v.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:e.map(A=>v.jsxs("tr",{children:[v.jsxs("td",{className:"px-6 py-4 whitespace-normal",children:[v.jsx("div",{className:"text-sm font-medium text-slate-900",children:A.english}),v.jsx("div",{className:"text-sm text-slate-500 hidden sm:block",children:A.example_en})]}),v.jsxs("td",{className:"px-6 py-4 whitespace-normal",children:[v.jsx("div",{className:"text-sm text-slate-900",children:A.japanese}),v.jsx("div",{className:"text-sm text-slate-500 hidden sm:block",children:A.example_jp})]}),v.jsx("td",{className:"px-4 py-4 whitespace-normal hidden md:table-cell",children:v.jsxs("div",{className:"flex flex-col gap-1 items-start",children:[v.jsx("span",{className:`capitalize text-xs font-semibold py-1 px-2 rounded-full ${A.type==="idiom"?"bg-purple-200 text-purple-800":"bg-green-200 text-green-800"}`,children:A.type}),A.pos&&v.jsx("span",{className:"capitalize text-xs font-semibold py-1 px-2 rounded-full bg-blue-200 text-blue-800",children:A.pos}),v.jsx("span",{className:"text-xs text-slate-500 py-1 px-2",children:A.level})]})}),v.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-lg text-center hidden lg:table-cell",children:Me(A.frequencyLevel)})]},A.id))})]})}),e.length===0&&v.jsx("p",{className:"text-center text-slate-500 p-8",children:"No items match your filters."}),Ne()]})]})},NN=({onGoHome:n})=>{const[e,l]=L.useState("selecting"),[o,a]=L.useState(new Set),[f,m]=L.useState(qi.Beginner),[h,y]=L.useState(null),[p,x]=L.useState(null),[C,_]=L.useState(null),[M,D]=L.useState(0),[q,G]=L.useState([]),[Z,H]=L.useState(!1),[$,X]=L.useState(null),J=V=>{a(b=>{const R=new Set(b);return R.has(V)?R.delete(V):R.add(V),R})},ae=V=>{V.target.checked?a(new Set(va)):a(new Set)},ne=L.useCallback(async()=>{if(o.size!==1)return;const V=Array.from(o)[0];y(V),l("learning"),H(!0),X(null),x(null),_(null);try{const b=await pN(V);if(!b)throw new Error("AIから解説を取得できませんでした。");x(b)}catch(b){X(b.message||"解説の生成中にエラーが発生しました。")}finally{H(!1)}},[o]),O=L.useCallback(async()=>{if(o.size===0)return;const V=Array.from(o);y(null),l("quizzing"),H(!0),X(null),_(null);try{const b=await Mg(V,void 0,f);if(!b||b.length===0)throw new Error("AIからクイズを取得できませんでした。");_(b),G(new Array(b.length).fill(null)),D(0)}catch(b){X(b.message||"クイズの生成中にエラーが発生しました。")}finally{H(!1)}},[o,f]),j=L.useCallback(async()=>{if(!(!h||!p)){l("quizzing"),H(!0),X(null);try{const V=await Mg([h],p);if(!V||V.length===0)throw new Error("AIからクイズを取得できませんでした。");_(V),G(new Array(V.length).fill(null)),D(0)}catch(V){X(V.message||"クイズの生成中にエラーが発生しました。")}finally{H(!1)}}},[h,p]),ie=V=>{if(C===null||q[M]!==null)return;const b=[...q];b[M]=V,G(b)},le=()=>{C!==null&&(M<C.length-1?D(V=>V+1):l("results"))},ue=()=>{l("selecting"),a(new Set),y(null),x(null),_(null),D(0),G([]),X(null)},Me=()=>{if(!h){ue();return}a(new Set([h])),ne()},Ne=()=>v.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-2xl shadow-xl",children:[v.jsx("h2",{className:"text-2xl font-bold text-center text-slate-800 mb-2",children:"学習方法を選択してください"}),v.jsx("p",{className:"text-center text-slate-600 mb-6",children:"解説を読んでからクイズに挑戦するか、複数のトピックを選んで練習クイズに挑戦できます。"}),v.jsxs("div",{className:"border rounded-lg p-4 max-h-[40vh] overflow-y-auto mb-6",children:[v.jsxs("div",{className:"flex items-center justify-between border-b pb-2 mb-2",children:[v.jsx("label",{htmlFor:"select-all",className:"font-semibold text-slate-700",children:"文法トピック"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{htmlFor:"select-all",className:"text-sm text-slate-600",children:"全て選択"}),v.jsx("input",{type:"checkbox",id:"select-all",checked:o.size===va.length&&va.length>0,onChange:ae,className:"h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]})]}),v.jsx("div",{className:"space-y-2",children:va.map(V=>v.jsxs("label",{htmlFor:`topic-${V}`,className:"flex items-center p-2 rounded-md hover:bg-slate-100 cursor-pointer",children:[v.jsx("input",{type:"checkbox",id:`topic-${V}`,checked:o.has(V),onChange:()=>J(V),className:"h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),v.jsx("span",{className:"ml-3 text-slate-800",children:V})]},V))})]}),v.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-slate-50",children:[v.jsx("label",{htmlFor:"practice-level-select",className:"block text-lg font-medium text-slate-700 mb-2",children:"練習クイズのレベル"}),v.jsx("select",{id:"practice-level-select",value:f,onChange:V=>m(V.target.value),className:"w-full p-3 border border-slate-300 rounded-lg bg-white text-base focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",children:Ln.map(V=>v.jsx("option",{value:V,children:V},V))}),v.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["上記のレベルは「練習クイズを開始」ボタンに適用されます。",v.jsx("br",{}),"解説を読むモードはトピックの基本を学習します。"]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("button",{onClick:ne,disabled:o.size!==1,className:"bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition shadow-md disabled:bg-slate-400 disabled:cursor-not-allowed flex flex-col items-center justify-center text-center",children:["解説を読んでからクイズ",v.jsx("span",{className:"text-xs font-normal opacity-80",children:"(トピックを1つ選択)"})]}),v.jsxs("button",{onClick:O,disabled:o.size===0,className:"bg-rose-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-rose-600 transition shadow-md disabled:bg-slate-400 disabled:cursor-not-allowed flex flex-col items-center justify-center text-center",children:["練習クイズを開始",v.jsx("span",{className:"text-xs font-normal opacity-80",children:"(50問 / 1つ以上選択)"})]})]})]}),ge=()=>v.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-2xl shadow-xl w-full",children:[v.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-4",children:h}),Z&&v.jsx(Et,{}),$&&v.jsx("p",{className:"text-red-500 bg-red-100 p-4 rounded-lg",children:$}),p&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"max-h-[50vh] overflow-y-auto pr-4 mb-6",children:v.jsx("p",{className:"text-slate-700 whitespace-pre-wrap leading-relaxed",children:p})}),v.jsx("button",{onClick:j,className:"w-full bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition text-lg",children:"理解度チェッククイズに進む"})]})]}),A=()=>{const V=C==null?void 0:C[M],b=q[M];return V?v.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-2xl shadow-xl w-full",children:[v.jsxs("p",{className:"text-sm text-slate-500 mb-2 text-right",children:["Question ",M+1," / ",C==null?void 0:C.length]}),v.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-2",children:V.question_jp}),v.jsx("p",{className:"text-xl font-medium text-slate-800 mb-6 bg-slate-100 p-4 rounded-md",children:V.sentence_with_blank}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:V.options.map((R,Y)=>{const Q=b===Y,W=V.correctOptionIndex===Y;let de="w-full text-left p-4 rounded-lg border-2 transition-all duration-300 ";return b!==null?Q?de+=W?"bg-green-100 border-green-500 text-green-900":"bg-red-100 border-red-500 text-red-900":W?de+="bg-green-100 border-green-500":de+="bg-slate-50 border-slate-200 text-slate-600":de+="bg-white border-slate-300 hover:bg-blue-50 hover:border-blue-400",v.jsxs("button",{onClick:()=>ie(Y),disabled:b!==null,className:de,children:["(",String.fromCharCode(65+Y),") ",R]},Y)})}),b!==null&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"w-full mt-6 p-4 rounded-lg bg-slate-50 border border-slate-200",children:[v.jsx("p",{className:"font-bold text-slate-700",children:"解説:"}),v.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:V.explanation_jp})]}),v.jsx("button",{onClick:le,className:"w-full mt-4 bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition",children:M<((C==null?void 0:C.length)??0)-1?"次の問題へ":"結果を見る"})]})]}):v.jsx(Et,{})},K=()=>{const V=(C==null?void 0:C.filter((Y,Q)=>Y.correctOptionIndex===q[Q]).length)||0,b=(C==null?void 0:C.length)||0,R=!h;return v.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-2xl shadow-xl w-full text-center",children:[v.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-4",children:"クイズ結果"}),v.jsxs("p",{className:"text-5xl font-bold text-blue-600 my-6",children:[V," / ",b]}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-8",children:[v.jsx("button",{onClick:R?O:Me,className:"flex-1 bg-slate-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-slate-700 transition",children:R?"同じ設定で再度練習":"もう一度学習する"}),v.jsx("button",{onClick:ue,className:"flex-1 bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition",children:"別のトピックを選ぶ"})]})]})},oe=()=>{if(Z&&e!=="quizzing"&&e!=="learning")return v.jsx(Et,{});switch(e){case"selecting":return Ne();case"learning":return ge();case"quizzing":return Z?v.jsx(Et,{}):A();case"results":return K();default:return v.jsx("p",{children:"エラーが発生しました。"})}};return v.jsxs("div",{className:"w-full max-w-3xl mx-auto p-4",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsxs("button",{onClick:e==="selecting"?n:ue,className:"text-blue-600 hover:text-blue-800",children:["← ",e==="selecting"?"Back to Home":"Back to Topics"]}),v.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"基礎文法モード"}),v.jsx("div",{})]}),oe()]})},RN=({onGoHome:n})=>{const[e,l]=L.useState(""),[o,a]=L.useState(null),[f,m]=L.useState(!1),[h,y]=L.useState(null),p=L.useCallback(async()=>{if(!e.trim()){y("Please enter a sentence to check.");return}m(!0),y(null),a(null);try{const _=await gN(e);if(!_)throw new Error("AI failed to return a valid response. Please try again.");a(_)}catch(_){y(_.message||"An unexpected error occurred."),console.error(_)}finally{m(!1)}},[e]),x=()=>{l(""),a(null),y(null),m(!1)},C=o&&o.originalSentence===o.correctedSentence;return v.jsxs("div",{className:"w-full max-w-3xl mx-auto p-4",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("button",{onClick:n,className:"text-blue-600 hover:text-blue-800",children:"← Back to Home"}),v.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"AI Grammar Check"}),v.jsx("div",{})]}),v.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-2xl shadow-xl",children:[v.jsx("h2",{className:"text-xl font-semibold text-slate-700 mb-3",children:"Enter an English sentence"}),v.jsx("textarea",{value:e,onChange:_=>l(_.target.value),placeholder:"e.g., He don't like apple.",className:"w-full h-32 p-4 border border-slate-300 rounded-lg bg-slate-50 text-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",disabled:f}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[v.jsx("button",{onClick:p,disabled:f||!e.trim(),className:"flex-grow bg-blue-600 text-white font-bold py-3 px-6 rounded-lg text-lg hover:bg-blue-700 transition shadow-md disabled:bg-slate-400 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:f?v.jsx(Et,{}):v.jsxs(v.Fragment,{children:[v.jsx(kg,{className:"w-6 h-6"})," Check Grammar"]})}),v.jsx("button",{onClick:x,disabled:f,className:"flex-grow bg-slate-200 text-slate-700 font-bold py-3 px-6 rounded-lg text-lg hover:bg-slate-300 transition shadow-sm disabled:bg-slate-300",children:"Clear"})]}),h&&v.jsx("p",{className:"mt-4 text-center text-red-500 bg-red-100 p-3 rounded-lg",children:h}),o&&v.jsxs("div",{className:"mt-8 border-t border-slate-200 pt-6 space-y-4",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-sm font-semibold text-slate-500 mb-1",children:"Original Sentence"}),v.jsx("p",{className:"p-3 bg-slate-100 rounded-md text-slate-700",children:o.originalSentence})]}),v.jsxs("div",{children:[v.jsx("h3",{className:`text-sm font-semibold mb-1 ${C?"text-green-600":"text-orange-600"}`,children:C?"Correct Sentence":"Corrected Sentence"}),v.jsx("p",{className:`p-3 rounded-md ${C?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:o.correctedSentence})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-sm font-semibold text-slate-500 mb-1",children:"AIの解説 (Explanation)"}),v.jsx("div",{className:"p-3 bg-blue-50 rounded-md text-blue-900 border border-blue-200 whitespace-pre-wrap leading-relaxed",children:o.explanation_jp})]})]})]})]})},DN=({onSelectCategory:n,onClose:e})=>{const l=["Random",...Lt];return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:e,children:v.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8 w-full max-w-md",onClick:o=>o.stopPropagation(),children:[v.jsx("h2",{className:"text-2xl font-bold text-center text-slate-800 mb-6",children:"Select a Category"}),v.jsx("div",{className:"grid grid-cols-2 gap-4",children:l.map(o=>v.jsx("button",{onClick:()=>n(o),className:"bg-blue-600 text-white font-semibold py-3 px-4 rounded-lg hover:bg-blue-700 transition-transform transform hover:scale-105 shadow-md",children:o},o))}),v.jsx("div",{className:"text-center mt-8",children:v.jsx("button",{onClick:e,className:"text-slate-500 hover:text-slate-700 font-semibold py-2 px-4",children:"Cancel"})})]})})},IN=({onSelectPart:n,onClose:e})=>{const l=["Random",...uc];return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",onClick:e,children:v.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8 w-full max-w-md",onClick:o=>o.stopPropagation(),children:[v.jsx("h2",{className:"text-2xl font-bold text-center text-slate-800 mb-6",children:"Select Listening Part"}),v.jsx("div",{className:"grid grid-cols-2 gap-4",children:l.map(o=>v.jsx("button",{onClick:()=>n(o),className:"bg-teal-600 text-white font-semibold py-3 px-4 rounded-lg hover:bg-teal-700 transition-transform transform hover:scale-105 shadow-md",children:o},o))}),v.jsx("div",{className:"text-center mt-8",children:v.jsx("button",{onClick:e,className:"text-slate-500 hover:text-slate-700 font-semibold py-2 px-4",children:"Cancel"})})]})})};let Vi=null,Ca=!1;const UN=()=>{const[n,e]=L.useState(Ca);return{unlockAudio:L.useCallback(()=>{if(Ca||typeof window>"u"||!(window.AudioContext||window.webkitAudioContext)||(Vi||(Vi=new(window.AudioContext||window.webkitAudioContext)),Vi.state==="suspended"&&Vi.resume(),Ca))return;const o=Vi.createBuffer(1,1,22050),a=Vi.createBufferSource();a.buffer=o,a.connect(Vi.destination),a.start(0),Ca=!0,e(!0),console.log("AudioContext unlocked.")},[]),isAudioUnlocked:n}},kN=()=>{const[n,e]=L.useState(We.Home),[l,o]=L.useState(qi.Beginner),[a,f]=L.useState(!0),[m,h]=L.useState("Initializing..."),[y,p]=L.useState(0),[x,C]=L.useState(!1),[_,M]=L.useState(null),[D,q]=L.useState(!1),[G,Z]=L.useState("Random"),[H,$]=L.useState("Random"),{unlockAudio:X}=UN();L.useEffect(()=>{const R=localStorage.getItem("gemini-api-key");R&&(Uc(R),C(!0))},[]);const J=L.useCallback(async()=>{const R=await rx();return p(R),R},[]);L.useEffect(()=>{(async()=>{f(!0),h("Loading vocabulary from local database...");try{const Y=await J();h(`Database ready. ${Y} items loaded.`)}catch(Y){console.error("Failed to initialize database:",Y),h("Error setting up vocabulary. Please refresh.")}finally{f(!1)}})()},[J]);const ae=L.useCallback(()=>{e(We.Home),J()},[J]),ne=async(R,Y,Q)=>{if(X(),!x)return alert("Please set your API key on the home screen first."),0;const W=await ux(R,Y,Q,1500),de=await cN(R,Y,Q,W);if(!de||de.length===0)return 0;const ee=de.map(Ce=>{const Ue=Q==="all"?Ce.type:Q;return{...Ce,level:Ce.level||(R!==Gl?R:void 0),category:Ce.category||(Y!==Bi?Y:void 0),type:Ue,pos:Ue==="word"?Ce.pos:null}}).filter(Ce=>!Ce.english||!Ce.japanese||!Ce.example_en||!Ce.example_jp||!Ce.level||!Ce.category||!Ce.type?(console.warn("Skipping item with missing core data:",Ce),!1):Ce.type==="word"&&(!Ce.pos||!Object.values(kl).includes(Ce.pos))?(console.warn("Skipping word with invalid or missing POS:",Ce),!1):!0);if(ee.length>0){const Ce=await Ug(ee);return await J(),Ce}return 0},O=(R,Y,Q=!1)=>{if(X(),!x){alert("Please set your Gemini API Key on the home screen to use this feature.");return}o(Y),Q?M(R):e(R)},j=R=>{X(),o(R),e(We.Vocabulary)},ie=R=>{X(),o(R),e(We.Drive)},le=R=>O(We.Reading,R,!0),ue=R=>O(We.Part5,R,!0),Me=R=>O(We.Part6,R,!0),Ne=()=>{if(X(),!x){alert("Please set your Gemini API Key on the home screen to use this feature.");return}e(We.BasicGrammar)},ge=()=>{if(X(),!x){alert("Please set your Gemini API Key on the home screen to use this feature.");return}e(We.GrammarCheck)},A=R=>{if(X(),!x){alert("Please set your Gemini API Key on the home screen to use this feature.");return}o(R),q(!0)},K=R=>{$(R),q(!1),M(We.Listening)},oe=()=>{X(),e(We.WordList)},V=R=>{_&&(Z(R),e(_),M(null))},b=()=>{switch(n){case We.Vocabulary:return v.jsx(xN,{level:l,onGoHome:ae});case We.Reading:return v.jsx(CN,{level:l,onGoHome:ae,initialCategory:G});case We.Drive:return v.jsx(_N,{level:l,onGoHome:ae});case We.Listening:const R=H==="Random"?uc[Math.floor(Math.random()*uc.length)]:H;return v.jsx(EN,{level:l,onGoHome:ae,initialCategory:G,part:R});case We.Part5:return v.jsx(AN,{level:l,onGoHome:ae,initialCategory:G});case We.Part6:return v.jsx(wN,{level:l,onGoHome:ae,initialCategory:G});case We.WordList:return v.jsx(MN,{onGoHome:ae});case We.BasicGrammar:return v.jsx(NN,{onGoHome:ae});case We.GrammarCheck:return v.jsx(RN,{onGoHome:ae});case We.Home:default:return v.jsx(vN,{onStartVocabulary:j,onStartReading:le,onStartDrive:ie,onStartListening:A,onStartPart5:ue,onStartPart6:Me,onStartBasicGrammar:Ne,onStartGrammarCheck:ge,onViewWordList:oe,onImportJson:J,onAiCollect:ne,dbWordCount:y,isInitializing:a,initStatus:m,isApiKeySet:x,onApiKeyUpdate:C})}};return v.jsxs("div",{className:"min-h-screen bg-slate-100 font-sans flex flex-col items-center p-4",children:[D&&v.jsx(IN,{onSelectPart:K,onClose:()=>q(!1)}),_&&v.jsx(DN,{onSelectCategory:V,onClose:()=>M(null)}),v.jsx("main",{className:"w-full max-w-4xl mx-auto",children:b()})]})},gy=document.getElementById("root");if(!gy)throw new Error("Could not find root element to mount to");const LN=F0.createRoot(gy);LN.render(v.jsx(V0.StrictMode,{children:v.jsx(kN,{})}));
